;村雨麗華の基本ＣＮＳ。
;//////////////////////////////////////////////////////////////////////////////
;変数一覧
;基本部分|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;var(1)　　　　　　 ・・・
;var(2)　　　　　　 ・・・ 小ジャンプ
;ver(3)　 　　　　  ・・・ 小ジャンプ
;ver(4)　 　　　　  ・・・ ダッシュ効果線のランダム・カットインの目パチアニメ用
;ver(5)　 　　　　  ・・・ 斬撃ＨＩＴ時のマークコントロールのランダムフラグ
;ver(6)　 　　　　  ・・・ 斬撃ＨＩＴ時のマークコントロールのランダムフラグ
;var(7)　　　　　　 ・・・ 斬撃ＨＩＴ時のマークコントロール （めくり用）
;var(8)　　　　　　 ・・・ カットインの判定

;var(10)　　　　　　・・・ 剣気（武器の攻撃力補正）
;var(11)　　　　　　・・・ 負け数
;var(12)　　　　　　・・・ ファイナルダウン判定
;var(13)　　　　　　・・・ ランダム判定
;var(14)　　　　　　・・・ カットインのセリフセレクト

;var(15)　　　　　　・・・ 旋風剣ヒット時の暫裂拳っぽい処理
;var(16)　　　　　　・・・ ムラサメブラスター(１４斬)のダメージ計算
;var(17)　　　　　　・・・ ヒットカウント ＊１４斬演出用なのでテキトーです。
;var(18)　　　　　　・・・ カウンターによる攻撃力補正処理
;var(19)　　　　　　・・・ カウンター処理の補助

;var(20)　　　　　　・・・ P１ライフ
;var(21)　　　　　　・・・ P２ライフ

;var(22)　　　　　　・・・ 攻撃力補正処理

;var(30)　　　　　　・・・ エフェクトの減算
;//////////////////////////////////////////////////////////////////////////////
[Data]
;体力ゲージの初期値
life = 1000
;攻撃ダメージ
attack = 100
;体力パワー
defence = 100
;防御力上昇値
fall.defence_up = 50
;ダウンタイム
liedown.time = 60
;ジャグルポイント
airjuggle = 15
;ヒットエフェクト
sparkno = 2
;ガードエフェクト
guard.sparkno =s2
;ＫＯエコー
KO.echo = 0
;音量
volume = 255
;バーの持ち越し関係（多分、以前使った記憶が
IntPersistIndex = 11
FloatPersistIndex = 40

[Size]
xscale = 1          ;Horizontal scaling factor.
yscale = 1        ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.0      ;Walk forward
walk.back = -1.9     ;Walk backward
run.fwd  = 4.8, 0    ;Run forward (x, y)
run.back = -3.0,-4.8 ;Hop backward (x, y)
jump.neu = 0,-9.0    ;Neutral jumping velocity (x, y)
jump.back = -2.2    ;Jump back Speed (x, y)
jump.fwd = 2.8       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

;--------------------------------------- 負け（時間切れ）
[State -2, 4]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = p2life != 0
value = 400,8
channel = 5
;---------------------------------------

;--------------------------------------- 負け（相打ち）
[State -2, 4]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = p2life = 0
value = 400,9
channel = 5
;---------------------------------------

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;１つ目負け
[Statedef 5151]
type = L
velset = 0,0
anim = 5151

;--------------------------------------- 負け
[State -2, 4]
type = PlaySnd
trigger1 = AnimElem = 8
trigger1 = p2life <= 500
value = 11,3
channel = 5
;---------------------------------------

;---------------------------------------　完敗
[State -2, 4]
type = PlaySnd
trigger1 = AnimElem = 8
trigger1 = p2life > 500
value = 11,4
channel = 5
;---------------------------------------

[State 5151, 0]
type = varset
trigger1 = Time = 0
v = 11
value = 1

[State 5151, 0]
type = varset
trigger1 = 1
v = 12
value = 0

[State 5151, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 5151, 1]
type = AssertSpecial
trigger1 = Time = [0,150]
flag = RoundNotOver

[State -3,起き上がり音]
type = PlaySnd
trigger1 = AnimElem = 5
value = s40,0
;volume = 255

[State 5151, 3]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

;１
[State 180, Win 1 Choice]
type     = ChangeState
triggerall = MatchOver = 0
trigger1 = RoundState = 4
value    = 181

;２
[State 180, 1]
type = ChangeState
triggerall = MatchOver = 1
trigger1 = RoundState = 4
value = 6000

;---------------------------------------------------------------------------
; 勝利２つ目
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 191, 3] ;
type = ChangeState
trigger1 = Time = 0
trigger1 = Random <= 500
value = 185

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = s400,2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,8

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = s800,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝利１つ目
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 9
value = s400,3

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,8

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = s800,0

[State 6000,髪の毛パーツ]
type = Helper
trigger1 = AnimElem = 9
postype = p1
pos = 0,0
stateno = 186
name = "kaminoke"
id = 186
ownpal = 0
supermove = 0
pausemovetime = 0

[State -2, 口パク]
type = Explod
trigger1 = AnimElem = 9
anim = 187
pos = 0,0
postype = p1
sprpriority = 2
supermove = 1
;supermovetime =8
bindtime = -1
removetime =50
ownpal = 0
vel = 0,0
;scale  =0.8,0.5

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 髪の毛パーツ
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 2501]
type = bindtoroot
trigger1 = parent,Alive = 1
pos = -5,-95
time = -1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 15.0

[State 2027, 5]
type = Angleset
trigger1 = Time = 30
value = -30.5

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 1
trigger1 = Time < 30
value = -2.3;17.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;[State 10000, 6]
;type = DestroySelf
;trigger1 = Time = 30


;---------------------------------------------------------------------------
; 勝利２つ目(麗華のみ）
[Statedef 6004]
type = S
ctrl = 0
anim = 6004
velset = 0,0

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,120]
flag = RoundNotOver

;---------------------------------------------
[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = life < 500
value = 400,5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = life >= 500
value = 400,4
;---------------------------------------------
[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,8

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 18
value = s10,4

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 11
trigger1 = numhelper(6001)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "katana"
stateno = 6001
ID = 6001
pos =  40,-105
postype = p1
;pos =0,0
;postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; 勝利２つ目
[Statedef 6000]
type = S
ctrl = 0
anim = 6000
velset = 0,0

[State 5151, 0]
type = AssertSpecial
trigger1 = Time = [0,250]
flag = RoundNotOver

;---------------------------------------------
[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = life < 500
value = 400,5

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = life >= 500
value = 400,4
;---------------------------------------------
[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,8

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 18
value = s10,4

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 21
value = s400,7

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 11
trigger1 = numhelper(6001)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "katana"
stateno = 6001
ID = 6001
pos =  40,-105
postype = p1
;pos =0,0
;postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 5
trigger1 = numhelper(6002)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "syani_win"
stateno = 6002
ID = 6002
pos =  50,-320
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;winシーンヘルパー
[Statedef 6002]
type = A
physics = N
velset =  0,0
anim = 6002
sprpriority = 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 802, 0]
type = VelSet
trigger1 = Time >=1
x = 0
y = 8.5

[State -3,]
type = PlaySnd
trigger1 = Time = 0
value = 5,0

[State 210, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 6003
;---------------------------------------------------------------------------
;winシーンヘルパー2
[Statedef 6003]
type = S
physics = N
velset =  0,0
anim = 6003
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 400,6

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 450,8

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2103, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State -3,着地音]
type = PlaySnd
trigger1 = Time = 0
value = s40,0

[State -2, 着地煙１]
type = Explod
trigger1 = Time = 0
anim = 182
pos = 3,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = 1,0
scale  =0.8,0.5

[State -2, 着地煙２]
type = Explod
trigger1 = Time = 0
anim = 182
pos = -3,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = -1,0
scale  =0.8,0.5
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 3] ;
type = ChangeState
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
;服有りイントロ 予備？
[Statedef 171]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 40, 9]; 剣気セット
type = VarSet
trigger1 = Time = 0
v = 10
value = 100

[State -2,]
type = varset
trigger1 = Time = 0
v = 11
value = 0

[State 191, 3] 
type = ChangeState
trigger1 = Time = 20
value = 165

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 190]
type = S
ctrl = 0
anim = 189
velset = 0,0

[State 40, 9]; 剣気セット
type = VarSet
trigger1 = Time = 0
v = 10
value = 100

[State -2,]
type = varset
trigger1 = Time = 0
v = 11
value = 0

[State 191, 3] ;
type = ChangeState
trigger1 = Time = 0
trigger1 = Random <= 700
value = 160


[State -2, 口パク]
type = Explod
trigger1 = AnimElem = 9
anim = 6001
id=6001
pos = 0,0
postype = p1
sprpriority = 2
supermove = 1
;supermovetime =8
bindtime = -1
removetime =80
ownpal = 0
vel = 0,0
;scale  =0.8,0.5

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = s450,0
channel = 5

[State 230, 1];ボイス
type = PlaySnd
trigger1 = time = 65
value = s450,6
channel = 5

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 9
value = s450,1
channel = 5

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 10
value = s0,8

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 12
value = s800,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;服有りイントロ
;シャニ退場
[Statedef 160]
type = S
ctrl = 0
anim = 190
velset = 0,0

;[State 191, 3] ;
;type = ChangeState
;trigger1 = Time = 0
;trigger1 = Random <= 500
;value = 171

[State 40, 9]; 剣気セット
type = VarSet
trigger1 = Time = 0
v = 10
value = 100

[State -2,]
type = varset
trigger1 = Time = 0
v = 11
value = 0

;--------------------------------
[State 2100, 2]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "syani"
ID = 161
stateno = 161
pos = 35,0
postype = p1
facing = 1
keyctrl = 0
;ownpal = 1
;--------------------------------

;----------------------------------
[State 230, 1];ボイス
type = PlaySnd
trigger1 = Time = 185
value = s450,3
channel = 5
;----------------------------------

[State -2, 口パク]
type = Explod
trigger1 = Time = 185
anim = 164
id=164
pos = 0,0
postype = p1
sprpriority = 2
;supermove = 1
;supermovetime =8
bindtime = -1
removetime =100
ownpal = 0
vel = 0,0
;scale  =0.8,0.5

[State 191, 3] ; シャニが消えたらチェンジステイト。
type = ChangeState
trigger1 = Time >= 10
trigger1 = numhelper(161) = 0
trigger1 = numExplod(164) = 0
value = 165

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

;---------------------------------------------------------------------------
;服有りイントロ２　
;服脱ぎ捨て
[Statedef 165]
type = S
ctrl = 0
anim = 191
velset = 0,0

;----------------------------------
[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
value = s450,5
channel = 5
;----------------------------------
[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,1

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,4

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 2
trigger1 = numhelper(193)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "katana"
stateno = 193
ID = 193
pos = -15,-150
postype = back
;pos =0,0
;postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 6
trigger1 = numhelper(192)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "fuku"
stateno = 192
ID = 192
pos =20,-100
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;-------------------------------------------------------------------
; シャニ　イントロ用ヘルパー
[Statedef 161]
type    = S
physics = S
;movetype= A
velset = 0,0
anim = 161
ctrl = 0
sprpriority = 2

[State -3,  声]
type = PlaySnd
trigger1 = Time = 50
value = s450,2

[State -3,  声]
type = PlaySnd
trigger1 = Time = 80
value = s450,7

[State -3, 刀音]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,8

[State -3,靴音]
type = PlaySnd
trigger1 = AnimElem = 6
value = s800,0

[State -3, ]
type = PlaySnd
trigger1 = AnimElem = 12
value = s450,4

[State -2, 口パク]
type = Explod
trigger1 = Time = 50
anim = 163
pos = 0,0
postype = p1
sprpriority = 3
;supermove = 1
;supermovetime =8
bindtime = -1
removetime =90
ownpal = 0
vel = 0,0
;scale  =0.8,0.5

[State 191, 3]
type = ChangeState
trigger1 = Time = 312
value = 162
;-------------------------------------
[Statedef 162]
type = S
movetype = I
physics = S
anim = 162
velset = 0,0
sprpriority = 2

[State -3, 刀音]
type = PlaySnd
trigger1 = AnimElem = 1
value = s0,8

[State -3,ジャンプ音]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,0

[State -2, バックダッシュエフェクト]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
scale  =0.5,0.8
;IgnoreHitPause = 1
;removeongethit = 1
anim = 177
id=177
pos = 0,0
postype = p1
sprpriority = 3
bindtime = 1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 2104, 1]
type = veladd
trigger1 = AnimElem = 4, >= 0
x = -1.8
y = -0.8

[State 2104, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 2104, 9]
type = DestroySelf
trigger1 = time >= 10
trigger1 = backedgedist <= -80


;-------------------------------------------------------------------------------------------
;  服
[Statedef 192]
type    = S
physics = S
velset = 0,0
anim = 192
ctrl = 0
sprpriority = 3

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 2
value = -1

[State 830, 0]
type = Velset
trigger1 = time > 3
x = -2.5

[State 830, 0]
type = Velset
trigger1 = Animelem =2
;x = -6.0
y = -1.0

[State 2102, 1]
type = veladd
trigger1 = time > 15
;x = 3.5
y = .35

;[State 2821]
;type = AssertSpecial
;trigger1 = 1
;Time = 1
;flag = noshadow

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = Angleset
trigger1 = Animelem =2
value = -40.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 0;5
value =1.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 2104, 9]
type = DestroySelf
trigger1 = Time = 30

;-------------------------------------------------------------------
;刀パーツ
[Statedef 193]
type    = S
physics = S
velset = 2.2,0
anim = 193
ctrl = 0
sprpriority = -1

[State 410, 1]
type = PlaySnd
trigger1 = (GameTime%5) =1;Time = 0
value = 0, 6
channel = 5

[State 830, 0]
type = Velset
trigger1 = time > 1
x = 4

[State 2101, 1]
type = veladd
trigger1 = time > 1
y = .37

;[State 2501]
;type = bindtoroot
;trigger1 = parent,Alive = 1
;pos =-10,-45
;time = -1

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 1
value = 30.0;17.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 10000, 6]
type = DestroySelf
trigger1 = Time = 25
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = ChangeState
trigger1 = Random <= 500
trigger1 = Time = 0
value = 196

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 16
value = s800,0

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s400,0

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt2
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = s800,0

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s400,1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; パンチ（近距離）
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 2                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 0                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil(15+Var(18)/2), 0                   ;Damage that move inflicts, guard damage
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s704                      ;Spark anim no (Def: set above)
guard.sparkno =s2
sparkxy = 0, -65               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound =s10,0
guardsound =s10,9
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 4             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -3.5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air
id=200

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 200
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 1071, 4]
type = ChangeState
triggerall=Time >= 1
triggerall= Command ="a"
trigger1=movehit!=0
trigger2=MoveGuarded!=0
value = 235

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; パンチ（遠距離）
[Statedef 205]
type    = S                      ;
movetype= A                      ;
physics = S                      ;
juggle  = 1                      ;
velset = 0,0                     ;
ctrl = 0                         ;
anim = 205                      ;
poweradd = 0                    ;
sprpriority = 2                  ;

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA                     ;
damage = ceil(24+Var(18)/2), 0                   ;
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
animtype = Light                 ;
guardflag = MA                   ;
hitflag = MA                    ;
priority = 3, Hit                ;
pausetime = 7, 8                 ;
sparkno = s704                     ;
guard.sparkno =s2
sparkxy = 10, -65               ;
hitsound =s10,0
guardsound =s10,9
ground.type = High               ;
ground.slidetime = 5             ;
ground.hittime  = 10             ;
ground.velocity = -3.5             ;
airguard.velocity = -1.9,-.8     ;
air.type = High                  ;
air.velocity = -1.4,-3           ;
air.hittime = 12                 ;
id=205

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 205
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;立ち小斬り　（近距離）
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = Medium
damage =ceil(90*Var(10)/100)+Var(18), 5
;--------------------
getpower = 60,30
givepower =15,0
;--------------------
guardflag = M
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy = -10,-50
hitsound =s10,7
guardsound =s10,9
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -8.0
air.velocity = -4.2,-4.5
id=210

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

[State 2100, 2];血
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 210
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =0,-50
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-----------------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 210
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-50
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 210
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 210
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター
;-----------------------------------------------
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 213
pos = 0,0
postype = p1
sprpriority = -1
bindtime = -1
removetime =2
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=213

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 7
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 211
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=211

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 8
id = 211

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 212
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =6
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=212


[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 7
value = 2

;[State 100 , 1]
;type = VelSet
;trigger1 = AnimElem = 6
;x = 1

;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 250
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;立ち小斬り　（遠距離）
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 220
sprpriority = -1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0, 7

[State -2, 着地煙２]
type = Explod
trigger1 = AnimElem = 7
anim = 182
pos = -15,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = -0.5,0
scale  =0.5,0.5

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = Medium
damage =ceil(60*Var(10)/100)+Var(18), 5
;--------------------
getpower = 40,20
givepower =10,0
;--------------------
hitflag = MA
guardflag = L
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy = -10,-10
hitsound =s10,7
guardsound =s10,9
ground.type = Low;High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -8.0
air.velocity = -4.2,-4.5
id=220

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = Medium
damage =ceil(70*Var(10)/100)+Var(18), 5
;--------------------
getpower = 40,20
givepower =10,0
;--------------------
hitflag = MA
guardflag = M
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy = -10,-15
hitsound =s10,2
guardsound =s10,9
ground.type = Trip
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -1.5,-3.0
air.velocity = -2.2,-2.0
fall = 1
air.recover = 0
fall.recover = 1
yaccel = .30
id=221

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1
;--------------------------------------------- エフェ１
[State 2100, 2];血
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 220
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =-5,-10
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 220
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =-5,-10
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 220
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;--------------------------------------------- エフェ２
;[State 2100, 2];血
;type = Helper
;triggerall = movehit && NumTarget
;trigger1 = target,GetHitVar(chainid) = 221
;Persistent = 0
;IgnoreHitPause = 1
;helpertype = normal
;name = "chi"
;ID = 706
;pos =5,-15
;postype = p2
;stateno = 706
;pausemovetime = 9999
;supermovetime = 9999
;bindtime = 1
;keyctrl = 0
;ownpal = 1
;-------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 221
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =5,-15
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 221
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 220
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 7
value = 2

[State 100 , 1]; 前進
type = VelSet
trigger1 = AnimElem = 6
x = 2.0

;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 250
ctrl = 0

;------------------------------
[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 6
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 213
pos = 2,-3
postype = p1
sprpriority = -1
bindtime = -1
removetime =2
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=213

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 7
id = 213

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 7
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 225
id=225
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 8
id = 225

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 226
id=226
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 10
id = 226

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 10
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 227
id=227
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =8
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
;------------------------------


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ちふっとばし
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 0
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 40, 0

[State -2, エフェクト]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
scale  =0.5,1.5
;IgnoreHitPause = 1
;removeongethit = 1
anim = 173
id=173
pos = 5,0
postype = p1
sprpriority = 4
bindtime = 1
removetime =20
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State -2, 着地煙１]
type = Explod
trigger1 = AnimElem = 9
anim = 182
pos = 35,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = 0.5,0
scale  =0.5,0.5

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = Medium
hitflag = MA
guardflag = HA
damage = ceil(200*Var(10)/100)+Var(18)+Var(22),10
;--------------------
getpower = 120,60
givepower = 30,0
;--------------------
;guardflag = MA
pausetime = 5,12
sparkno =s710
guard.sparkno =s2
sparkxy = 0,-40
hitsound =s10,2
guardsound =s10,9
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4
envshake.time = 15
envshake.ampl = 20
envshake.freq = 70
p2stateno = 4015
id=240

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------------
[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-50
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =90,-30
postype = p1
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "koukasen"
ID = 1502
pos =0,0
postype = p1
stateno = 1502
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

;-------------------------------------------------
[State 330, 1]
type = BGPalFX
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
time = 2
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 2100, ガード]
type = Helper
triggerall = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 240
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "Guarded"
stateno = 3
ID = 3
pos =0,-55
postype = p2
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;ガード分岐3
[State 830, 4]
type = ChangeState
triggerall = MoveGuarded = 1
trigger1 = PrevStateNo = 10
value = 450
ctrl = 0

;ガード分岐2
[State 830, 4]
type = ChangeState
triggerall = MoveGuarded = 1
trigger1 = PrevStateNo = 11
value = 450
ctrl = 0

;ガード分岐1
[State 830, 4]
type = ChangeState
triggerall = MoveGuarded = 1
trigger1 = PrevStateNo != 11
trigger2 = PrevStateNo != 10
value = 250
ctrl = 0

[State 110, 4]
type =AfterImage
trigger1 = time = 1
time = 25
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1


[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 241
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=241

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 10
id = 241

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 10
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 242
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =4
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=242


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ちキック（遠距離）
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State -2, 着地煙２]
type = Explod
trigger1 = AnimElem = 4
anim = 182
pos = -15,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = -0.5,0
scale  =0.5,0.5

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = ceil(30+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
hitflag = MA
guardflag = MA
pausetime =8,15
sparkno = s704
guard.sparkno =s2
sparkxy = 15,-50
hitsound =s10,1
guardsound =s10,9
ground.type = Low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -5
air.velocity = -2.5,-3.5
id=230

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 230
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ちキック（近距離）
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 235
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = ceil(25+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = MA
pausetime = 6, 8
sparkno = s704
guard.sparkno =s2
sparkxy = 0,-35
hitsound =s10,0
guardsound =s10,9
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -5
air.velocity = -2.5,-3.5
id=235

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

[State 110, 4]
type =AfterImage
triggerall = time = 1
trigger1 = PrevStateNo = 200
time = 10
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State 2100, 2]
type = Helper
;triggerall = movehit!=0
trigger1 = PrevStateNo = 200
trigger1 = numhelper(1501)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "backhitover"
ID = 1501
pos =-20,0
postype = p1
stateno = 1501
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 100 , 1]
type = VelSet
triggerall = AnimElem = 1
trigger1 = PrevStateNo = 200
x = 2

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 235
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 1071, 4]
type = ChangeState
triggerall = PrevStateNo = 200
triggerall=Time >= 1
triggerall= Command ="maea"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 238

[State 1071, 4]
type = ChangeState
triggerall = PrevStateNo = 200
triggerall=Time >= 1
triggerall= Command ="BB"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 105

[State 1071, 4]; 裏旋風
type = ChangeState
triggerall = PrevStateNo = 200
triggerall=Time >= 1
triggerall= Command ="ura"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 1400

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;レバー入れ立ちキック
[Statedef 238]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 238
sprpriority = 2

[State 1071, 4]; 裏旋風
type = ChangeState
triggerall = PrevStateNo = 230 || PrevStateNo = 235
triggerall=Time >= 1
triggerall= Command ="ura"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 1400

[State 110, 4]
type =AfterImage
triggerall = time = 1
trigger1 = PrevStateNo = 230
trigger2 = PrevStateNo = 235
time = 10
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State 2100, 2]
type = Helper
;triggerall = movehit !=0
;triggerall = numhelper(1500)= 0
trigger1 = PrevStateNo = 230
trigger2 = PrevStateNo = 235
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "backhitover"
ID = 1500
pos =20,0
postype = p1
stateno = 1500
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 100 , 1]
type = VelSet
triggerall = time = 1
trigger1 = PrevStateNo = 230
trigger2 = PrevStateNo = 235
x = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 14
value = s800,0

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = Medium
damage    = ceil(40+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = MA
pausetime =10,15
sparkno = s704
guard.sparkno =s2
sparkxy = 10,-55
hitsound =s10,1
guardsound =s10,9
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-3.5
id=238

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 238
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみパンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = ceil(18+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = M
pausetime = 6,8
sparkno = s704
guard.sparkno =s2
sparkxy = 10,-40
hitsound =s10,0
guardsound =s10,9
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
id=400


[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 400
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ斬り
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 0
ctrl = 0
anim = 410
sprpriority = 2

[State 3000, Width]
type = Width
trigger1 = AnimElem = 4, >= 0
value = 30,0

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 6

[State -2, 着地煙１]
type = Explod
trigger1 = AnimElem = 3
anim = 182
pos = -25,0
postype = p1
sprpriority = 3
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = 1,0
scale  =0.5,0.5

;[State -2, エフェクト]
;type = Explod
;trigger1 = AnimElem = 4
;Persistent = 0
;scale  =0.5,1.5
;;IgnoreHitPause = 1
;;removeongethit = 1
;anim = 177
;id=177
;pos = 30,0
;postype = p1
;sprpriority = 4
;bindtime = 1
;removetime =20
;ownpal = 1
;vel = 0,0
;Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage = ceil(100*Var(10)/100)+Var(18), 5;damage    = 85,10
;--------------------
getpower = 60,30
givepower =15,0
;--------------------
guardflag = M
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy =-10,-70
hitsound =s10,2
guardsound =s10,9
ground.type = High
ground.slidetime = 22
ground.hittime  = 25
ground.velocity = -3.5,-4
air.velocity = -3.8,-4.2
air.fall = 1
id=410

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-----------------------------------------------
[State 2100, 2];血
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 410
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =0,-60
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 410
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-60
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 410
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 410
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

;-----------------------------------------------

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 3
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 411
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=411

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 5
id = 411

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 412
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =5
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=412



;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 450
ctrl = 0


[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみキック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 0
ctrl = 0
anim = 430
sprpriority = 2

[State 2100, 2]
type = Helper
;triggerall = movehit !=0
;triggerall = numhelper(1500)= 0
trigger1 = PrevStateNo = 230
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "backhitover"
ID = 1500
pos =0,0
postype = p1
stateno = 1500
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 110, 4]
type =AfterImage
triggerall = time = 1
trigger1 = PrevStateNo = 230
time = 10
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State 100 , 1]
type = VelSet
triggerall = AnimElem = 1
trigger1 = PrevStateNo = 230
x = 2.5

[State 1071, 4]; 裏旋風
type = ChangeState
triggerall = PrevStateNo = 230
triggerall=Time >= 1
triggerall= Command ="ura"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 1400

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 802, 0]
type = VelSet
trigger1 = Time = (11,15)
x = 1.5
y = 0

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage    = ceil(50+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
hitflag = MAF
guardflag = L
pausetime = 9,9
sparkno = s704
guard.sparkno =s2
sparkxy =10,-15
hitsound =s10,1
guardsound =s10,9
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1
id=430

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 430
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプパンチ（斜め）
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
Persistent = 0
attr = A, NA
damage    = ceil(24+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = HA
priority = 3
pausetime = 5,12
sparkno = s704
guard.sparkno =s2
sparkxy = -10,-35
hitsound =s10,0
guardsound =s10,9
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
id=600


[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 600
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 1071, 4]
type = ChangeState
triggerall=Time >= 1
triggerall= Command ="maea"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 1416

;---------------------------------------------------------------------------
;ジャンプパンチ（垂直）
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 0
ctrl = 0
anim = 605
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
Persistent = 0
attr = A, NA
damage    = ceil(20+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = HA
priority = 3
pausetime = 7,14
sparkno = s704
guard.sparkno =s2
sparkxy = 0,-65
hitsound =s10,0
guardsound =s10,9
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
id=605


[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 605
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 1071, 4]
type = ChangeState
triggerall=Time >= 1
triggerall= Command ="maea"
trigger1=movehit!=0
trigger2=MoveGuarded !=0
value = 1416

[State 600, 3]
type = CtrlSet
trigger1 = Time = 15
value = 1
;---------------------------------------------------------------------------
;ジャンプ斬り （斜め）
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 2
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 611
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=211

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 5
id = 211

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 612
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =3
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=212

[State 610, 3]
type = HitDef
trigger1 = AnimElem = 4
Persistent = 0
attr = A, NA
damage = ceil(85*Var(10)/100)+Var(18), 5;damage = 70,10
;--------------------
getpower = 60,30
givepower =15,0
;--------------------
guardflag = HA
priority = 4
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy = -10,-10
hitsound =s10,5
guardsound =s10,9
animtype = Med
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -9
air.velocity = -5,-5
id=610

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;------------------------------------------------------- 演出
[State 2100, 2];血
type = Helper
triggerall = movehit && NumTarget
trigger1 = var(7) = 0
trigger1 = target,GetHitVar(chainid) = 610
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =0,-60
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = var(7) = 0
trigger1 = target,GetHitVar(chainid) = 610
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-60
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 330, 1]
type = BGPalFX
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 610
time = 1
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 610
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 610
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

;------------------------------------------------------- 演出

[State -2, zanhit var]
type = varset
trigger1 = numHelper(1503) = 1
;trigger1 = var(7) = 1
v = 7
value = 1


;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 650
ctrl = 0
;---------------------------------------------------------------------------
;ジャンプ斬り（垂直）
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 0
ctrl = 0
anim = 615
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 610, 3]
type = HitDef
trigger1 = AnimElem = 5
Persistent = 0
attr = A, NA
damage = ceil(100*Var(10)/100)+Var(18),5;damage = 65,10
;--------------------
getpower = 60,30
givepower =15,0
;--------------------
guardflag = HA
priority = 4
pausetime = 5,12
sparkno =s705
guard.sparkno =s2
sparkxy = 0,-10
hitsound =s10,6
guardsound =s10,9
animtype = Med
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -10.0
air.velocity = -4.5,-4
id=612

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-----------------------------------------------
[State 2100, 2];血
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 612
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =0,-50
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 612
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-50
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 330, 1]
type = BGPalFX
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 612
time = 1
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 612
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 612
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター
;-----------------------------------------------

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 4
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 616
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =7
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=616

;[State -2, kesu]
;type = removeExplod
;trigger1 = AnimElem = 6
;id = 616

;[State -2, エフェクト2]
;type = Explod
;trigger1 = AnimElem = 6
;Persistent = 0
;;IgnoreHitPause = 1
;removeongethit = 1
;anim = 617
;pos = 0,0
;postype = p1
;sprpriority = 3
;bindtime = -1
;removetime =10
;ownpal = 1
;vel = 0,0
;Pausemovetime=0
;;supermove = 1
;;supermovetime =8
;id=617

;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 650
ctrl = 0

;---------------------------------------------------------------------------
;ジャンプキック（斜め）
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 7
poweradd= 0
ctrl = 0
anim = 630
sprpriority = 2

;[State 105, 5]; 小ジャンプの場合
;type = ChangeState
;trigger1 = var(3) = 1
;value = 635

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 630, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = ceil(10+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = HA
priority = 3
pausetime = 7,7
sparkno = s704
guard.sparkno =s2
sparkxy = -5,-30
hitsound =s10,0
guardsound =s10,9
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3
id=630

[State 1100, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Up
damage    = ceil(20+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
priority  = 5
guardflag = MA
;hitflag = MA
pausetime = 7,7
sparkno = s704
guard.sparkno =s2
sparkxy = 0,-45
hitsound =s10,1
guardsound =s10,9
ground.type = Low
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -1,-9.5
guard.velocity = -6
air.velocity = -1,-7.5
airguard.velocity = -4,-4.5
p2facing = 1
fall = 1
fall.recovertime = 40
yaccel = .4
id=631

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 630 || target,GetHitVar(chainid) = 631
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Trigger1 = Hitcount = 1
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;---------------------------------------------------------------------------
;ジャンプキック（垂直）
[Statedef 635]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 0
ctrl = 0
anim = 635
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 5
Persistent = 0
attr = A, NA
damage    = ceil(30+Var(18)/2)
;--------------------
getpower = 20,5
givepower =10,0
;--------------------
guardflag = HA
priority = 3
pausetime = 9,14
sparkno = s704
guard.sparkno =s2
sparkxy = -10,-40
hitsound =s10,0
guardsound =s10,9
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
id=635

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 635
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

;---------------------------------------------------------------------------
; ジャンプふっとばし
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 12
value = 0, 2

[State 640, 3]
type = HitDef
trigger1 = AnimElem = 7
Persistent = 0
attr = A, NA
damage = ceil(180*Var(10)/100)+Var(18)+Var(22),10;damage    = 90,10
;--------------------
getpower = 120,60
givepower = 30,0
;--------------------
guardflag = HA
hitflag = MA
priority = 4
pausetime = 5,12
sparkno =s710
guard.sparkno =s2
sparkxy = 0,-15
hitsound =s10,2
guardsound =s10,9
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3.2,-7
guard.velocity = -5
air.velocity = -3.0,-5
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = 20
envshake.freq = 70
id=640

[State 200]
Type = VarAdd
Trigger1 = MoveHit != 0
Persistent = 0
IgnoreHitPause = 1
V = 17
Value = 1
;-----------------------------------------------
[State 2100, ガード]
type = Helper
triggerall = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "Guarded"
stateno = 3
ID = 3
pos =0,-55
postype = p2
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "zanhit"
ID = 1503
pos =0,-50
postype = p2
stateno = 1503
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1


[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi"
ID = 706
pos =0,-60
postype = p2
stateno = 706
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 330, 1]
type = BGPalFX
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
time = 2
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "raigeki"
ID = 643
pos =0,-60
postype = p2
stateno = 643
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "srow"
ID = 1505
pos =0,0
postype = p1
stateno = 1505
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 640
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター
;-----------------------------------------------

[State -2, エフェクト1]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 641
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =-1
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=641

[State -2, kesu]
type = removeExplod
trigger1 = AnimElem = 8
id = 641

[State -2, エフェクト2]
type = Explod
trigger1 = AnimElem = 8
Persistent = 0
;IgnoreHitPause = 1
removeongethit = 1
anim = 642
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
removetime =5
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8
id=642


;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 650
ctrl = 0
;---------------------------------------------------------------------------
;ガードキャンセル
[Statedef 350]
type    = S
movetype= A
physics = S
juggle  = 13
poweradd= -1000
velset = 0,0
anim = 350
ctrl = 0
sprpriority = 2

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
v = 10
value = -8

[State 3000, Width]
type = Width
trigger1 = AnimElem = 5, >= 0
value = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 350, 1]
type = Pause
trigger1 = Time = 0
time = 5
movetime = 5

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = s600,9
;channel = 5

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 14
value = s800,0

[State -3,Ｉフィールド ] 
type = PalFX
trigger1 = time = 0
time =5
add = 30,140,220
ignorehitpause = 1

[State 3050, Super B]
type = AfterImage
trigger1 = Time = 0
time = 15
TimeGap  = 1
;FrameGap = 1
length = 12
palcolor = 200
palBright   =   0, 20,180
palContrast = 150,220,255
palAdd      = -150,-70,-50
palMul      =   1,  1,  1
trans = none;add1

[State 3050, Super B]
type = AfterImage
trigger1 = AnimElem = 10
time = 0

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 178

[State -2, バックダッシュエフェクト]
type = Explod
trigger1 = AnimElem = 5
Persistent = 0
;scale  =0.7,0.6
;IgnoreHitPause = 1
;removeongethit = 1
anim = 179
id=179
pos = 35,0
postype = p1
sprpriority = 3
bindtime = 1
removetime =24
ownpal = 1
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 15
;--------------------
getpower = 0,0
givepower =0,0
;--------------------
guardflag = MA
pausetime = 17,17
sparkxy = -10,-50
sparkno = s704
guard.sparkno =s2
;guard.sparkno	=s690
hitsound = s10, 1
guardsound = s10,9
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -7
air.velocity = -5,-5
p2stateno = 4015
id=238

[State 3500 ]
type = BGPalfx    
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 238
ignorehitpause = 1
persistent = 0
time = 1
add = 255,255,255
;invertall = 1

[State 2100, 2]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 238
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "koukasen"
ID = 1502
pos =0,0
postype = p1
stateno = 1502
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 400, 1]
type =PosFreeze
trigger1=P2StateNo =4016
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;早いカンフー突き手のワイヤーダメージ
;-------------------------------------------------------
[Statedef 4015]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1610, 1] 
type = PosFreeze
trigger1 = time = 0
x = 0 
y = 0 


[State 802, 0]
type = VelSet
trigger1 = 1
y = 0

[State 8601, 1]
type = Turn
trigger = time = 0
trigger1 = p2dist X < -25

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 4015;1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 4016
;------------------
[Statedef 4016]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
x = -2.5

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1


[State 191, 4] 
type = EnvShake
triggerall = Pos y < -10
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
time = 12
ampl = 6
freq = 600
phase = 600

[State 1026, Hit wall]
type = ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 4017

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; 2P
[Statedef 4017]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 100 , 3]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time = 0
value = 4017;5005

[State 191, 4] 
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = 15
freq = 70
phase = 70

[State 195, 2]
type = SelfState 
trigger1 = Time = 15
value = 5050

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ダッシュ
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 2100, 2]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(115)= 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "dash"
ID = 115
pos =0,0
postype = p1
stateno = 115
;;pausemovetime = 9999
;;supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 100, 4]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = p2bodydist x <= 45 || enemy(var(8)),movetype = A
value = 10

[State 100, 4]
type = ChangeState
trigger1 = var(59) < 1
trigger1 = command != "holdfwd"
trigger2 = var(59) < 1
trigger2 = command = "holdback"
trigger3 = var(59) >= 1
trigger3 = p2bodydist x <= 45 || enemy(var(8)),movetype = A
trigger4 = roundstate != 2
value = 101

[State 100, 4]
type = ChangeState
trigger1 = var(59) < 1
trigger1 = command = "y"
value = 750

[State 100, 4]
type = ChangeState
;triggerall =NumHelper(4020) = 0
trigger1 = p2bodydist X < 20
value = 108

[State 100, 4]
type = ChangeState
trigger1 = var(59) < 1
trigger1 = command = "holddown"
value = 10

;---------------------------------------------------------------------------
;すべる
[Statedef 101]
type = S
physics = N
ctrl = 0
anim = 101

[State 2221, 2]
type = VelAdd
trigger1 = Time > 0
y = 0

[State 2103, 2]
type = PosSet
trigger1 = Time >= 0
y = 0

[State -2, エフェクト]
type = Explod
trigger1 = AnimElem = 3
Persistent = 0
scale  =2.0,0.2
;IgnoreHitPause = 1
removeongethit = 1
anim = 178
id=178
pos = -30,0
postype = p1
sprpriority = 3
bindtime = 1
removetime =22
ownpal = 1
vel = 1.0,0
Pausemovetime=0
supermove = 1
;supermovetime =8

[State 101, 1]
type = VelSet
trigger1 = time = 2
x = 3

[State 101, 1]
type = VelSet
trigger1 = time = 3
x = 2

[State 8100]
type =PlaySnd
trigger1 = AnimElem = 2
value =s6,1
volume = 255

[State 195, 1]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 101,10]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダッシュ攻撃・溜め
[Statedef 750]
type = S
physics = N
ctrl = 0
anim = 750

[State 101, 1]
type = VelSet
trigger1 = time >= 0
x = 0

[State 101,10]
type = ChangeState
trigger1 = animtime = 0
value = 751

;---------------------------------------------------------------------------
;ダッシュ攻撃
[Statedef 751]
type    = A                      ;
movetype= A                      ;
physics = S                      ;
juggle  = 5                      ;
velset = 0,0                     ;
ctrl = 0                         ;
anim = 751                       ;
poweradd = 0
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = s0,2

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 4
Persistent = 0
attr = S, SA
animtype  = Hard
damage    = ceil(80+Var(18)/1),0
;--------------------
getpower = 60,30
givepower =15,0
;--------------------
priority  = 5
guardflag = HA
pausetime = 10,8
sparkno = s704
guard.sparkno =s2
sparkxy = 5,-60
hitsound =s10,1
guardsound =s10,9
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-5
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
id=751

[State 2100, ガード]
type = Helper
triggerall = MoveGuarded && NumTarget
trigger1 = target,GetHitVar(chainid) = 751
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "Guarded"
stateno = 3
ID = 3
pos =0,-55
postype = p2
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

;-------------------------------------------- カウンター
[State 6500, counter]
type = Helper
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 751
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "counter"
ID = 6499
pos =0,0
postype = p1
stateno = 6499
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1
;-------------------------------------------- カウンター

;[State 110, 0]
;type = PlayerPush
;triggerall = movehit && NumTarget
;trigger1 = target,GetHitVar(chainid) = 751
;value = 0

;ガード分岐
[State 830, 4]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 109
ctrl = 0

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 110, 4]
type =AfterImage
trigger1 = AnimElem = 1
time = 20
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State 110, 4]
type =AfterImage
triggerall = movehit && NumTarget
trigger1 = target,GetHitVar(chainid) = 751
time = 1
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1


[State 2100, 2]
type = Helper
trigger1 = AnimElem = 1
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "backhitover"
ID = 1500
pos =10,0
postype = p1
stateno = 1500
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 4
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "ashi"
ID = 755
pos =0,0
postype = p1
stateno = 755
pausemovetime = 1
supermovetime = 1
bindtime = 1
keyctrl = 0
ownpal = 1


[State 105, 3]
type = Velset
trigger1 = AnimElem = 2
x = 7
y = -2.8

[State 2221, 2]
type = VelAdd
trigger1 = Time > 8
x = .4
y = .38


[State 1103, 2]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 105, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 752

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;ダッシュ攻撃着地
[Statedef 752]
type    = S
physics = C
anim = 47
velset = 0,0
ctrl = 0

[State -2　]
type = PlaySnd
trigger1 = Time = 0
value =  s40,0
volume = 255

[State 2103, 2]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 1101, 1]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 200, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1



;-------------------------------------------------------------------------------------------------
; 足エフェクト
[Statedef 755]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
trigger1 = parent,Alive = 1
pos = 0,0
time = -1

[State -2, エフェクト]
type = Explod
trigger1 = Time = 0
Persistent = 0
scale  =0,0
IgnoreHitPause = 1
removeongethit = 1
anim = 752
id=752
pos = 75,-55
postype = p1
sprpriority = 4
bindtime = -1
removetime =25
ownpal = 0
vel = 0,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 752
ID = 752
sprpriority = 4
scale =0.8 +Time*0.25 , 2.5 -Time*0.25

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
;ignorehitpause = 1
var(28) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 5
;ignorehitpause = 1
var(28) = -15

[State 8100, option]
type = PalFX
trigger1 = Time >= 5
add = Var(28)-1,Var(28)-1,Var(28)-1
time = 1
;----------------------------------------

[State -2, kesu]
type = removeExplod
trigger1 = parent,Stateno = 109
id = 752

[State 2104, 9]
type = DestroySelf
trigger1 = time = 25


;------------------------------------------------------------------------------------------
;（近接用）回り込みダッシュ
[Statedef 107]
type = S
physics = S
sprpriority = -1
ctrl = 0
anim = 107

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT
time=1

[State 100 , 5]
type = ChangeState
trigger1 = Time = 6
value = 108
;------------------------------------------------------------------------------------------
;（近接用）回り込みダッシュ2
[Statedef 108]
type = S
physics = S
sprpriority = -1
ctrl = 0
anim = 102
;----------------------------------ダッシュから
[State 100 , 5]
type = Changeanim
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
value = 100

[State -2,ダッシュＳＥ]
type = PlaySnd
triggerall = PrevStateNo = 100
trigger1 = Time = 5
trigger2 = Time = 15
value = s6,0
channel = 2

[State -2, ダッシュＳＥ]
type = StopSnd
triggerall = PrevStateNo = 100
trigger1 = Time = 19
trigger2 = movetype = H
channel = 2
;----------------------------------通常

[State 1200, Muteki] 
type = NotHitBy
triggerall = PrevStateNo != 100
trigger1 = Time = 0
value = , NT, ST, HT
time=5

[State 110, 4]
type =AfterImage
triggerall = PrevStateNo != 100
trigger1 = time = 0
time = 15
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State -2,ダッシュＳＥ]
type = PlaySnd
triggerall = PrevStateNo != 100
trigger1 = Time = 0
value = s0,1

;--------------------------------
[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [0,35]
trigger1 = AnimElem = 1
value = s700,6
channel = 5

[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [36,75]
trigger1 = AnimElem = 1
value = s700,7
channel = 5

[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [76,100]
trigger1 = AnimElem = 1
value = s600,1
channel = 5
;--------------------------------
[State 9997, 1]
type = PlaySnd
trigger1 =  time = 1
value = s0,0
volume = 10

[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
;trigger1 = AnimElem = 6, < 4
value = 0

[State 100 , 1]
type = VelSet
trigger1 = Time = 1
x = 12

[State 100 , 3]
type = VelSet
trigger1 = Time >= 5
trigger1 = Time <= 15
x = 4

[State 100 , 3]
type = VelSet
trigger1 = Time >= 16
x = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 1
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -25,-25,-25
;invertall = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 5
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -50,-50,-50
;invertall = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 10
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -25,-25,-25
;invertall = 1

[State 100 , 5]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;バックステップ
[Statedef 105]
type    = A
physics = A
anim = 105
ctrl = 0

[State 105, 1]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 1071, 4]
type = ChangeState
triggerall = Command = "x"|| Command = "y"||Command = "a"|| Command = "b"
triggerall = command = "holdback"
trigger1 = Time > 12
trigger1 = Time <= 20
value = 109

[State 1071, 4]
type = ChangeState
triggerall = Command = "x"|| Command = "y"||Command = "a"|| Command = "b"
triggerall = command != "holdback"
trigger1 = Time > 12
trigger1 = Time <= 20
value = 117

[State 110, 4]
type =AfterImage
triggerall = time = 1
trigger1 = PrevStateNo = 235
time = 15
timeGap  = 2
frameGap = 1
length = 4
trans = none;add1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1

[State 105, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
ctrl = 1

;---------------------------------------------------------------------------
;ステップツー（後）
[Statedef 109]
type    = A
physics = A
anim = 108
ctrl = 0

[State 230, 1];ボイス
type = PlaySnd
trigger1 = PrevStateNo != 5201
trigger1 = AnimElem = 1
value = s700,2
channel = 5

[State -3,ジャンプ音]
type = PlaySnd
trigger1 =  time = 0
value = s5,0

;[State -3,Ｉフィールド ] 
;type = PalFX
;trigger1 = time = 0
;trigger1 = PrevStateNo != 5201
;time =2
;add = 255,255,255
;ignorehitpause = 1

[State 3020, 6]
type = AfterImage
trigger1 = time = 0
trigger1 = PrevStateNo != 751
time = 15
timeGap  = 2
frameGap = 1
length = 4
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1
trans = none;add1

[State 1200, Muteki] 
type = NotHitBy
trigger1 = AnimElem = 1
trigger1 = PrevStateNo != 5201
trigger1 = PrevStateNo != 751
value = SCA
time=24

[State 1200, Muteki] 
type = NotHitBy
trigger1 = Time >= 1
trigger1 = PrevStateNo = 5201
trigger1 = PrevStateNo != 751
value = SCA
time=1

[State 105, 1]
type = VelSet
triggerall = time = 0
trigger1 = PrevStateNo != 751
x = -3
y = -4

:--------------------------------------------
[State 105, 1]
type = VelSet
triggerall = time = 0
trigger1 = PrevStateNo = 751
x = -1.5
y = -3.5

;[State 1600, 3]
;type = VelAdd
;trigger1 = Time > 1
;trigger1 = PrevStateNo = 751
;x = .10

[State 3020, 6]
type = AfterImage
trigger1 = time = 0
trigger1 = PrevStateNo = 751
time = 1
timeGap  = 5
frameGap = 1
length = 1
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1
trans = none;add1
:--------------------------------------------

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 752

[State 105, 5]
type = ChangeState
;trigger1 = Time > 10
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
ctrl = 1

;---------------------------------------------------------------------------
;ステップツーU（前）
[Statedef 117]
type    = A
physics = A
anim = 117
ctrl = 0

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = s700,2
channel = 5

[State -3,ジャンプ音]
type = PlaySnd
trigger1 =  time = 0
value = s5,0

;[State -3,Ｉフィールド ] 
;type = PalFX
;trigger1 = time = 0
;trigger1 = PrevStateNo != 5201
;time =2
;add = 255,255,255
;ignorehitpause = 1

[State 3020, 6]
type = AfterImage
trigger1 = time = 0
time = 15
timeGap  = 2
frameGap = 1
length = 4
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1
trans = none;add1


[State 1200, Muteki] 
type = NotHitBy
trigger1 = AnimElem = 1
trigger1 = PrevStateNo != 5201
value = SCA
time=24

[State 1200, Muteki] 
type = NotHitBy
trigger1 = Time >= 1
trigger1 = PrevStateNo = 5201
value = SCA
time=1

[State 105, 1]
type = VelSet
trigger1 = time = 0
x = 3
y = -4

[State 105, 5]
type = ChangeState
;trigger1 = Time > 10
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
ctrl = 1

;------------------------------------------------------------------------------------------
;前転起き上がり
[Statedef 110]
type = S
physics = S
sprpriority = 2
ctrl = 0
anim = 110

;[State 110, 4]
;type =AfterImage
;trigger1 = time = 1
;time = 20
;timeGap  = 2
;frameGap = 1
;length = 4
;trans = none;add1
;palBright   =   0,  0,  0
;palContrast = 60,200,250;200,208,225
;palAdd      =   0,  0,  0
;palMul      =   1,  1,  1

[State 3020, 6]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
;FrameGap = 1
length = 15
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1
trans = none;add1

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = 5.5

[State 100 , 5]
type = ChangeState
trigger1 = Time = 30
value = 112
ctrl = 1

;------------------------------------------------------------------------------------------
;後転起き上がり
[Statedef 111]
type = S
physics = S
sprpriority = 2
ctrl = 0
anim = 111

;[State 110, 4]
;type =AfterImage
;trigger1 = time = 1
;time = 20
;timeGap  = 2
;frameGap = 1
;length = 4
;trans = none;add1
;palBright   =   0,  0,  0
;palContrast = 60,200,250;200,208,225
;palAdd      =   0,  0,  0
;palMul      =   1,  1,  1

[State 3020, 6]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
;FrameGap = 1
length = 15
palBright   =   0,  0, 80
palContrast = 240,240,255
palAdd      =   0,  0,  0
palMul      =   1,  1,  1
trans = none;add1

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = -4

[State 100 , 5]
type = ChangeState
trigger1 = Time = 30
value = 112
ctrl = 1


;------------------------------------------------------------------------------------------
;特殊起き上がり・終了
[Statedef 112]
type = S
physics = S
sprpriority = 2
ctrl = 0
anim = 112

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
x = 0

[State 9997, 1]
type = PlaySnd
trigger1 =  time = 1
value = s800,0
volume = 100

[State 100 , 5]
type = ChangeState
trigger1 = animTime = 0
value = 11
ctrl = 1

;--------------------------------------------------------------------------------------------------------------
;立ち斬りのガード反動
[Statedef 250]
type = S
ctrl = 0
anim = 250
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 9997, 1]
type = PlaySnd
trigger1 =  time = 0
value = s10,8
;-------------------------
[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 211

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 241

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 212

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 225

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 226
;-------------------------
[State 3500 ]
type = BGPalfx    
trigger1 = Time = 0
ignorehitpause = 1
time = 2
add = 255,255,255
;invertall = 1

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
trigger1 = Time < 15
x = -0.5

[State 195, 1]
type = CtrlSet
trigger1 = Time = 25
value = 1

[State 2100, エフェクト]
type = Helper
trigger1 = time = 1
Persistent = 0
IgnoreHitPause = 1
pos = 20,-80
helpertype = normal
name = "efe hajiki"
stateno = 216
ID =216
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo != 240
trigger1 = Var(10) >=5
v = 10
value = -8

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo = 240
trigger1 = Var(10) >=5
v = 10
value = -12

[State 195, 2]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1


;--------------------------------------------------------------------------------------------------------------
;しゃがみ斬りガード反動
[Statedef 450]
type = c
ctrl = 0
anim = 450
velset = 0,0
movetype = I
physics = c
sprpriority = 2

[State 9997, 1]
type = PlaySnd
trigger1 =  time = 0
value = s10,8
;-------------------------
[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 241

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 411

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 412
;-------------------------
[State 3500 ]
type = BGPalfx    
trigger1 = Time = 0
ignorehitpause = 1
time = 2
add = 255,255,255
;invertall = 1

[State 100 , 1]
type = VelSet
trigger1 = Time >= 1
trigger1 = Time < 15
x = -0.5

[State 195, 1]
type = CtrlSet
trigger1 = Time = 25
value = 1

[State 2100, エフェクト]
type = Helper
trigger1 = time = 1
Persistent = 0
IgnoreHitPause = 1
pos = 20,-80
helpertype = normal
name = "efe hajiki"
stateno = 216
ID =216
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo != 240
trigger1 = Var(10) >=5
v = 10
value = -10

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo = 240
trigger1 = Var(10) >=5
v = 10
value = -15

[State 195, 2]
type = ChangeState
trigger1 = Time = 40
value = 11
ctrl = 1


;--------------------------------------------------------------------------------------------------------------
;ジャンプ斬りのガード反動
[Statedef 650]
type = A
movetype = A
physics = A
anim = 650
velset = 0
ctrl = 0
poweradd= 0
juggle = 0

[State 9997, 1]
type = PlaySnd
trigger1 =  time = 0
value = s10,8
;-------------------------
[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 211

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 212

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 641

[State -2, kesu]
type = removeExplod
trigger1 = Time = 0
id = 642
;-------------------------
[State 3500 ]
type = BGPalfx    
trigger1 = Time = 0
ignorehitpause = 1
time = 2
add = 255,255,255
;invertall = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 1
x = -2
y = -4

[State 2500, 2]
type = VelAdd
trigger1 = Time = 1
y = .38

[State 2100, エフェクト]
type = Helper
trigger1 = time = 1
Persistent = 0
IgnoreHitPause = 1
pos = 20,-80
helpertype = normal
name = "efe hajiki"
stateno = 216
ID =216
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo != 640
trigger1 = Var(10) >=5
v = 10
value = -9

[State -2, EX_-1]
type = VarAdd
trigger1 = time = 0
trigger1 = PrevStateNo = 640
trigger1 = Var(10) >=5
v = 10
value = -15

[State 330, 2]
type = ChangeState
trigger1 = Time >=20
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;-------------------------------------------------------------------------------------------------
;受身エフェクト・ヘルパー
[Statedef 215]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
;trigger1 = parent,Statetype = A
trigger1 = IsHelper(215) = 1
pos = 0, 0
time = -1

;[State 2501]
;type = bindtoroot
;trigger1 = parent,Statetype = C
;trigger1 = IsHelper(215) = 1
;pos = 0, 30
;time = -1

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 215
ID=215
postype =p1
pos = 0,-50
vel=0,0
sprpriority = 10
bindtime = -1
removetime = 30
;ownpal = 1
ontop = 1
supermove = 1
;ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 215
ID = 215
sprpriority = 10
vel=0,0
scale =0.1 +Time*0.065 , 0.1 +Time*0.065

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 5
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 5
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 30

;-------------------------------------------------------------------------------------------------
;拡散エフェクト
[Statedef 216]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 216
ID=216
postype =p1
pos = 0,0
vel=0,0
sprpriority = 5
bindtime = 1
removetime = 30
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.1, 0.1

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 216
ID = 216
sprpriority = 5
vel=0,0
scale =0.2 +Time*0.05 , 0.2 +Time*0.05

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 5
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 5
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------


[State 2104, 9]
type = DestroySelf
trigger1 = time = 30


;------------------------------------------------------------------- 
;コンボ・バックエフェクト　小
[Statedef 1501]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1500
ID=1500
postype =p1
pos = 0,0
vel=-0.1,0
sprpriority = 5
bindtime = 1
removetime =30
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.3, 0.3

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 1500
ID = 1500
sprpriority = 5
vel=-0.2,0
scale =0.2 +Time*0.04 , 0.1 +Time*0.03

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow


;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 5
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 5
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 30
;------------------------------------------------------------------- 
;コンボ・バックエフェクト 大
[Statedef 1500]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1500
ID=1502
postype =p1
pos = 0,0
vel=-0.2,0
sprpriority = 5
bindtime = 1
removetime = 35
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.2, 0.2

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 1500
ID = 1502
sprpriority = 5
vel=-0.3,0
scale =0.1 +Time*0.05 , 0.05 +Time*0.04

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 10
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 10
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 35

;-------------------------------------------------------------------
; スパロボチックなエフェクト効果線の操作
[Statedef 1502]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 800, 1

;---------------------------------------
[State -2, スクリーン効果]
type = Explod
triggerall = NumExplod(7780) = 0
trigger1 = time = 0
;Persistent = 0
scale =1.0,1.0
IgnoreHitPause = 1
removeongethit = 1
anim = 7780
id=7780
pos = 480,0
postype = back
sprpriority = -10
bindtime = 1
removetime =80
ownpal = 1
;ontop = 1
vel = -60,0
Pausemovetime=-1
supermove = 1
;supermovetime =8

[State -2, エフェクト効果]
type = Explod
triggerall = NumExplod(7777) = 0
trigger1 = time = 0
;Persistent = 0
scale =1.0,1.0
IgnoreHitPause = 1
removeongethit = 1
anim = 7777
id=7777
pos = 240,-5
postype = back
sprpriority = 15
bindtime = 1
removetime =-1
ownpal = 1
ontop = 1
vel = -40,0
Pausemovetime=-1
supermove = 1
;supermovetime =8

[State -2, エフェクト効果]
type = Explod
triggerall = NumExplod(7778) = 0
trigger1 = time = 0
;Persistent = 0
scale =1.0,1.0
IgnoreHitPause = 1
removeongethit = 1
anim = 7778
id=7778
pos = 240,245
postype = back
sprpriority = 15
bindtime = 1
removetime =-1
ownpal = 1
ontop = 1
vel = -40,0
Pausemovetime=-1
supermove = 1
;supermovetime =8
;---------------------------------------
[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 7780
ID = 7780
sprpriority = -10
;vel = -60,0
scale =5.0 +Time*0.10 , 1.0 ;-Time*0.028

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 30
anim = 7777
ID = 7777
sprpriority = 15
;vel = -30,0
scale =1.0 +Time*0.02 , 1.8 -Time*0.028

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 30
anim = 7778
ID = 7778
sprpriority = 15
;vel = -30,0
scale =1.0 +Time*0.02 , 1.8 -Time*0.028

[State 9997, 1]
type = PlaySnd
trigger1 =  p2stateNo =4017
value = s10,3
Persistent = 0

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State -2, kesu]
type = removeExplod
trigger1 = Time = 64
id = 7777

[State -2, kesu]
type = removeExplod
trigger1 = Time = 64
id = 7778

[State 2104, 9]
type = DestroySelf
trigger1 = Time = 65;parent,stateNo =0

;-------------------------------------------------------------------
; スロー演出
[Statedef 1505]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 330, 1]
type = BGPalFX
trigger1 = Time = 0
time = 1
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 6000 , Super A]
type = Pause
trigger1 = Time = 1
trigger2 = Time = 2
trigger3 = Time = 4
trigger4 = Time = 6
trigger5 = Time = 8
time = 2

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 0
trigger1 = Parent,var(10) <= 10

[State 2104, 9]
type = DestroySelf
trigger1 = time = 5
trigger1 = Parent,var(10) <= 39

[State 2104, 9]
type = DestroySelf
trigger1 = time = 9

;-------------------------------------------------------------------------------------------
; ふきだし演出 「！？」
[Statedef 7800]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
trigger1 = IsHelper(7800) = 1
;trigger1 = parent,Anim = 
pos = 35,-90
time = -1

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 7800
ID=7800
postype =p1
pos = 0,0
vel=0,0
sprpriority = 5
bindtime = -1
removetime = 20
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =1.0, 1.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Time <= 10
anim = 7800
ID = 7800
sprpriority = 5
vel=0,0
scale =0.1 +Time*0.09 , 0.1 +Time*0.09

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 15
anim = 7800
ID = 7800
sprpriority = 5
vel=0,0
scale =1.2 +Time*0.06 , 1.1 -Time*0.06

;------------------------------
[State 8100, option]
type = Explod
triggerall = time = 0
trigger1 = facing = 1
anim = 7801
ID=7801
postype =p1
pos = 0,0
vel=0,0
sprpriority = 6
bindtime = -1
removetime = 20
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =1.0, 1.0

[State 8100, option]
type = Explod
triggerall = time = 0
trigger1 = facing = -1
anim = 7802
ID=7801
postype =p1
pos = 0,0
vel=0,0
sprpriority = 6
bindtime = -1
removetime = 20
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =1.0, 1.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Time <= 10
anim = 7801
ID = 7801
sprpriority = 6
vel=0,0
scale =0.1 +Time*0.09 , 0.1 +Time*0.09

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 15
anim = 7801
ID = 7801
sprpriority = 6
vel=0,0
scale =1.0 +Time*0.00 , 1.2 -Time*0.06
;------------------------------

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 20


;-------------------------------------------------------------------------------------------
; ダッシュ効果線演出〜
[Statedef 115]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
trigger1 = 1
pos = 0,0
time = -1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 4
range = 0,60

;-----------------------------------------------------
[State 8100, option];parent,
type = Explod
trigger1 = time = 0
anim = 115
ID=115
postype =p1
pos = 50,0-var(4)
vel=0,0
sprpriority = 5
bindtime = 2
removetime = 12
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 115
ID = 115
sprpriority = 5
vel=0,0
scale =0.1+Time*0.08, 1.0-Time*0.06


;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 1
ignorehitpause = 1
var(30) = -20

[State 8100, option]
type = PalFX
trigger1 = Time >= 1
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;Color=0
;----------------------------------------


;-----------------------------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = 1
trigger1 = parent,Stateno !=100 

[State 195, 2]; エンドレス
type = ChangeState
trigger1 = Time = 15
value = 116

;-------------------------------------------------------------------------------------------
; ダッシュ効果線演出〜
[Statedef 116]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 195, 2]; エンドレス
type = ChangeState
trigger1 = Time = 1
value = 115

;-------------------------------------------------------------------------------------------
; 雷撃演出 
[Statedef 643]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;[State 2501]
;type = bindtoroot
;trigger1 = IsHelper(643) = 1
;trigger1 = parent,Anim = 
;pos = 0,0
;time = -1

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 643
ID=643
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 22
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 643
ID = 643
sprpriority = 6
vel=0,0
scale =1.5 -Time*0.05 , 0.1 +Time*0.15
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 15
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 15
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------


[State 2104, 9]
type = DestroySelf
trigger1 = time = 22



;-------------------------------------------------------------------------------------------
;ジャンプエフェクト
[Statedef 300]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State -2, kesu]
type = removeExplod
trigger1 =parent,var(3)= 1
id=300

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 300;174
ID=300
postype =p1
pos =-5,10
vel=0,0
sprpriority = 3
bindtime = 1
removetime = 21
ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.5, 0.5

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 300;174
ID = 300
sprpriority = 3
vel=0,0
scale =0.4 +Time*0.02 , 0.2 +Time*0.04
;-----------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State -2,エフェクト消去]; NHKさんのクララ・スタレボ対策
type = removeExplod
triggerall = 1
trigger1 = PrevStateNo = 3900
trigger1 = partner,name = "clara"&&partner,AuthorName = "NHK"
id = 300

[State 2104, 9]
type = DestroySelf
trigger1 = time = 21
;-------------------------------------------------------------------------------------------
; 剣気の自動回復
;-------------------------------------------------------------------------------------------
[Statedef 2999]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2104, 9]
type = DestroySelf
trigger1 = NumHelper(3000)= 1

[State 2501]
type = bindtoroot
trigger1 = 1;IsHelper(2999) = 1
pos = 0, 0
time = -1

[State -2, EX_-1]
type = ParentVarAdd
triggerall = (Parent,stateno != [800,850])
triggerall = Parent,movetype != A
trigger1 = (GameTime%15) =1
trigger1 = Parent,Var(10) < 32
v = 10
value = 1

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = Parent,Var(10) >=32


;---------------------------------------------------------------------------
;投げ発動
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 800
sprpriority = 2

[State 800, 3]
type = HitDef
trigger1 = Time = 0
attr = S, NT
getpower  = 0
givepower = 0
hitflag = M-
sparkxy =999,-999
;hitsound = S800,0
priority = 1, Miss
animtype  = Light
pausetime = 0,0
ground.type = Low
damage = 0
p1facing = 1
p2facing = 1 
p1stateno = 810
p2stateno = 830
fall = 0
numhits =0
kill = 0

[State 100 , 5]
type = ChangeState
trigger1 = animTime = 0
value = 210
;--------------------------------------------------------------------------- ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
;投げ↓↓↓
[Statedef 810]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 50
ctrl = 0
velset = 0,0
anim = 810
sprpriority = 2

[State 3500 ]
type = BGPalfx    
trigger1 = time = 0
;ignorehitpause = 1
;add = -100,-100,-100
add = 0,0,0
color = 0
time = 33   
invertall = 0
;add = -25,-10,-15   
;sinadd = 10, 10, 10       
;invertall = -255 
persistent = 0  


[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = PrevStateNo = 803
trigger1 = Time = 0

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 3000, Width]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 80,0

[State 801, ]
type = TargetBind
trigger1 = AnimElem = 1
pos = 60,0

;[State 200, 1]
;type = PlaySnd
;trigger1 = Time = 0
;value = 10, 4

[State 200, 1]
type = PlaySnd
trigger1 = Time = 5
value = 0, 8

[State 210, 5]
type = ChangeState
trigger1 = animTime = 0
value = 815

;-------------------------------------------------------------------------------
;投げ・移動
[Statedef 815]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 815
sprpriority = -1

[State 230, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = s600,8
;channel = 5

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
;----------------------------
[State 830, 0]
type = Velset
trigger1 = Time = [0,15]
x = 10
y = 0

[State 830, 0]
type = Velset
trigger1 = Time >= 16
x = 0
y = 0

;[State 3021, 1]
;type = TargetBind
;trigger1 = Time >= 16
;pos = -80,0
;----------------------------
[State 830, 1]
type = PlaySnd
trigger1 = Time = 0
value =0,5

[State -2, 着地煙１]
type = Explod
trigger1 = (GameTime%2) =1
anim = 182
pos = 5,0
postype = p1
sprpriority = 5
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = -1,0
;scale  =0.5,0.5

[State -2,削岩]
type = Explod
trigger1 = (GameTime%2) =1
anim = 305
id=305
pos = 5,5
postype = p1
sprpriority = 4
supermove = 1
;supermovetime =8
bindtime = 1
removetime =20
ownpal = 1  
vel = 0,0
;scale  =2.0,0.8

[State 210, 5]
type = ChangeState
trigger1 = Time = 10
value = 820

;---------------------------------------------------------
;ＨＩＴ演出中
[Statedef 820]
type     = s
physics = S
movetype = A
juggle  = 0
ctrl = 0
anim = 820

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 3500 ]
type = BGPalfx
trigger1 = time = 0
ignorehitpause = 1
add = 255,255,255
time=1
persistent = 0

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3021, 1]
type = TargetBind
trigger1 = Time =0
pos = -53,0

[State 830, 1]
type = PlaySnd
trigger1 = Time = 0
value =0,5

[State 2100, 2 本体出現]
type = Helper
trigger1 = Time = 0
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "hontai"
ID = 816
stateno = 816
pos =0,0
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 2100, 2]
type = Helper
trigger1 = AnimElem = 2
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "nageefe"
ID = 831
stateno = 831
pos =0,-60;-100,-60
postype =p2; p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 4001, 7]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 1

[State 801, Damage]
type = TargetLifeAdd;LifeAdd
trigger1 = AnimElem = 2
value = ceil(-80*Var(10)/80) 

[State -2, EX_-1]
type = VarAdd
trigger1 = AnimElem = 3
trigger1 = Var(10) >=5
v = 10
value = -2

[State 9997, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 6,1

[State -2, エフェクト]
type = Explod
trigger1 = AnimElem = 2
Persistent = 0
;scale  =0.5,1.5
;IgnoreHitPause = 1
;removeongethit = 1
anim = 173
id=173
pos = 40,0
postype = p1
sprpriority = 4
bindtime = 1
removetime =20
ownpal = 1
vel = -0.2,0
Pausemovetime=0
;supermove = 1
;supermovetime =8

[State 3509, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 2P
[Statedef 830]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 1200, Muteki] 
type = NotHitBy
trigger1 = Time >= 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = Time = [0,55]
value = 0

[State 802, 0]
type = VelSet
trigger1 = Time = [0,55]
x = 0
y = 0

[State 802, 0]
type = VelSet
trigger1 = Time = 55
x = 1.5
y =-8

[State 802, 1]
type = VelAdd
trigger1 = Pos Y < 0
y = .50

[State 802, 2]
type = Changeanim2
trigger1 = Time = 0
value = 830

[State 802, 4]
type = SelfState 
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;-------------------------------------------------------------------------------------------
; ヒット演出 
[Statedef 831]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 830, 1]
type = PlaySnd
trigger1 = Time = 0
value =10,2

[State 830, 1]
type = PlaySnd
trigger1 = Time = 18
value =10,5

[State 330, 1]
type = BGPalFX
trigger1 = Time = 0
time = 5
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 330, 1]
type = BGPalFX
trigger1 = Time = 18
time = 1
add = 255,0,0
mul = 255,0,0
ignorehitpause = 1
persistent = 0

[State 8100, option]
type = Explod
trigger1 = time = 12
Persistent = 0
anim =710
ID=710
postype =p2
pos =0,-60
;vel=-1.8,-6
sprpriority = 8
bindtime = -1
removetime = 22
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1503
ID=831
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 25
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 1503
ID = 831
sprpriority = 6
vel=0,0
scale =0.5 -Time*0.02 , 0.5 +Time*0.10

[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1503
ID=832
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 25
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 1503
ID = 832
sprpriority = 6
vel=0,0
scale =0.5 +Time*0.10 , 0.5 -Time*0.02
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 25


;-------------------------------------------------------------------------------------------
; 演出 
[Statedef 816]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2501]
type = bindtoroot
trigger1 = parent,Alive = 1
pos = 0,0
time = -1

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 816
ID=816
postype =p1
pos =0,0
vel=0,0
sprpriority = 3
bindtime = -1
removetime = 10
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 816
ID = 816
sprpriority = 3
vel=0,0
scale =1, 2.0 -Time*0.08
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 10


;---------------------------------------------------------------------------
;投げ発動 （裏）
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 800
sprpriority = 2

[State 800, 3]
type = HitDef
trigger1 = Time = 0
attr = S, NT
getpower  = 0
givepower = 0
hitflag = M-
sparkxy =999,-999
;hitsound = S800,0
priority = 1, Miss
animtype  = Light
pausetime = 0,0
ground.type = Low
damage = 0
p1facing = 1
p2facing = 1 
p1stateno = 802
p2stateno = 804
fall = 0
numhits =0
kill = 0

[State 100 , 5]
type = ChangeState
trigger1 = animTime = 0
value = 210

;------------------------------------------------------------------------------------------
;（近接用）回り込みダッシュ
[Statedef 802]
type = S
physics = S
sprpriority = -1
ctrl = 0
anim = 107

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 3500 ]
type = BGPalfx    
trigger1 = time = 0
add = 0,0,0
color = 0
time = 30 
invertall = 0
persistent = 0  

[State 100 , 5]
type = ChangeState
trigger1 = Time = 6
value = 803
;------------------------------------------------------------------------------------------
;（近接用）回り込みダッシュ2
[Statedef 803]
type = S
physics = S
sprpriority = -1
ctrl = 0
anim = 100

;--------------------------------
[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [0,35]
trigger1 = AnimElem = 1
value = s700,6
channel = 5

[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [36,75]
trigger1 = AnimElem = 1
value = s700,7
channel = 5

[State 230, 1];ボイス
type = PlaySnd
triggerall = var(13) = [76,100]
trigger1 = AnimElem = 1
value = s600,1
channel = 5
;--------------------------------

;--------------------------
[State 9997, 1]
type = PlaySnd
trigger1 =  time = 5
value = s10,0

[State 8100, option]
type = Explod
trigger1 = time = 5
anim = 704
ID=704
postype =p1
pos =0,-60
vel=0,0
sprpriority = 3
bindtime = 1
removetime = 16
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999

[State 4001, 7]
type = HitAdd
trigger1 = time = 5
value = 1

[State 801, Damage]
type = TargetLifeAdd;LifeAdd
trigger1 = time = 5
value = -10
kill = 0
;--------------------------
[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
;trigger1 = AnimElem = 6, < 4
value = 0

[State 100 , 1]
type = VelSet
trigger1 = Time = 1
x = 10

[State 100 , 3]
type = VelSet
trigger1 = Time >= 5
trigger1 = Time <= 15
x = 4

[State 100 , 3]
type = VelSet
trigger1 = Time >= 16
x = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 1
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -25,-25,-25
;invertall = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 5
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -50,-50,-50
;invertall = 1

[State 3500 ]
type = Palfx    
triggerall = Time >= 10
trigger1 = P2statetype != A
trigger1 = P2statetype != L
ignorehitpause = 1
time = 1
add = -25,-25,-25
;invertall = 1

[State -2,ダッシュＳＥ]
type = PlaySnd
trigger1 = Time = 5
trigger2 = Time = 15
value = s6,0
volume = 255
channel = 2

[State -2, ダッシュＳＥ]
type = StopSnd
trigger1 = Time = 19
trigger2 = movetype = H
channel = 2

[State 1200, Muteki] 
type = NotHitBy
trigger1 = 1
value = SCA
time=1

[State 100 , 5]
type = ChangeState
trigger1 = Time = 20
value = 810

;---------------------------------------------------------------------------
; 2P
[Statedef 804]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = AnimElem = 6

[State 1200, Muteki] 
type = NotHitBy
trigger1 = Time >= 1
value = SCA
time=1

[State 110, 0]
type = PlayerPush
trigger1 = Time >= 0
;trigger1 = AnimElem = 6, < 4
value = 0

[State 802, 2]
type = Changeanim2
trigger1 = Time = 0
value = 804

[State 100 , 5]
type = ChangeState
trigger1 = Time = 20
value = 830







;---------------------------------------------------------------------------------------------------------------------------------------
;ヒットエフェクト関連
;---------------------------------------------------------------------------------------------------------------------------------------

; 斬ヒット演出 分岐
[Statedef 1503]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 100 , 5]; 大
type = ChangeState
trigger1 = Parent,var(10) =[70,100] 
trigger1 = Time = 0
value = 2400

[State 100 , 5]; 中
type = ChangeState
trigger1 = Parent,var(10) =[40,69]
trigger1 = Time = 0
value = 2401

[State 100 , 5]; 小
type = ChangeState
trigger1 = Parent,var(10) =[10,39]
trigger1 = Time = 0
value = 2402

[State 2104, 9]
type = DestroySelf
trigger1 = Parent,var(10) <= 9


;-------------------------------------------------------------------------------------------2400台
; ヒット演出 大
[Statedef 2400]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0,100

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1503
ID=1503
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 27
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [0,50]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.55  -Time*0.021 , 0.55  +Time*0.11

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [51,100]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.55 +Time*0.11 , 0.55  -Time*0.021
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 27

;-------------------------------------------------------------------------------------------2400台
; ヒット演出 中
[Statedef 2401]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0,100

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1503
ID=1503
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 22
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [0,50]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.5 -Time*0.025 , 0.5 +Time*0.095

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [51,100]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.5 +Time*0.095, 0.5 -Time*0.025
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 22

;-------------------------------------------------------------------------------------------2400台
; ヒット演出 小
[Statedef 2402]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0,100

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 1503
ID=1503
postype =p1
pos =0,0
vel=0,0
sprpriority = 6
bindtime = 1
removetime = 20
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [0,50]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.4 -Time*0.02, 0.4 +Time*0.08

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
trigger1 = Var(5) = [51,100]
anim = 1503
ID = 1503
sprpriority = 6
vel=0,0
scale =0.4 +Time*0.08 , 0.4 -Time*0.02
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 20




;-------------------------------------------------------------------------------------------
; ガード演出 
;-------------------------------------------------------------------------------------------
[Statedef 3]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 3
ID=3
postype =p1
pos =-10,0
vel=-1.5,0
sprpriority = 6
bindtime = 1
removetime = 35
;ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 3
ID = 3
sprpriority = 6
vel=1.2,0
scale =0.2 +Time*0.015 , 0.3 +Time*0.03
;------------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 10
ignorehitpause = 1
var(30) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 10
add = Var(30)-1,Var(30)-1,Var(30)-1
time = 1
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 35




;-----------------------------------------------------------------------------------------------------------------------------
;  血演出 
;-----------------------------------------------------------------------------------------------------------------------------
[Statedef 706]
type    = S
physics = S
velset = 0,0
anim = 706
ctrl = 0
sprpriority = -1

[State -2, EX_-1]
type = ParentVarAdd
trigger1 = time = 0
trigger1 = Parent,Var(10) >=5
v = 10
value = -5

[State 2104, 9]
type = DestroySelf
trigger1 = time = 0
trigger1 = Parent,var(10) <= 30

[State 2100, 2]
type = Helper
trigger1 = Parent,var(10) >= 60
trigger1 = Time = 0
;trigger1 = Random <= 500
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi2"
ID = 708
pos =0,0
postype = p1
stateno = 708
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 6
range = 0,100

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [0,20]
x = -3.0
y = -3

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [21,40]
x = -4.2
y = -2

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [41,60]
x = -6.5
y = -6

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [61,80]
x = -3.5
y = -4

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [81,100]
x = -1.5
y = -5


[State 2102, 1]
type = veladd
trigger1 = time > 10
x = -0.2
y = .47

;[State 2821]
;type = AssertSpecial
;trigger1 = 1
;Time = 1
;flag = noshadow

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 1
value =12.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 2102, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 707

;-------------------------------------------------------------------------------------------
;  血演出 
[Statedef 708]
type    = S
physics = S
velset = 0,0
anim = 706
ctrl = 0
sprpriority = -1

[State -2, EX_-1]
type = ParentVarAdd
trigger1 = time = 1
v = 10
value = -2

[State 2100, 2]
type = Helper
trigger1 = Time = 0
trigger1 = Random <= 500
Persistent = 0
IgnoreHitPause = 1
helpertype = normal
name = "chi3"
ID = 709
pos =0,0
postype = p1
stateno = 709
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
keyctrl = 0
ownpal = 1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
trigger1 = Parent,Var(10) >=5
v = 6
range = 0,100

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [0,20]
x = -6.0
y = -5.5

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [21,40]
x = -3.5
y = -5

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [41,60]
x = -4.8
y = -3

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [61,80]
x = -1.2
y = -3.5

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [81,100]
x = -2.5
y = -4.5


[State 2102, 1]
type = veladd
trigger1 = time > 10
x = -0.2
y = .47

;[State 2821]
;type = AssertSpecial
;trigger1 = 1
;Time = 1
;flag = noshadow

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 1
value =11.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 2102, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 707

;-------------------------------------------------------------------------------------------
;  血演出 3
[Statedef 709]
type    = S
physics = S
velset = 0,0
anim = 706
ctrl = 0
sprpriority = -1

[State -2, EX_-1]
type = ParentVarAdd
trigger1 = time = 1
trigger1 = Parent,Var(10) >=5
v = 10
value = -1

[State 180, 0]
type = VarRandom
trigger1 = Time = 0
v = 6
range = 0,100

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [0,20]
x = -6.2
y = -5.6

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [21,40]
x = -3.2
y = -4.2

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [41,60]
x = -4.3
y = -2.2

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [61,80]
x = -1.6
y = -2.0

[State 830, 0]
type = Velset
trigger1 = Animelem =1
trigger1 = Var(6) = [81,100]
x = -1.5
y = -4.0


[State 2102, 1]
type = veladd
trigger1 = time > 10
x = -0.2
y = .47

;[State 2821]
;type = AssertSpecial
;trigger1 = 1
;Time = 1
;flag = noshadow

[State 2027, 5]
type = Angleset
trigger1 = Time = 0
value = 0.0

[State 2027, 5]
type = AngleAdd
trigger1 = Time >= 1
value =11.0

[State 1027, Pos]
type = Angledraw
trigger1 = Time >= 1

[State 2102, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 707

;-------------------------------------------------------------------------------------------
[Statedef 707]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 800,2

[State 1103, 2]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 0
anim = 707
ID=707
postype =p1
pos =0,-5
vel=0,0
sprpriority = -1
bindtime = 1
removetime = 50
ownpal = 1
supermove = 1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 999
scale =1.0, 0.5

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 707
ID = 707
sprpriority = -1
vel=0,0
scale =1.0 +Time*0.02,0.5 -Time*0.005
;-----------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

[State 2104, 9]
type = DestroySelf
trigger1 = time = 50

;-------------------------------------------------------------------
; KOボイス「うわーーー」
[Statedef 7000]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State -2,  ダウン1]
type = PlaySnd
triggerall = parent,var(11)= 0
trigger1 = time = 0
value = s11,1
Persistent = 0
loop = 0
;volume = 255
;channel = 

[State -2,  ダウン2]
type = PlaySnd
triggerall = parent,var(11)= 1
trigger1 = time = 0
value = s11,2
Persistent = 0
loop = 0
;volume = 255
;channel = 

[State 2501]
type = bindtoroot
trigger1 = IsHelper(7000) = 1
pos = 0, 0
time = -1

[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow


;-------------------------------------------------------------------------------------------
;エフェクトダウン
[Statedef 2003]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 2
anim = 2002
ID=2003
postype =p1
pos =-10,5
vel=0,0
sprpriority = -1
bindtime = 1
removetime = 30
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 2002
ID = 2003
sprpriority = -1
vel=0,0
scale =0.5 +Time*0.04 , 0.16 ;-Time*0.001
;-----------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(30) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 10
ignorehitpause = 1
var(30) = -15

[State 8100, option]
type = PalFX
trigger1 = Time >= 1
add = Var(30)-1,Var(30)-50,Var(30)-100
time = 1
Color=0
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 30

;-------------------------------------------------------------------------------------------
;エフェクト 着地
[Statedef 2004]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

;------------------------------
[State 8100, option]
type = Explod
trigger1 = time = 2
anim = 2002
ID=2004
postype =p1
pos =0,0
vel=0,0
sprpriority = -1
bindtime = 2
removetime = 14
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
anim = 2002
ID = 2004
sprpriority = -1
vel=0,0
scale =0.4 +Time*0.04 , 0.14 ;-Time*0.001
;-----------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(3) = 0

[State 8100, option]
type = Varadd
trigger1 = Time >= 1
ignorehitpause = 1
var(3) = -20

[State 8100, option]
type = PalFX
trigger1 = Time >= 1
add = Var(3)-1,Var(3)-1,Var(3)-1
time = 1
Color=0
;----------------------------------------

[State 2104, 9]
type = DestroySelf
trigger1 = time = 14


;-------------------------------------------------------------------------------------------
; カウンターの判定
[Statedef 6499]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State -2]; 処理終了サイン
Type = parentVaradd
;trigger1 = parent,var(18) >= 50
trigger1 = parent,var(18) <= 10
Persistent = 0
V = 19
Value = 1

[State 2104, 9]
type = DestroySelf
;trigger1 = parent,var(18) >= 50
trigger1 = parent,var(18) <= 10

[State -2];セット
Type = Varset
trigger1 = time = 0
V = 2
Value = 1

[State 2104, 9]
type = ChangeState
trigger1 = time = 1
value = 6500

;-------------------------------------------------------------------------------------------
; カウンター評価の表示
[Statedef 6500]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 230, 1];
type = PlaySnd
trigger1 = parent,var(18) >= 10
trigger1 = time = 0
value = 800,5

[State -2];リセット
Type = Varset
trigger1 = time = 0
V = 2
Value = 0

[State -2]; 処理終了サイン
Type = parentVaradd
trigger1 = time = 1
V = 19
Value = 1
;------------------------- パワーゲージ
[State 0, S]
type = PowerAdd
triggerall = time = 0
;trigger1 = parent,var(18) <=50
trigger1 = parent,var(18) >=49
Persistent = 0
IgnoreHitPause = 1
value =500

[State 0, A]
type = PowerAdd
triggerall = time = 0
trigger1 = parent,var(18) < 49
trigger1 = parent,var(18) >= 42
Persistent = 0
IgnoreHitPause = 1
value =200

[State 0, B]
type = PowerAdd
triggerall = time = 0
trigger1 = parent,var(18) < 42
trigger1 = parent,var(18) >= 32
Persistent = 0
IgnoreHitPause = 1
value =100

[State 0, C]
type = PowerAdd
triggerall = time = 0
trigger1 = parent,var(18) < 32
trigger1 = parent,var(18) >= 10
Persistent = 0
IgnoreHitPause = 1
value =50
;-------------------------

;------------------------------ ランク(P1)
[State 8100, S]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 1
;trigger1 = parent,var(18) <=50
trigger1 = parent,var(18) >=49
anim = 6510
ID=6500
postype =left
pos = 90,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, A]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 1
trigger1 = parent,var(18) < 49
trigger1 = parent,var(18) >= 42
anim = 6520
ID=6500
postype =left
pos = 90,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, B]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 1
trigger1 = parent,var(18) < 42
trigger1 = parent,var(18) >= 32
anim = 6530
ID=6500
postype =left
pos = 90,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, C]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 1
trigger1 = parent,var(18) < 32
trigger1 = parent,var(18) >= 10
anim = 6540
ID=6500
postype =left
pos = 90,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0


;------------------------------ ランク(P2)
[State 8100, S]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 2
;trigger1 = parent,var(18) <=50
trigger1 = parent,var(18) >=49
anim = 6510
ID=6500
postype =right
pos = -62,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, A]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 2
trigger1 = parent,var(18) < 49
trigger1 = parent,var(18) >= 42
anim = 6520
ID=6500
postype =right
pos = -62,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, B]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 2
trigger1 = parent,var(18) < 42
trigger1 = parent,var(18) >= 32
anim = 6530
ID=6500
postype =right
pos = -62,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0

[State 8100, C]
type = Explod
triggerall = time = 0
triggerall = TeamSide = 2
trigger1 = parent,var(18) < 32
trigger1 = parent,var(18) >= 10
anim = 6540
ID=6500
postype =right
pos = -62,222
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0


;------------------------------ カウンターベース
[State 8100, option]
type = Explod
trigger1 = time = 0
trigger1 = TeamSide = 1
anim = 6500
ID=6500
postype =left
pos = 30,220
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0
;------------------------------ カウンターベース
[State 8100, option]
type = Explod
trigger1 = time = 0
trigger1 = TeamSide = 2
anim = 6500
ID=6500
postype =right
pos = -122,220
vel=0,0
sprpriority = 20
bindtime = -1
removetime = -1
ontop = 1
;ownpal = 1
supermove = 1
ignorehitpause = 1
;removeongethit = 1
pausemovetime = 999
scale =0.0, 0.0
;------------------------------ カウンターベース
[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 1
ID = 6500
sprpriority = 20
vel=0,0
scale =0.1 +Time*0.09 , 0.1 +Time*0.09

[State 8100, option]
type = ModifyExplod
trigger1 = Time >= 10
ID = 6500
sprpriority = 20
vel=0,0
scale =1,1
;-----------------------------
[State 2821]
type = AssertSpecial
trigger1 = 1
Time = 1
flag = noshadow

;---------------------------------------- 透明度調整
[State 8100, option]
type = Varset
trigger1 = Time = 0
ignorehitpause = 1
var(1) = 0

[State 8100, option]
type = PalFX
trigger1 = Time = 24
add = 255,255,255
time = 1

[State 8100, option]
type = Varadd
trigger1 = Time >= 25
ignorehitpause = 1
var(1) = -10

[State 8100, option]
type = PalFX
trigger1 = Time >= 25
add = Var(1)-1,Var(1)-1,Var(1)-1
time = 1
;----------------------------------------

[State -2];リセット 予備
Type = parentVaradd
trigger1 = numExplod(6500) = 2
Trigger1 = P2MoveType != A
V = 18
Value = -999

[State -2, kesu]
type = removeExplod
trigger1 = time = 50
trigger2 = var(2)= 1
id = 6500

[State 2104, 9]
type = DestroySelf
trigger1 = time = 51
trigger2 = var(2)= 1