
[Statedef 2000]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2000+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 35
time = 35
darken = 0



[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-110

[State 00];
type = PlaySnd
triggerall = anim = 2000
trigger1 = AnimElem = 3
value = s7,14
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 2001
trigger1 = AnimElem = 3
value = 9,23
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 12000
trigger1 = AnimElem = 3
value = 2000,random%2
channel = 4

[State 3000, u]
type = VelSet
trigger1 = anim = 2000||anim = 12000
trigger1 = AnimElem = 8,>=0
x = 9

[State 3000, u]
type = VelSet
trigger1 = anim = 2001
trigger1 = AnimElem = 13,>=0
x = 12

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,1
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2010
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
; SEEt

[Statedef 2050]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2050+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a];MAXQ[W
type = varadd
triggerall = fvar(20) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(20) = -120

[State a];_
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 36
time = 36
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-110

[State 00];
type = PlaySnd
triggerall = anim = 2050
trigger1 = AnimElem = 3
value = s7,14
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 2051
trigger1 = AnimElem = 3
value = 9,23
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 12050
trigger1 = AnimElem = 3
value = 2000,random%2
channel = 4

[State 3000, u]
type = VelSet
trigger1 = anim = 2050||anim = 12050
trigger1 = AnimElem = 8,>=0
x = 9

[State 3000, u]
type = VelSet
trigger1 = anim = 2051
trigger1 = AnimElem = 13,>=0
x = 12

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,1
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2060
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
; t_bVI

[Statedef 2005]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2005+(var(1)*1)
ctrl     = 0
sprpriority = 2

[State 3000, u]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(i)
[Statedef 2020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(i)
[Statedef 2021]
type    = A
movetype= H
physics = N
velset = 0,0

[State a]
type = palfx
trigger1 = Time = 27
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
time = 120
ignorehitpause = 1
invertall = 1

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2021

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(i)
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2030

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;SEEt

[Statedef 2010]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2010 +(var(1)*1)
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 12
value = s7,15

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 34
value = s7,16

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 48
value = s7,17

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 52
value = s7,18

[State 2000,]
type = PlaySnd
trigger1 = anim = 2011
trigger1 = AnimElem = 10
value = s9,12

[State 2000,]
type = PlaySnd
trigger1 = anim = 12010
trigger1 = AnimElem = 12
value = s2000,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s1,8


[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010 ||anim = 2011
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 2011
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 57,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 40,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 52, 4]
type = ChangeState
triggerall = anim = 12010
triggerall = fvar(30)=1
trigger1 = AnimTime = 0
value = 2040

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
getpower = 0
damage = 80,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 9,7
sparkno = -1
sparkxy = -20,-60
hitsound = s1,9
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = 30000
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 52
persistent = 0
anim = 1390
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 52
time = 2
value = 255,255,255
under = 1

[State 1000,]
type = ChangeState
triggerall = anim = 2010 ||anim = 2011
triggerall = power >= 1000
triggerall = p2life > 0
trigger1 = command = "26262626_x+y"
trigger1 = AnimElemtime(52) > 1 && AnimElemtime(54) < 15
value = ifelse(var(1)=1,2700,2750)

[State 52, 4]
type = ChangeState
triggerall = anim = 2010 ||anim = 2011
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2040]
type = S
movetype = A
physics = S
velset = 0,0
anim = 2040
ctrl = 0
sprpriority = 5


[State 0, TargetState]
type = TargetState
Trigger1 = Time =0
value = 2041

[State 0, 8]
type = Explod
trigger1 = time = 0
anim = 30000
postype = p1
pos = 42,-82
bindtime = 1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s1,8


[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 42,-82

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 39,-84

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 42,-78

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 27,-108

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 7,-130

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = -3,-122

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
pos = 0,-40

[State explod];GtFNg
type = Explod
trigger1 = AnimElem = 7
anim = 2045
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.47,0.47

[State explod];GtFNg
type = Explod
trigger1 = AnimElem = 7
anim = 2046
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.47,0.47

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2000,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2000,5

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S,HA
getpower = 0
damage = 90
animtype = Hard
priority = 3,Hit
pausetime = 14,15
sparkno = S30002
sparkxy = -20,-80
hitsound = s1,7
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-8
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 100

[State a]
type = AssertSpecial
trigger1 = AnimElemtime(7) > 0
trigger1 = AnimElemtime(7) < 2
flag = noshadow
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 7
time = 12
add = 256,0,0
mul = 256,0,0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; 相手幼
[Statedef 2041]
type = A
movetype = H
physics = N
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2041

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
value = 5100

;---------------------------------------------------------------------------
;SEEt

[Statedef 2060]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2010+(var(1)*1)
ctrl     = 0
sprpriority = 5

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 20
trigger6 = animelem = 28
trigger7 = animelem = 34
trigger8 = animelem = 41
trigger9 = animelem = 52
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 8
value = s7,24

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 26
value = s7,25

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 41
value = s7,26

[State 2000,]
type = PlaySnd
trigger1 = anim = 2011
trigger1 = AnimElem = 10
value = s9,12

[State 2000,]
type = PlaySnd
trigger1 = anim = 12010
trigger1 = AnimElem = 12
value = s2000,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s1,8

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 2011
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 2011
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 57,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 40,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 52, 4]
type = ChangeState
triggerall = anim = 12010
triggerall = fvar(30)=1
trigger1 = AnimTime = 0
value = 2040

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
getpower = 0
damage = 80,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 9,7
sparkno = -1
sparkxy = -20,-60
hitsound = s1,9
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = 30000
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 52
persistent = 0
anim = 1390
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 52
time = 2
value = 255,255,255
under = 0

[State 1000,]
type = ChangeState
triggerall = anim = 2010||anim = 2011
triggerall = power >= 1000
triggerall = p2life > 0
trigger1 = command = "26262626_x+y"
trigger1 = AnimElemtime(52) > 1 && AnimElemtime(54) < 15
value = ifelse(var(1)=1,2700,2750)

[State 52, 4]
type = ChangeState
triggerall = anim = 2010||anim = 2011
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;---------------------------------------------------------------------------
; SEEt

[Statedef 2070]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2050+(var(1)*1)
ctrl     = 0
sprpriority = 2


;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a];MAXQ[W
type = varadd
triggerall = fvar(20) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(20) = -120

[State a];_
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 36
time = 36
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-110

[State 00];
type = PlaySnd
triggerall = anim = 2050
trigger1 = AnimElem = 3
value = s7,14
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 2051
trigger1 = AnimElem = 3
value = 9,23
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 12050
trigger1 = AnimElem = 3
value = 2000,random%2
channel = 4

[State 3000, u]
type = VelSet
trigger1 = anim = 2050||anim = 12050
trigger1 = AnimElem = 8,>=0
x = 9

[State 3000, u]
type = VelSet
trigger1 = anim = 2051
trigger1 = AnimElem = 13,>=0
x = 12

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,1
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2080
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
; t_bVI

[Statedef 2005]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2005+(var(1)*1)
ctrl     = 0
sprpriority = 2

[State 3000, u]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(i)
[Statedef 2020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(i)
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2030

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;SEEt

[Statedef 2080]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 20111
ctrl     = 0
sprpriority = 5

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 20
trigger6 = animelem = 28
trigger7 = animelem = 34
trigger8 = animelem = 41
trigger9 = animelem = 52
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 12
value = s7,15

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 34
value = s7,16

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 48
value = s7,17

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 52
value = s7,18

[State 2000,]
type = PlaySnd
trigger1 = anim = 12010
trigger1 = AnimElem = 12
value = s2000,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s1,8


[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010 ||anim = 20111
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 20111
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 57,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 40,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 52, 4]
type = ChangeState
triggerall = anim = 12010
triggerall = fvar(30)=1
trigger1 = AnimTime = 0
value = 2040

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
getpower = 0
damage = 80,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 9,7
sparkno = -1
sparkxy = -20,-60
hitsound = s1,9
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = 30000
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 52
persistent = 0
anim = 1390
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 52
time = 2
value = 255,255,255
under = 1

[State 52, 4]
type = ChangeState
trigger1 = anim = 20111 && animelem = 45
value = 2081
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 2081]
type = S
movetype = A
physics = N
anim = 3036
sprpriority = 2
velset = 0,0
ctrl = 0

[State 3036, Width]
type = width
trigger1 = 1
edge = 80,0

[State 3036, Bind1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 80, -33
time = 1

[State 3036, Bind3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 67, -7
time = 1

[State 3036, Hit]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype = hard
damage = 0,0
guardflag = M
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -4.5,-7
air.velocity = -4.5,-7
airguard.velocity = 0
guard.velocity = 0
getpower = 0,0
givepower = 21,21
air.juggle = 15
guard.pausetime = 3,3
guard.slidetime = 18
guard.hittime = 36
guard.ctrltime = 36
yaccel = .48
fall = 1
fall.yvelocity = -3.4
fall.recovertime = 110
numhits = 0
p2getp1stateno = 1
p2stateno = 2082
p2facing = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
trigger4 = AnimElem = 10
anim = 2801
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermove = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
trigger4 = AnimElem = 10
anim = 2802
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9
supermove = 1

[State 3036, TargetLifeADD]
type = TargetLifeAdd
trigger1 = AnimElem = 10
value = -100

[State 3036, EnvShake]
type = EnvShake
trigger1 = animelem = 4, = 0
trigger2 = animelem = 6, = 0
trigger3 = animelem = 8, = 0
trigger1 = AnimElem = 10, = 0
time = 20
ampl = -5
freq = 180

[State 3036, Burn]
type = Varset
trigger1 = animelem = 10, = 0
persistent = 0
ignorehitpause = 1
var(28) = 1

;BURN 0
[State 3036, Burn 0]
type = Explod
trigger1 = Animelem = 10
ignorehitpause = 1
;persistent = 0
anim = 16810
id = 16023
pos = -20,-20
postype = P2
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 3
ownpal = 1

;BURN 1
[State 3036, Burn 1]
type = Explod
trigger1 = Animelem = 10
ignorehitpause = 1
;persistent = 1
anim = 1390
id = 16024
pos = 0,0
postype = P2
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 75,75
sprpriority = 2
ownpal = 1

[state 3036, som de derrubado]
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
value = 9,28

[state 3036, som]
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
value = 9,29

[state 3036, grito do especial]
type = playsnd
trigger1 = animelem = 10
value = 9,30

[State 3036, boom]
type = PlaySnd
trigger1 = AnimElem = 10
value = 9,31
volume = 50

[State a]
type = EnvColor
trigger1 = animelem = 10
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 1000,]
type = ChangeState
triggerall = power >= 1000
triggerall = p2life > 0
trigger1 = Animelem = 8, > 0  && Animelem = 9, <= 9
trigger1 = command = "26262626_x+y"
value = 2085

[State 3036, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 2082]
type    = S
movetype= H ;Get hit
physics = N
sprpriority = 0
ctrl = 0

[State 3041, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 3040, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 3041

[State 2540, Flash]
type = PalFX
trigger1 = Animelem = 10, = 0
time = 46
add = -70,-110,-10
sinadd = 30,10,0,10
color = 0
invertall = 1

[State 3041, liftoff]
type = Selfstate
Trigger1 = AnimTime = 0
value = 5000
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 2085]
type = S
movetype = A
physics = S
anim = 3950
poweradd = 0
ctrl = 0
velset = 0
facep2 = 1

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 0
time = 34
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 0
stateno = 7001
supermovetime = 30
pos = 65,-10

[State 3200, env]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 29
under = 1

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, IL]
type = Width
trigger1 = AnimElem = 1
edge = 110,0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 12
freq = 120
time = 15

[State 3010, 1]
type = BGPalFX
trigger1 = 1
time = 4
add = 0,0,0
mul = 90,0,0
invertall = 1
ignorehitpause = 1

[State 3201, ]
type = Explod
trigger1 = AnimElem = 1,1
anim = 3120
ID = 3120
sprpriority = 12
postype = p2
pos = 0,10
scale = 1,1
supermove = 1
ownpal = 1
bindtime = 1

[State 1270, 9]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,15
volume = 0

[State 1000, 2]
type = Width
trigger1 = AnimElem = 1
value = 90,0

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 1
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 20

[State 2001, 2053]
type = removeExplod
trigger1 = Time = 0
ID = 3835

[State 3000, G]
type = HitBy
trigger1 = AnimElem = 6,<0
value = SCA, NT, ST, HT
time = 1

[State 3201, ]
type = Explod
trigger1 = AnimElem = 7,1
anim = 3970
ID = 3970
sprpriority = 12
postype = p1
pos = 15,0
scale = 1,1
supermove = 1
ownpal = 1
bindtime = -1
removetime = -1;12

[State 1000, ]
type = PosAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
x = 17

[State 1000, ]
type = PosAdd
trigger1 = AnimElem = 8
x = 10

[State 2200, 3]
type = stopSnd
trigger1 = AnimElem = 1
channel = 20

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,8
volume = 0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 9,2
volume = 180
channel = 0

[State 1105, 3]
type = EnvColor
trigger1 = time%9 = 0 && AnimElem = 9,>=1
value = 255,255,255
under = 1
time = 1

[State 2355, 10]
type = AssertSpecial
trigger1 = time%9 = 0 && AnimElem = 9,>=1
flag = NoFG
ignorehitpause = 1

[State 903, 11]
type = TargetLifeAdd
trigger1 = time%9 = 0 && AnimElem = 9,>=1
value = -20
kill = 0

[State 855, Bind2]
type = TargetBind
trigger1 = animelem = 1, >= 0
trigger1 = animelem = 2, < 0
pos = 58,-7

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 2
pos = 70,-10

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 3
pos = 70,-30

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 4
pos = 70,-50

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 5
pos = 70,-70

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 6
pos = 55,-90

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 7
pos = 35,-105

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 8
pos = 22,-110

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 9
pos = 20,-120

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 10
pos = 23,-120

[State 2210, 19]
type = targetstate
trigger1 = time = 0
value = 2087

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 5,23
volume = 0

[State 2210, 19]
type = ChangeState
trigger1 = time = 129
value = 2086

;-------------------------------------------------------------------------------
[Statedef 2086]
type = S
movetype = A
physics = S
anim = 3951
poweradd = 0
ctrl = 0
velset = 0

[State 183, 3]
type = EnvShake
trigger1 = animelem = 1
ignorehitpause = 1
freq = 150
ampl = 5
phase = 150
time = 0

[State 3202, targetbind]
type = null;targetbind
trigger1 = AnimElem = 1,5
pos = 30,-20

[State 1000, ]
type = PosAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 14
x = -13

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1,5
value = 20,49
volume = 0

[State 1401, 5]
type = HitDef
trigger1 = AnimElem = 1,4
attr = S, SA
damage = 25,0
getpower = 0,0
givepower = 20,20
animtype = diagup
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15,-90
pausetime = 3,3
hitsound = -1
guardsound = S2,4
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -7,-10.5
air.velocity = -7,-10.5
guard.hittime = 17
guard.velocity = -10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .6
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
snap = 55,-20

[State 1105, 3]
type = EnvColor
trigger1 = AnimElem = 1,6
value = 255,255,255
under = 1
time = 1
persistent = 0

[State 2355, 10]
type = AssertSpecial
trigger1 = AnimElem = 1,6
flag = NoFG
ignorehitpause = 1
persistent = 0

[State 2001, 2053]
type = removeExplod
trigger1 = Time = 0
ID = 3970

[State 3201, ]
type = Explod
trigger1 = AnimElem = 1
anim = 3161
ID = 3971
sprpriority = 12
postype = p1
pos = 15,0
scale = 1,1
supermove = 1
ownpal = 1
bindtime = -1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 982
pos = 25,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 14

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 982
pos = -5,5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 13

[State 1000, j]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4500
anim = F3000
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, j]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4500
anim = Fifelse(random < 700,3000,10000)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4015
anim = F3050
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4015
anim = Fifelse(random < 800,3050,10000)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, j]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4500
anim = F3000
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, j]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4500
anim = Fifelse(random < 700,3000,10000)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4015
anim = F3050
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Explod
trigger1 = AnimElem = 1,5
ID = 4015
anim = Fifelse(random < 800,3050,10000)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 22
persistent = 0
ignorehitpause = 1

[State -2, 5]
type = Pause
trigger1 = winko = 0
trigger1 = time = [6,20]
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2210, 19]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 2087]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 9000, 1]
type = PalFX
trigger1 = Time = 0
time = 180
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1
ignorehitpause = 1

[State 1520, 1]
type = null;NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1320, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3972

;---------------------------------------------------------------------------
; SEEt

[Statedef 2090]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2050+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a];MAXQ[W
type = varadd
triggerall = fvar(20) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(20) = -120

[State a];_
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 36
time = 36
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-110

[State 00];
type = PlaySnd
triggerall = anim = 2050
trigger1 = AnimElem = 3
value = s7,14
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 2051
trigger1 = AnimElem = 3
value = 9,23
channel = 4

[State 00];
type = PlaySnd
triggerall = anim = 12050
trigger1 = AnimElem = 3
value = 2000,random%2
channel = 4

[State 3000, u]
type = VelSet
trigger1 = anim = 2050||anim = 12050
trigger1 = AnimElem = 8,>=0
x = 9

[State 3000, u]
type = VelSet
trigger1 = anim = 2051
trigger1 = AnimElem = 13,>=0
x = 12

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,1
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2091
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
;SEEt

[Statedef 2091]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2012
ctrl     = 0
sprpriority = 5

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 20
trigger6 = animelem = 28
trigger7 = animelem = 34
trigger8 = animelem = 41
trigger9 = animelem = 47
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 1531, 5]
type = envshake
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
time = 17
ampl = -5
freq = 255
phase = 10

[State 1531, 5]
type = hitadd
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
value = 1

[State 1531, 5]
type = playsnd
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
value = s173, 14

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 8
value = s7,24

[State 2000,]
type = PlaySnd
trigger1 = anim = 2012
trigger1 = AnimElem = 10
value = s9,32

[State 2000,]
type = PlaySnd
trigger1 = anim = 2012
trigger1 = AnimElem = 54
value = s9,33

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 26
value = s7,25

[State 2000,]
type = PlaySnd
trigger1 = anim = 2010
trigger1 = AnimElem = 41
value = s7,26

[State 2000,]
type = PlaySnd
trigger1 = anim = 2011
trigger1 = AnimElem = 10
value = s9,12

[State 2000,]
type = PlaySnd
trigger1 = anim = 12010
trigger1 = AnimElem = 12
value = s2000,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s1,8

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 2012
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
triggerall = anim = 2010||anim = 2012
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 57,0

[State 810, 1]
type = TargetBind
triggerall = anim = 12010
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 40,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2021
kill = 0

[State 52, 4]
type = ChangeState
triggerall = anim = 12010
triggerall = fvar(30)=1
trigger1 = AnimTime = 0
value = 2040

[State 1531, 5]
type = targetlifeadd
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
value = -16

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 56
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 9,7
sparkno = -1
sparkxy = -20,-60
hitsound = s1,9
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = 30000
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 56
persistent = 0
anim = 1390
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16810
postype = P1
pos = 31,-73
ignorehitpause = 1
removetime = 30
sprpriority = 7

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16810
postype = P1
pos = 28,-59
ignorehitpause = 1
removetime = 30
sprpriority = 6

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16811
postype = P1
pos = 30,-43
ignorehitpause = 1
removetime = 40
sprpriority = 5

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16811
postype = P1
pos = 63,-67
ignorehitpause = 1
removetime = 40
sprpriority = 5

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16812
postype = P1
pos = 45,-28
ignorehitpause = 1
removetime = 11
sprpriority = 3

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16812
postype = P1
pos = 63,-38
ignorehitpause = 1
removetime = 11
sprpriority = 4

[State 8160, 13]
type = explod
trigger1 = animelem = 48
trigger2 = animelem = 49
trigger3 = animelem = 50
trigger4 = animelem = 51
anim = 16812
postype = P1
pos = 40,-94
ignorehitpause = 1
removetime = 11
sprpriority = 4

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 56
time = 2
value = 255,255,255
under = 0

[State 1000,]
type = ChangeState
triggerall = anim = 2010||anim = 2012
triggerall = power >= 1000
triggerall = p2life > 0
trigger1 = command = "26262626_x+y"
trigger1 = AnimElemtime(56) > 1 && AnimElemtime(58) < 15
value = ifelse(var(1)=1,2700,2750)

[State 52, 4]
type = ChangeState
triggerall = anim = 2010||anim = 2012
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 2100]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]



[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 34
time = 34
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-50

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 4

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -8

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105


;---------------------------------------------------------------------------
; \

[Statedef 2150]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 34
time = 34
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = 5,-50

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 6

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -8

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105

;---------------------------------------------------------------------------
; \n

[Statedef 2105]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2105
ctrl     = 0
sprpriority = 3

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HT
damage = 0,0
animtype = Hard
hitflag = M
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
p1stateno = 2110
p2stateno = 2120
p2facing = 1

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = s52,0


[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; \

[Statedef 2110]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2110
ctrl     = 0
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = AnimElem = 6
edge = 100,0

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 810,]
type = TargetBind
trigger1 = time = 0
pos = 40, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 7
pos = -70, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 11
pos = -80, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 16
pos = 60, 0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 7
value = s1,6

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 12
value = s1,6

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 16
value = s1,6

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 26
value = 7,23

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(6) > 0 && AnimElemtime(20) < 0
flag = noshadow

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 7
time = 18
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 11
time = 20
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 16
time = 11
value = 210,0,0
under = -1

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(24) < 0
flag = noBG

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
value = -80
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 26
value = -30

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;
[Statedef 2120]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(2) > 6 && AnimElemtime(12) < 0
flag = noshadow

[State 2100,]
type = Palfx
trigger1 = AnimElemtime(2) = 7
add = -255,-255,-255
time = 132

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2120

[State 1830]
type = SelfState
trigger1 = Animtime = 0
trigger1 = loseko
value = 5150

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = alive = 1
value = 2125
ctrl = 0


[Statedef 2125]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2125

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5120

[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2200
ctrl = 0
velset = 0, 0
poweradd = 0

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0

[State 3000, 1]
type = Helper
trigger1 = AnimElem = 1
stateno = 7000
supermovetime = 30
pos = -6,-72

[State 3000]
type = NotHitBy
trigger1 = 1
value = SCA
time = 30

[State 3000]
type = ChangeState
trigger1 = AnimTime = 0
value = 2210


[Statedef 2210]
type = S
movetype = A
physics = N
anim = 2210
velset = 0,0
facep2 = 1
ctrl = 0
poweradd = 0

[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 4 || AnimElem = 17)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -15,-47
pausetime = 2,1
ground.hittime = 23
ground.type = low
ground.slidetime = 23
ground.velocity = -3.5
air.velocity = -2.7,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 5 || AnimElem = 18)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -20,-77
pausetime = 2,1
ground.hittime = 27
ground.type = high
ground.slidetime = 27
ground.velocity = -3.5
air.velocity = -3.1,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 6 || AnimElem = 19)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -25,-107
pausetime = 2,1
ground.hittime = 27
ground.type = high
ground.slidetime = 27
ground.velocity = -3.5
air.velocity = -3.1,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = AnimElem = 30&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -5,-47
pausetime = 12,11
ground.hittime = 24
ground.type = low
ground.slidetime = 21
ground.velocity = -5.5
air.velocity = -4,-10.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100 10]
type = HitDef
trigger1 = AnimElem = 31&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -10,-77
pausetime = 12,11
ground.hittime = 24
ground.type = low
ground.slidetime = 21
ground.velocity = -4.5,-11.7
air.velocity = -4,-11.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100 10]
type = HitDef
trigger1 = AnimElem = 32&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
fall.animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -10,-117
pausetime = 12,12
ground.hittime = 24
ground.type = low;high
ground.slidetime = 21
ground.velocity = -4.2,-12.7
air.velocity = -3.8,-12.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (animelem=4,=-1 ||animelem=17,=-1 ||animelem=30,=-1)&&anim = 2210
value = S1,14
volume = 120

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (animelem=6 ||animelem=19 ||animelem=32,=-1)&&anim = 2210
value = s40,0
freqmul = 1.1

[State 201, 3]
type = PlaySnd
trigger1 = (animelem = 6||animelem = 19)&& anim = 2210
value = s9,20

[State 201, 3]
type = PlaySnd
trigger1 = animelem = 32
value = s9,23

[State 1101, 3]
type = PlaySnd
trigger1 = (animelem = 6||animelem = 19||animelem = 32)&& anim = 2210
value = s5,4

[State 1001, 5]
type = Projectile
trigger1 = animelem = 6,=-1  && anim = 2210
trigger2 = animelem = 19,=-1 && anim = 2210
trigger3 = animelem = 32,=-1 && anim = 2210
projanim = 1151
projshadow = 68,68,68
projremovetime = 24
offset = 25,-70
velocity = 0.00001,0
postype = p1

[State 1001, 18]
type = Projectile
trigger1 = animelem = 8,=-1 && anim = 2210
trigger2 = animelem = 21,=-1 && anim = 2210
trigger3 = animelem = 34,=-1 && anim = 2210
projanim = 1161
projshadow = 68,68,68
projremovetime = 24
offset = -10,-150
velocity = 0.00001,0
postype = p1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 3 && anim = 2210
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0 && anim = 2210
time = 2

;[State 47 2]
;type = Afterimagetime
;trigger1 = time <= 30
;time = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = (Animelem = 6||Animelem = 19||Animelem = 32) && anim = 2210
statetype = A
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
statetype = S

[State 0, PosAdd]
type = PosAdd
trigger1 = (Animelem=3||Animelem=4||Animelem=5||Animelem=16||Animelem = 14||Animelem = 27||Animelem=17||Animelem=18||Animelem=29||Animelem=30||Animelem=31) && anim = 2210
x = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = (Animelem=6||Animelem=19||Animelem=32) && anim = 2210
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 6 && anim = 2210
x = 2
y = -3
[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 19 && anim = 2210
x = 3.5
y = -3.5
[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 32 && anim = 2210
x = 4
y = -9.5

[State 0, 5]
type = HitBy
trigger1 = AnimElem = 5,<0 && anim = 2210
value = SCA,ST,HT
time = 3

[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 6,>1 && pos y < 0 && anim = 2210
y = .54
[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 32,>1 && pos y < 0 && anim = 2210
y = .1
[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 6,>1 && vel x > 1 && anim = 2210
trigger2 = AnimElem = 19,>1 && vel x > 1 && anim = 2210
trigger3 = AnimElem = 32,>1 && vel x > 2 && anim = 2210
x = -.2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 32,>1 && anim != 7120 && vel y >0 && pos y >= 0
value = 7120

[State 0, PosSet]
type = PosSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
x = 0
y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = anim = 2210 && (animelem = 14 || animelem = 27)
trigger2 = Anim = 7120 && Animelem = 1
value = s52,0

[State 0, ChangeState]
type = ChangeState
trigger1 = Anim = 7120 && animtime = 0
value = 0
ctrl = 1

;===============================================================================
[Statedef 2250]
type = S
movetype = A
physics = S
anim = 2200
ctrl = 0
velset = 0, 0
poweradd = 0

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -2000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0

[State 3000, 1]
type = Helper
trigger1 = AnimElem = 1
stateno = 7001
supermovetime = 30
pos = -6,-72

[State 3000]
type = NotHitBy
trigger1 = 1
value = SCA
time = 30

[State 3000]
type = ChangeState
trigger1 = AnimTime = 0
value = 2260

;-------------------------------------------------------------------------------
[Statedef 2260]
type = S
movetype = A
physics = N
anim = 2210
velset = 0,0
facep2 = 1
ctrl = 0
poweradd = 0

[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 4 || AnimElem = 17)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -15,-47
pausetime = 2,1
ground.hittime = 23
ground.type = low
ground.slidetime = 23
ground.velocity = -3.5
air.velocity = -2.7,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 5 || AnimElem = 18)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -20,-77
pausetime = 2,1
ground.hittime = 27
ground.type = high
ground.slidetime = 27
ground.velocity = -3.5
air.velocity = -3.1,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = (AnimElem = 6 || AnimElem = 19)&& anim = 2210
attr = S, HA
damage = 25,3
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -25,-107
pausetime = 2,1
ground.hittime = 27
ground.type = high
ground.slidetime = 27
ground.velocity = -3.5
air.velocity = -3.1,-9.5
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1


[State 1100 10]
type = HitDef
trigger1 = AnimElem = 30&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -5,-47
pausetime = 12,11
ground.hittime = 24
ground.type = low
ground.slidetime = 21
ground.velocity = -5.5
air.velocity = -4,-10.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
air.fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100 10]
type = HitDef
trigger1 = AnimElem = 31&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -10,-77
pausetime = 12,11
ground.hittime = 24
ground.type = low
ground.slidetime = 21
ground.velocity = -4.5,-11.7
air.velocity = -4,-11.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
fall = 1
fall.recover = 0
palfx.time = 27
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100 10]
type = HitDef
trigger1 = AnimElem = 32&& anim = 2210
attr = S, HA
damage = 35,4
animtype = hard
fall.animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -10,-117
pausetime = 12,12
ground.hittime = 24
ground.type = low;high
ground.slidetime = 21
ground.velocity = -4.2,-12.7
air.velocity = -3.8,-12.5
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (animelem=4,=-1 ||animelem=17,=-1 ||animelem=30,=-1)&&anim = 2210
value = S1,14
volume = 120

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (animelem=6 ||animelem=19 ||animelem=32,=-1)&&anim = 2210
value = s40,0
freqmul = 1.1

[State 201, 3]
type = PlaySnd
trigger1 = (animelem = 6||animelem = 19)&& anim = 2210
value = s9,20

[State 201, 3]
type = PlaySnd
trigger1 = animelem = 32
value = s9,23

[State 1101, 3]
type = PlaySnd
trigger1 = (animelem = 6||animelem = 19||animelem = 32)&& anim = 2210
value = s5,4

[State 1001, 5]
type = Projectile
trigger1 = animelem = 6,=-1  && anim = 2210
trigger2 = animelem = 19,=-1 && anim = 2210
trigger3 = animelem = 32,=-1 && anim = 2210
projanim = 1151
projshadow = 68,68,68
projremovetime = 24
offset = 25,-70
velocity = 0.00001,0
postype = p1

[State 1001, 18]
type = Projectile
trigger1 = animelem = 8,=-1 && anim = 2210
trigger2 = animelem = 21,=-1 && anim = 2210
trigger3 = animelem = 34,=-1 && anim = 2210
projanim = 1161
projshadow = 68,68,68
projremovetime = 24
offset = -10,-150
velocity = 0.00001,0
postype = p1

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 3 && anim = 2210
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0 && anim = 2210
time = 2

;[State 47 2]
;type = Afterimagetime
;trigger1 = time <= 30
;time = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = (Animelem = 6||Animelem = 19||Animelem = 32) && anim = 2210
statetype = A
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
statetype = S

[State 0, PosAdd]
type = PosAdd
trigger1 = (Animelem=3||Animelem=4||Animelem=5||Animelem=16||Animelem = 14||Animelem = 27||Animelem=17||Animelem=18||Animelem=29||Animelem=30||Animelem=31) && anim = 2210
x = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = (Animelem=6||Animelem=19||Animelem=32) && anim = 2210
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 6 && anim = 2210
x = 2
y = -3
[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 19 && anim = 2210
x = 3.5
y = -3.5
[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 32 && anim = 2210
x = 4
y = -9.5

[State 0, 5]
type = HitBy
trigger1 = AnimElem = 5,<0 && anim = 2210
value = SCA,ST,HT
time = 3

[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 6,>1 && pos y < 0 && anim = 2210
y = .54
[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 32,>1 && pos y < 0 && anim = 2210
y = .1
[State 0, 6]
type = VelAdd
trigger1 = AnimElem = 6,>1 && vel x > 1 && anim = 2210
trigger2 = AnimElem = 19,>1 && vel x > 1 && anim = 2210
trigger3 = AnimElem = 32,>1 && vel x > 2 && anim = 2210
x = -.2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 32,>1 && anim != 7120 && vel y >0 && pos y >= 0
value = 7120

[State 0, PosSet]
type = PosSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = ((Animelem = 14||Animelem = 27) && anim = 2210) || anim = 7120
x = 0
y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = anim = 2210 && (animelem = 14 || animelem = 27)
trigger2 = Anim = 7120 && Animelem = 1
value = s52,0

[State 0, ChangeState]
type = ChangeState
trigger1 =  animelem = 30
value = 2261
ctrl = 1

;-------------------------------------------------------------------------------
;Upper Doble
[Statedef 2261]
type     = A
movetype = A
physics  = S
juggle   = 10
poweradd = 100
velset   = 0,0
anim     = 1715
ctrl     = 0
facep2   = 1
sprpriority = 5

[State 1120, SgG]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 1000, u]
type = Posadd
trigger1 = animelem = 2
x = 20

[State 1000, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = s4040
hitsound = s8,1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 35,4
animtype = hard
fall.animtype = hard
hitflag = MAF
guardflag = M
sparkno = S30002
guard.sparkno = s30040
hitsound = s1,1
guardsound = s2,4
getpower = 0,0
sparkxy = -10,-117
pausetime = 12,12
ground.hittime = 24
ground.type = low;high
ground.slidetime = 21
ground.velocity = -5,0
air.velocity = -3,-7
guard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.67
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 2262
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 2262]
type     = A
movetype = A
physics  = S
juggle   = 10
poweradd = 20
velset   = 0,0
anim     = 1716
ctrl     = 0
sprpriority = 2

[State 1000, ]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 8
value = s5,7
channel = 4

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,23

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s40,1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 8
anim =  1151
pos = 25,-70
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
anim = 1161
pos = -10,-150
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, u]
type = Posadd
trigger1 = animelem = 1
x = 20

[State 210, IL]
type = Width
trigger1 = AnimElemTime (3) >= 0 && AnimElemTime (4) <= 0
edge = 30,0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 3.8
y = -7.5

[State 1000, u]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 1
statetype = A

[State 200, qbg`]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
attr = S, SA
damage = 30,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-10.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.velocity = -3.2,-6.5
air.type = High
air.hittime = 12
fall = 1
palfx.time = 90
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, ]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = s18,1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2263

;-------------------------------------------------------------------------------
[Statedef 2263]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 7120
ctrl     = 0
sprpriority = 2

[State 1000, ]
type = PlaySnd
trigger1 = time = 1
value = s52,0

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;================
[Statedef 2301]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2351
ctrl     = 0
sprpriority = 3

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

;[State a]
;type = palfx
;triggerall = Time = 0
;trigger1 = prevstateno = [1000,1999]
;add = 96,96,96
;mul = 240,240,240
;sinadd = 96,96,96,32
;color = 8
;time = 10
;ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]


[State 3000, G]
type = notHitBy
trigger1 = time = 0
value = SCA
time = 33

[State a]
type = VarSet
trigger1 = time = 0
var(55)= 0

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7000
supermovetime = 30
pos = -16,-86

[state -2, a];X[
type = pause
triggerall = RoundState = 2
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(8) < 2
trigger1 = gametime % 2
time = 2

;[State 3500, 13]
;type = AssertSpecial
;trigger1 = Time = [10,105]
;flag = Nofg
;flag2 = nobg
;ignorehitpause = 1

[State 1000, ]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 13
value = s2000,3

[State 1000, ]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = AnimElem = 6
value = s9,25

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s18,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s5,4

[State a]
type = EnvShake
trigger1 = AnimElem = 15
time = 16
freq = 40
ampl = -8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 2355
postype = P1
pos = 15,35
sprpriority = 10
removetime = 20
bindtime = -1

[State 3000]
type = Projectile
trigger1 = AnimElem = 13
projID = 2300
projanim = 2360
projremove = 0
projscale = .4,.5
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 38
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 160,10
hitflag = MAF
guardflag = M
hitsound = s1,15
guard.sparkno = s30040
pausetime = 0,8
sparkno = S30002
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;================
[Statedef 2300]
type = S
movetype = A
physics = N
anim = 2300
ctrl = 0
velset = 0
facep2 = 1
;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -2000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]



[State 3000, G]
type = notHitBy
trigger1 = time = 0
value = SCA
time = 33

[State a]
type = VarSet
trigger1 = time = 0
var(55)= 0

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7001
supermovetime = 30
pos = -16,-106

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,34
volume = 255

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 10
value = s5,4

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1050
postype = P1
pos = 0,22
sprpriority = 10
removetime = 20
bindtime = -1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 1050
postype = P1
pos = 10,22
sprpriority = 10
removetime = 20
bindtime = -1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 2310
postype = P1
pos = 24,0
sprpriority = 10
removetime = 20
bindtime = -1


[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 2315
postype = P1
pos = 30,-3
sprpriority = 10
removetime = 20
bindtime = -1

[State 1505, 5]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
projanim = 2311
projhitanim = 2311
projID = 2310
projshadow = 0,0,0
projremovetime = 21
projmiSStime = 1
projhits = 1
offset = 24,0
velocity = 0
hitflag = MFA
damage = 80,6
getpower  = 0
animtype = Hard
guardflag = M
pausetime = 2,12
sparkno = -1
guard.sparkno = -1
sparkxy = 40,-50
hitsound =  s1,1
guardsound = s2,4
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2360
ID = 2002
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1505, 5]
type = Projectile
trigger1 = AnimElem = 11
attr = S, SP
projanim = 2316
projhitanim = 2316
projID = 2320
projshadow = 0,0,0
projremovetime = 27
projmiSStime = 1
projhits = 1
offset = 30,-3
velocity = 0
hitflag = MFA
damage = 80,6
getpower  = 0
animtype = Hard
guardflag = M
pausetime = 2,12
sparkno = S30002
guard.sparkno = s30040
sparkxy = 20,-50
hitsound =  s1,1
guardsound = s2,4
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2370
ID = 2320
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 2100, 3]
type = Explod
triggerall = p2movetype = H
trigger1 = ProjHit = 1
anim = 30002
pos = 15,-60
postype = p2
sprpriority = 10
supermove = 1
bindtime = 1
facing = -1
ownpal = 1

[State 2100, 3]
type = Explod
trigger1 = Projguarded = 1
anim = 30040
pos = 15,-60
postype = p2
sprpriority = 10
supermove = 1
bindtime = 1
facing = -1
ownpal = 1

[State 2000, 15]
type = EnvColor
triggerall = p2movetype = H
trigger1 = projHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 2355, 10]
type = AssertSpecial
triggerall = p2movetype = H
trigger1 = ProjHit = 1, 0
flag = NoFG
ignorehitpause = 1

[State 2000, 15]
type = EnvColor
triggerall = p2movetype = H
trigger1 = AnimElem = 10,>0 && projHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3200, 4]
type = VarSet
trigger1 = projhit2320 = 1
v = 55
value = 1

[State 2210, 19]
type = ChangeState
triggerall = p2movetype = H
trigger1 = AnimElem = 12,>0 && var(55)=1
value = 2350

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2350]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2350
ctrl     = 0
sprpriority = 3

[state -2, a];X[
type = pause
triggerall = RoundState = 2
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(8) < 2
trigger1 = gametime % 2
time = 2

[State a]
type = VarSet
trigger1 = time = 0
var(55)= 0

[State 3500, 13]
type = AssertSpecial
trigger1 = Time = [10,105]
flag = Nofg
flag2 = nobg
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s7,35

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s18,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s5,4

[State a]
type = EnvShake
trigger1 = AnimElem = 15
time = 16
freq = 40
ampl = -8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 2355
postype = P1
pos = 15,35
sprpriority = 10
removetime = 20
bindtime = -1

[State 3000]
type = Projectile
trigger1 = AnimElem = 15
projID = 2300
projanim = 2360
projscale = .4,.5
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 36
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 180,10
hitflag = MAF
hitsound = s1,15
guard.sparkno = s30040
pausetime = 0,8
sparkno = S30002
guard.sparkno = s30040
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2360]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1280, 1]
type = posSet
trigger1 = Time = 0
y = 0

[State 9000, 8];
type = ChangeState
trigger1 = Pos Y != 0
value = 2361

[State 9000, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype) +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 9000, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030            +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 9000, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (selfanimexist(5047 + GetHitVar(animtype))) +ifelse(fvar(30)<1,0,10000*fvar(30))
value = 5047 + GetHitVar(animtype)+ifelse(fvar(30)<1,0,10000*fvar(30))

[State 9000, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 9000, 6]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 9000, 7]
type = Changestate;SelfState
trigger1 = HitShakeOver
trigger1 = Pos Y = 0
value = 2356

[State 201, 2]
type = ChangeState
trigger1 = life = 0
value = 2361

[State 9000, 8]
type = ChangeState
trigger1 = Pos Y != 0
value = 2361

[Statedef 2361]
type = A
movetype = H
physics = N

[State -2, 0]
type = null;RemoveExplod
trigger1 = 1
ignorehitpause = 1
ID = 200002

[State 1500, 2]
type = Posset
trigger1 = Time = 0 && Pos Y >= 1
y = 0

[State 1280, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1280, 2]
type = ChangeAnim
Trigger1 = Time >= 0 && selfanimexist(2360)
value = ifelse((GetHitVar(groundtype)=1),5030,ifelse((GetHitVar(airtype)=1),5030,1235)) +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 1280, 2]
type = ChangeAnim
Trigger1 = Time >= 0 && !selfanimexist(2360)
value = ifelse((GetHitVar(groundtype)=1),5030,ifelse((GetHitVar(airtype)=1),5030,5012)) +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 1280, 3]
type = Changestate;SelfState
trigger1 = HitShakeOver = 1
value = 2362

[Statedef 2362]
type = A
movetype = H
physics = N
velset = -3.8,-5.6

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5030+ifelse(fvar(30)<1,0,10000*fvar(30)) && time = 2
value = 5030 +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5030+ifelse(fvar(30)<1,0,10000*fvar(30)) && time = 5
value = 5050 +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5012+ifelse(fvar(30)<1,0,10000*fvar(30)) && time = 5
value = 5050 +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 0, 0]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=1
x = ifelse(facing=1,6,-6)
y = -6.7

[State 0, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=-1
x = ifelse(facing=1,-6,6)
y = -6.7

[State 1660, 4]
type = VelMul
trigger1 = Time <= 8
x = .97

[State 1281, 1]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1281, 3]
type = Changestate;SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100


[Statedef 2356]
type    = S
movetype= H
physics = N

[State 9001, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9001, 4]
type = VelMul
trigger1 = Pos Y = 0
trigger1 = Time >= 0
x = .8

[State 9001, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10  +ifelse(fvar(30)<1,0,10000*fvar(30))

[State 9001, 7]
type = Changestate;SelfState
trigger1 = HitOver
value = 0
ctrl = 1

[Statedef 2370]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 8[State 0, 0]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=1
x = 0
y = -12

[State 0, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=-1
x = 0
y = -12

[State 1021, 0]
type = ChangeAnim2
trigger1 = hitshakeover = 0
value = 2370

[State 1021, 0]
type = ForceFeedBack
trigger1 = hitshakeover = 0
time = 1
waveform = square

[State 8140, 4]
type = Changestate;SelfState
trigger1 = HitShakeOver = 1
value = 2371

;part2
[Statedef 2371]
type = A
movetype= H
physics = N
ctrl = 0

[State 1660, 2]
type = VelMul
trigger1 = Time = [11,18]
y = .4999

[State 1281, 1]
type = VelAdd
trigger1 = Time = [1,11]
y = .4

[State 1281, 1]
type = VelAdd
trigger1 = 1
y = .55

[State 1022, 0]
type = changeanim2
trigger1 = time = 0
value = 2370

[State 1022, 2]
type = ChangeAnim
trigger1 = anim = 2370
trigger1 = animtime = 0
value = 5030

[State 1022, 2]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
value = 5035

[State 1022, 2]
type = ChangeAnim
triggerall = Anim = 5030||Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 1022, 2]
type = ChangeAnim
triggerall = Anim = 5050
trigger1 = AnimTime = 0
value = 5060

[State 1022, 10]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y > 15
value = 5100

[Statedef 2320]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2.4
y = -14

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2320

[State 1830]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;ctrl = 0

[Statedef 2400]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2400
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 0
stateno = 7000
supermovetime = 30
pos = 5,-80

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s7,21

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s40,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 7

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
y = -4

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .35

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 9
persistent = 0
anim = 1405
postype = P1
pos = 100,-50
sprpriority = 10
removetime = 23

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = A,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = H
priority = 5
pausetime = 2,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -30,-40
hitsound = s1,4
guardsound = s2,4
guard.velocity = -4
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2410
p2stateno = 2420

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2405

;---------------------------------------------------------------------------
;n

[Statedef 2405]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2405
sprpriority = 2

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 4

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = s52,0


[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;

[Statedef 2410]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2410
sprpriority = 2

[State 1000, Explod]
type = Explod
trigger1 = animelem = 3
anim = 2801
pos = 15,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 3
anim = 2802
pos = 15,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, IL]
type = Width
trigger1 = AnimElem = 1
edge = 110,0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 12
freq = 120
time = 15

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 40, -55

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 38, -25

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 35, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 33, 2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 20, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 17, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 5, -50

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -95

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = 25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -10, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(13) >= 0 && AnimElemTime(14) < 0
pos = -17, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 14
pos = -5, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 15
pos = 55, 0

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = s52,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,15

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1,15

[State 200, ]
type = PlaySnd
trigger1 = AnimElemtime(3) = 20
value = 7,27
channel = 10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 14
value = 7,7
channel = 10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s1,11

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
value = s5,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7
x = 30

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
y = -7.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(9) > 0
y = .3

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 9
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
persistent = 0
anim = 1150
id = 1100
postype = P1
pos = 20,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
trigger2 = AnimElem = 20
persistent = 0
anim = 1160
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 15
persistent = 0
anim = 2450
postype = P1
pos = 50,-80
sprpriority = 10

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -40
kill = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1
;ignorehitpause =
;persistent =

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
trigger4 = AnimElem = 18
trigger5 = AnimElem = 19
attr = A, HA
damage = 40,0
getpower = 0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 2,14
sparkno = S30002
guard.sparkno = s30040
sparkxy = -25, -60
hitsound = f-1,1
guardsound = s2,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5.3,-7.8
air.velocity = -5.3,-7.8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 18
time = 1
value = 255,255,255
under = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2412

;---------------------------------------------------------------------------
;n
[Statedef 2412]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2412
ctrl     = 0
sprpriority = 2

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = s52,0


[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;
[Statedef 2420]
type    = A
movetype= H
physics = S
velset = 0,0

[State 192,]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2120]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 1
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 4
value = 5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 11
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 14
value = 5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2420

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 820, 1]
type = ChangeAnim
trigger1 = Animtime = 0
value = 5052


[Statedef 2500]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2500
ctrl     = 0
sprpriority = 8

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -2000

[State 810, IL]
type = Width
trigger1 = movehit
edge = 110,0

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]


[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7001
supermovetime = 30
pos = 25,-105

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s9,25

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,5

[State 200, qbg`]
type = HitDef
trigger1 = time =0
attr = S, HA
getpower = 0
damage = 130,10
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 1, 40
sparkno = S30002
guard.sparkno = s30040
sparkxy = 0, -95
hitsound = s1,6
guardsound = s2,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
air.type = High
air.velocity = -2,-5
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
p2stateno = 2520
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit=1
value = s0,14

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = AnimElem = 9
value = 2510

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2510]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2510
ctrl     = 0
sprpriority = 3

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2510
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s5,5

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s9,26

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 29
value = s18,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 29
value = s5,4

[State a]
type = EnvShake
trigger1 = AnimElem = 29
time = 16
freq = 40
ampl = -8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 28
persistent = 0
anim = 2355
postype = P1
pos = 15,35
sprpriority = 10
removetime = 20
bindtime = -1

[state a];
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
id = 2515
name = "dokuro"
sprpriority = 5
pos = 0,0
postype = p2
stateno = 2515
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
value = 18,6

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
attr = S, HA
getpower = 0
damage = 10
animtype = Hard
hitflag = MAF
priority = 8, Hit
pausetime = 4,5
sparkno = S30002
guard.sparkno = s30040
guardsound = s2,4
sparkxy = 0,-120
hitsound = s1,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3
air.type = High
air.velocity = -4,-3
air.hittime = 20
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 40
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 10
envshake.ampl = 12
envshake.freq = 60
p2stateno = 2521
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 10
animtype = diagup
hitflag = MAF
priority = 8, Hit
pausetime = 2, 15
sparkno = S30002
sparkxy = 0, -100
hitsound = s1,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.type = High
air.velocity = 0,-6
air.hittime = 20
air.cornerpush.veloff = 0
yaccel = .25
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2522
kill = 0

[State 3000]
type = Projectile
trigger1 = AnimElem = 29
projID = 2300
projanim = 2360
projscale = .4,.5
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 36
getpower = 0
ownpal = 0
offset = 100,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 90,6
hitflag = MAF
hitsound = s1,15
pausetime = 0,8
sparkno = S30002
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2520]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2720

[State 1830]
type = SelfState
trigger1 = Enemy,stateno != [2500,2510]
value = 5100

[Statedef 2521]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -4
y = -3

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2721

[State 1830]
type = SelfState
trigger1 = Enemy,stateno != [2500,2510]
value = 5100

;---------------------------------------------------------------------------
;
[Statedef 2522]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = Veladd
trigger1 = time = 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = time = 15
x = 0
y = -7.8

[State 52, 1]
type = Veladd
trigger1 = time >= 15
y = .24

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = SelfAnimExist(5052)
value = 5052

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

[Statedef 2515]
type = A
ctrl = 0
anim = 2515
velset = 0,0
movetype = A
physics = N
sprpriority = 20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------[]
[state a]
type = posset
trigger1 = time = 0
y = 0
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
[Statedef 2600]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2600+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 = animelem = 2
stateno = 7000
supermovetime = 30
pos = -20,-90

[State 181,]
type = PlaySnd
trigger1 = anim = 2600
trigger1 = AnimElem = 2
value = s7,21

[State 181,]
type = PlaySnd
trigger1 = anim = 2601
trigger1 = AnimElem = 2
value = s9,9

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
anim = 2605
postype = P1
pos = -22, -84
sprpriority = 10
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
supermove = 1
ID = 2600

[State 3000, Xe[gX]
type = ChangeState
triggerall = time >= 34
trigger1 = command != "hold_x"
trigger2 = time = 200
value = 2609

;---------------------------------------------------------------------------
; t
; CNS x: 
[Statedef 2601]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2600+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 =  animelem = 2
stateno = 7000
supermovetime = 30
pos = -20,-90

[State 181,]
type = PlaySnd
trigger1 = anim = 2600
trigger1 = AnimElem = 2
value = s7,21

[State 181,]
type = PlaySnd
trigger1 = anim = 2601
trigger1 = AnimElem = 2
value = s9,9

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
anim = 2605
postype = P1
pos = -22, -84
sprpriority = 10
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
supermove = 1
ID = 2600

[State 3000, Xe[gX]
type = ChangeState
triggerall = time >= 34
trigger1 = command != "hold_y"
trigger2 = time = 200
value = 2610

;-------------------------------------------------------------------------------
[Statedef 2605]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2600+(var(1)*1)
ctrl     = 0
sprpriority = 2

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -2000

[State a]
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
fvar(22) = -100

[State a]
type = palfx
triggerall = Time = 0
trigger1 = prevstateno = [1000,1999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck
;---------------------[1星必杀消耗]



[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 = animelem = 2
stateno = 7001
supermovetime = 30
pos = -20,-90

[State 181,]
type = PlaySnd
trigger1 = anim = 2600
trigger1 = AnimElem = 2
value = s7,21

[State 181,]
type = PlaySnd
trigger1 = anim = 2601
trigger1 = AnimElem = 2
value = s9,9

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
anim = 2605
postype = P1
pos = -22, -84
sprpriority = 10
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
supermove = 1
ID = 2600

[State 700, Explod]
type = Explod
trigger1 = time = 6
anim = 939
postype = P1
pos = 0,5
sprpriority = -1
bindtime = -1
removetime = -1
removeongethit = 1
supermove = 1
ID = 977

[State 3000, Xe[gX]
type = ChangeState
triggerall = time >= 34
trigger1 = command != "hold_y"
trigger2 = time = 200
value = 2611

;---------------------------------------------------------------------------
; 

[Statedef 2609]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
anim     = 2650+(var(1)*1)
ctrl     = 0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,6

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 2606
postype = P1
pos = -23, -98
sprpriority = 10
bindtime = -1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1050
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 5
name = "yamibarai"
stateno = 938
ID = 2600
helpertype = normal
pos = 25,1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2640
projanim = 2615
projremove = 1
projcancelanim = 1670
projpriority = 2
projhitanim = -1
projremanim = -1
projsprpriority = 1
projshadow = 0,0,0
projremovetime = -1
offset = 25,1
velocity = 7,0
attr = S, HP
damage = 0,0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 

[Statedef 2610]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
anim     = 2650+(var(1)*1)
ctrl     = 0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,6

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 2606
postype = P1
pos = -23, -98
sprpriority = 10
bindtime = -1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1050
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 5
name = "yamibarai"
stateno = 2650
ID = 2600
helpertype = normal
pos = 25,1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2640
projanim = 2615
projremove = 1
projcancelanim = 1670
projpriority = 2
projhitanim = -1
projremanim = -1
projsprpriority = 1
projshadow = 0,0,0
projremovetime = -1
offset = 25,1
velocity = 7,0
attr = S, HP
damage = 0,0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 

[Statedef 2611]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
anim     = 2650+(var(1)*1)
ctrl     = 0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,6

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 977
ignorehitpause = 1

[State 936, Explod]
type = Explod
trigger1 = time = 0
anim = 940
pos = 0,5
postype = p1
removeongethit = 1
sprpriority = 7

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 2606
postype = P1
pos = -23, -98
sprpriority = 10
bindtime = -1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1050
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 5
name = "yamibarai"
stateno = 976
ID = 2600
helpertype = normal
pos = 25,1
sprpriority = 4
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

;[State 3000]
;type = Projectile
;trigger1 = AnimElem = 5
;projID = 2640
;projanim = 2615
;projremove = 1
;projcancelanim = 1670
;projpriority = 2
;projhitanim = -1
;projremanim = -1
;projsprpriority = 1
;projshadow = 0,0,0
;projremovetime = -1
;offset = 25,1
;velocity = 7,0
;attr = S, HP
;damage = 0,0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[StateDef 976]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2620
poweradd = 0
sprpriority = 2

[State 1000,NotHitBy]
type = Nothitby
trigger1 = 1
value = SCA

[State 1000, Helper]
type = Helper
trigger1 = animelem = 7, = 1
trigger1 = frontedgedist  >= 10
helpertype = normal
name = "Explosiones"
ID = 976
stateno = 976
pos = 40,0
postype = p1
facing = 1
ownpal = 1

[State 1000, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "colicion"
stateno = 983
Id = 983
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S20,49

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -9
phase = 120
freq = 120

[State 1000, Explod]
type = Explod
triggerall = p2stateno = 2620
trigger1 = time = 0
anim = 2930
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1000, Explod]
type = Explod
triggerall = p2stateno = 2620
trigger1 = time = 0
anim = 33305
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 1000, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "Efecto Freeze"
ID = 2625
stateno = 2625
pos = 0,0
postype = p2
ownpal = 1
persistent = 0

[State 3402, Hitdef]
type = hitdef
trigger1 = time  = 0
attr = S, HP
hitflag = MA
guardflag = M
damage = 100,10
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = S30002
guard.sparkno = s30040
guardsound = 2,4
sparkxy = 10, -44
hitsound = s1,9
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2620
p2facing = 1
p2getp1state = 1
persistent = 0
ID = 2620

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
[StateDef 983]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 983
poweradd = 0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP
time = -1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 983

[state 1000, destroyself]
type = destroyself
Trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = parent,time = 17

;-------------------------------------------------------------------------------
[Statedef 2625]
type    = S
physics = N
movetype= I
anim = 2632
ctrl = 0
velset = 0,0

[State 3410, 1]
type = Explod
trigger1 = time = 0
ID = 2625
anim = 2625
pos = 10,floor(-p2bodydist y-pos y)
postype = p2
bindtime = -1
removetime = -1
ontop = 0
ownpal = 1

[State 3410, 2]
type = Explod
trigger1 = p2stateno != 2620
anim = 2630
pos = 10,floor(-p2bodydist y-pos y)
postype = p2
ontop = 0
ownpal = 1

[State 3410, 4]
type = changestate
trigger1 = p2stateno != 2620
value = 2632
ignorehitpause = 1

;-------------------------------------------------------------------------------
[Statedef 2632]
type    = S
physics = N
movetype= I
anim = 2632
ctrl = 0
velset = 0,0

[State 1000, Removeexplod]
type = Removeexplod
trigger1 = time = 0
ID = 2625

[State 1000, destroyself]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
[Statedef 2620]
movetype= H
velset = 0,0
ctrl = 0

[State 700,]
type = Palfx
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
trigger10 = time = 90
trigger11 = time = 100
trigger12 = time = 110
trigger13 = time = 120
trigger14 = time = 130
trigger15 = time = 140
trigger16 = time = 150
trigger17 = time = 160
trigger18 = time = 170
trigger19 = time = 180
trigger20 = time = 190
trigger21 = time = 200
trigger22 = time = 210
trigger23 = time = 220
trigger24 = time = 230
trigger25 = time = 240
trigger26 = time = 250
trigger27 = time = 260
trigger28 = time = 270
trigger29 = time = 280
trigger30 = time = 290
time = 10
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 1000, Pause]
type = Pause
trigger1 = winko = 0
trigger1 = time = [0,25]
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2620, lifeadd]
type = lifeadd
trigger1 = timemod = 30,0
trigger1 = time >= 1
Trigger1 = time <= 290
value = -15

[State 52, 1]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y != 0
trigger2 = AnimTime = 0
statetype = A

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2635

[State 1830]
type = ChangeState
trigger1 = Animtime = 0
trigger2 = life = 0
value = 2630
;---------------------------------------------------------------------------
;
[Statedef 2630]
type = A
movetype= H
physics  = N
ctrl = 0

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -4
y = -6

[State 52, 1]
type = Veladd
trigger1 = time >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5050

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;-------------------------------------------------------------------------------
[StateDef 938]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2610
poweradd = 0
sprpriority = 2

[State 1000, VelAdd]
type = Velset
trigger1 = 1
x = 4

[State 1000,HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP, HA

[State 1000, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP, HA
stateno = 938

[State 1000, ChangeState]
type = ChangeState
trigger1 = time = 30
trigger2 = p2bodydist X < 10
value = 953

;-------------------------------------------------------------------------------
;Impacto
[StateDef 953]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2620
poweradd = 0
sprpriority = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s18,3

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 3120
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 33305
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 1000, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "Efecto Freeze"
ID = 2625
stateno = 2625
pos = 0,0
postype = p2
ownpal = 1
persistent = 0

[State 3402, 1.1]
type = hitdef
trigger1 = time = 0
attr = S, HP
hitflag = MA
guardflag = M
damage = 100,10
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = 10, -44
hitsound = s1,11
guardsound = s2,4
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2620
p2facing = 1
p2getp1state = 1
persistent = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;twp[

[Statedef 2650]
type     = S
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
anim     = 2610
sprpriority = 5

[State 1000, AfterImage]
type = AfterImage
trigger1 = time = 0
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
time = -1
length  = 13
TimeGap = 1
FrameGap = 1

[state a]
type = AttackMulSet
trigger1 = root,fvar(20) <= 0
trigger1 = 1
value = 1-(root,fvar(19)-p2life)/1100

[state a]
type = AttackMulSet
trigger1 = root,fvar(20) > 0
trigger1 = 1
value = 0.9-(root,fvar(19)-p2life)/1100


[State 1001, ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;e

[State 1000, ]
type = Velset
trigger1 = time >= 0
x = 7

[State 181,]
type = PlaySnd
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
value = s18,3

[State 700, GtFNg\]
type = Explod
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
anim = 3120
postype = P1
pos = 0, 0
sprpriority = 10
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1

[State 700, GtFNg\]
type = Explod
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
anim = 33305
postype = P1
pos = 0, 0
sprpriority = 1
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1

[State 3000]
type = Projectile
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
projID = 2620
projanim = 2620
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 34
getpower = 0
ownpal = 0
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 100,10
hitflag = MAF
guardflag = M
hitsound = s1,11
guardsound = s2,4
pausetime = 0,20
sparkno = S30002
guard.sparkno = s30040
sparkxy = 15,-50
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2620
p2facing = 1

[State 810,]
type = EnvShake
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
ampl = 10
freq = 90
time = 20

[State 1000, Xe[gX]
type = DestroySelf
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger2 = root,numprojID(2640) = 0

;---------------------------------------------------------------------------
;
[Statedef 2620]
movetype= H
velset = 0,0
ctrl = 0

[State 700,]
type = Palfx
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
trigger10 = time = 90
trigger11 = time = 100
trigger12 = time = 110
trigger13 = time = 120
trigger14 = time = 130
trigger15 = time = 140
trigger16 = time = 150
trigger17 = time = 160
trigger18 = time = 170
trigger19 = time = 180
trigger20 = time = 190
time = 10
add = 0,-50,80
sinadd = 50,50,50,15
color = 0
invertall = 1

[State 52, 1]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y != 0
trigger2 = AnimTime = 0
statetype = A

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2635

[State 1830]
type = ChangeState
trigger1 = Animtime = 0
value = 2630

;---------------------------------------------------------------------------
;
[Statedef 2630]
type = A
movetype= H
physics  = N
ctrl = 0

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -4
y = -6

[State 52, 1]
type = Veladd
trigger1 = time >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5050

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;  QSEZE娣(ver)wUx

[Statedef 2700]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2700
ctrl     = 0
sprpriority = 8

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 32
time = 32
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7001
supermovetime = 30
pos = 5,-65

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2700
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 6
value = s9,23

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,5

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 10
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 1, 40
sparkno = S30002
sparkxy = 0, -95
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
air.type = High
air.velocity = -2,-5
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
p2stateno = 2720
kill = 0

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = AnimElem = 9
value = 2710

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2710]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2710
ctrl     = 0
sprpriority = 3

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2710
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,5

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s9,26

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 31
value = s18,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 31
value = s5,4

[State a]
type = EnvShake
trigger1 = AnimElem = 31
time = 16
freq = 40
ampl = -8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 30
persistent = 0
anim = 2355
postype = P1
pos = 15,35
sprpriority = 10
removetime = 20
bindtime = -1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 10
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 4, 3
sparkno = S30002
sparkxy = 0,-100
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.type = High
air.velocity = -4,-4
air.hittime = 20
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2stateno = 2721
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
getpower = 0
damage = 10
animtype = diagup
hitflag = MAF
priority = 5, Hit
pausetime = 2, 15
sparkno = S30002
sparkxy = 0, -100
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5
air.type = High
air.velocity = 0,-8
air.hittime = 20
air.cornerpush.veloff = 0
yaccel = .25
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2722
kill = 0

[State 3000]
type = Projectile
trigger1 = AnimElem = 31
projID = 2300
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 38
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 60,6
hitflag = MAF
hitsound = s1,11
pausetime = 0,8
sparkno = S30002
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2720]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -2
y = -5

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2720

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;
[Statedef 2721]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -4
y = -4

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2721

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;
[Statedef 2722]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = Veladd
trigger1 = time = 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = time = 15
x = 0
y = -7.8

[State 52, 1]
type = Veladd
trigger1 = time >= 15
y = .24

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = SelfAnimExist(5052)
value = 5052

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100


;---------------------------------------------------------------------------
;  QSEZE娣(ver)w^x

[Statedef 2750]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2750
ctrl     = 0
sprpriority = 8

;---------------------[1星必杀消耗]
[state a]
type = poweradd
trigger1 = time = 0
value = -1000
;---------------------[1星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7001
supermovetime = 30
pos = 25,-105

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2750
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,19

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,5

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 10
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 1, 40
sparkno = S30002
sparkxy = 0, -95
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
air.type = High
air.velocity = -2,-5
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
p2stateno = 2720
kill = 0

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = AnimElem = 9
value = 2760

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2760]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2760
ctrl     = 0
sprpriority = 3

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2760
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s5,5

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s7,20

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 29
value = s18,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 29
value = s5,4

[State a]
type = EnvShake
trigger1 = AnimElem = 29
time = 16
freq = 40
ampl = -8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 28
persistent = 0
anim = 2355
postype = P1
pos = 15,35
sprpriority = 10
removetime = 20
bindtime = -1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 10
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 4, 3
sparkno = S30002
sparkxy = 0,-120
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.type = High
air.velocity = -4,-4
air.hittime = 20
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2stateno = 2721
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 10
animtype = diagup
hitflag = MAF
priority = 5, Hit
pausetime = 2, 15
sparkno = S30002
sparkxy = 0, -100
hitsound = s1,6
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5
air.type = High
air.velocity = 0,-8
air.hittime = 20
air.cornerpush.veloff = 0
yaccel = .25
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2722
kill = 0

[State 3000]
type = Projectile
trigger1 = AnimElem = 29
projID = 2300
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 38
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 60,6
hitflag = MAF
hitsound = s1,11
pausetime = 0,8
sparkno = S30002
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;XIII mode supers
[Statedef 2800]
type     = S
movetype = A
physics  = S
juggle   = 11
velset   = 0,0
anim     = 2800
ctrl     = 0
sprpriority = 2
;-------------------------------------------------------------------------------
[State 2000, ]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -1000
movetime = 35
time = 35

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 1000, 5]
type = Explod
trigger1 = time = 1
anim = 17000
sprpriority = -1
postype = p1
pos = 5,-110
bindtime = 1
supermove = 1
under = 0
ownpal = 0
scale = .5,.5

[State 1000, 5]
type = Explod
trigger1 = time = 1
anim = 17010
sprpriority = 3
postype = p1
pos = 5,-110
bindtime = 1
supermove = 1
under = 0
ownpal = 0
scale = .5,.5

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,35]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0

[State 2000,]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 3
value = s7,14

[State 3000, ]
type = VelSet
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = MA
priority = 5
pausetime = 2,2
sparkno = S30002
sparkxy = -30,-40
hitsound = s0,21
guardsound = s2,4
guard.sparkno = s30040
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2810
p2stateno = 2820

[State 3000, ]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2805
;---------------------------------------------------------------------------
[Statedef 2805]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2805
ctrl     = 0
sprpriority = 2

[State 3000, ]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, ]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2820

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[State 1830]
type = HitFallSet
Trigger1 = Time = 0
value = 0
;---------------------------------------------------------------------------
[Statedef 2821]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2821

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2810]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2810
ctrl     = 0
sprpriority = 5

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 1
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 5
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 9
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 13
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 20
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 28
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 34
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 41
time = 2
add = 255,255,255

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 52
time = 2
add = 255,255,255

[State 810, ]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 12
value = s7,15

[State 2000,]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 34
value = s7,16

[State 2000,]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 48
value = s7,17

[State 2000,]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = AnimElem = 52
value = s7,18

[State 2000,]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = AnimElem = 5
value = s9,11

[State 2000,]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = AnimElem = 13
value = s9,11

[State 2000,]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = AnimElem = 28
value = s9,11

[State 2000,]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = AnimElem = 41
value = s9,11

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s13,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 12,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2821
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 12,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2821
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 22,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,5
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2820
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 22,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2821
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 27,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2820
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 22,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2821
kill = 0

[State 200, ]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 32,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2820
kill = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = PrevstateNo = 2851
trigger1 = AnimTime = 0
value = 2850

[State 52, 4]
type = ChangeState
trigger1 = PrevstateNo = 2800
trigger1 = AnimTime = 0
value = 2815
;---------------------------------------------------------------------------
[Statedef 2815]
type = S
movetype = A
physics = S
velset = 0,0
anim = 2815
ctrl = 0
sprpriority = 5

[State 0, TargetState]
type = TargetState
Trigger1 = Time =0
value = 2825

[State 0, 8]
type = Explod
trigger1 = time = 0
anim = 4080
postype = p1
pos = 42,-82
bindtime = 1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s1,5

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 42,-82

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(3) < 0
pos = 42,-78

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 27,-108

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 7,-130

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = -3,-122

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6
pos = 0,-40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = s7,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 9000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4

[State 0, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 2830
ID = 2830
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
facing = -1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 2835
ID = 2835
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
facing = -1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HA
getpower = 0
damage = 100
animtype = Hard
priority = 3,Hit
pausetime = 15,15
sparkno = 16006
sparkxy = -20,-80
hitsound = -1
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-8
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 100

[State 2510, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 6
time = 5
add = 255,0,0

[State 1000,]
type = ChangeState
triggerall = anim = 2815
triggerall = power >= 2000
triggerall = p2life > 0
trigger1 = command = "26262626_x+y"
trigger1 = AnimElemtime(7) > 1 && AnimElemtime(9) < 7
value = 3401

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2825]
type = A
movetype = H
physics = N
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2825

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
value = 5100

[Statedef 2900]
type = S
movetype = A
physics = N
anim = 2900
poweradd = 0
ctrl = 0
velset = 0
facep2 = 1

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]


[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 32
movetime = 0
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = Time = 0
stateno = 7200
id = 7200
name= "闪光"
supermovetime = 32
pos = 20,-65

;---------------------[wp[]
[State 903, 11]
type = LifeAdd
trigger1 = Animelem = 2
value = -330*life/const(data.life)
kill = 0

[State a]
type = helper
trigger1 = Time = 2
id = 2920
persistent = 0
name = "hoeru"
pos = 0,0
postype = P1
stateno = 2920
helpertype = normal
keyctrl = 0

[State 2310, 18]
type = Explod
trigger1 = Time = 2
anim = 2930
postype = p1
pos = 0,0
sprpriority = 3
supermove = 1
bindtime = -1
ownpal = 1

;[state 2900, portrait change]
;type = Explod
;triggerall = RoundState <= 2
;trigger1 = animelem = 3
;trigger1 = Facing = 1
;anim = 88900
;id = 88900
;postype = back
;bindtime = -1
;pos = 5,12
;sprpriority = 1
;removetime = -1
;ownpal = 1
;ontop = 1

[State 2000, 8]
type = VarSet
trigger1 = AnimElem = 3
var(1) = 1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 1
trigger1 = AnimElem = 3
source = 1,1
dest = 1,7

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 2
trigger1 = AnimElem = 3
source = 1,1
dest = 1,8

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 3
trigger1 = AnimElem = 3
source = 1,1
dest = 1,9

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 4
trigger1 = AnimElem = 3
source = 1,1
dest = 1,10

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 5
trigger1 = AnimElem = 3
source = 1,1
dest = 1,11

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 6
trigger1 = AnimElem = 3
source = 1,1
dest = 1,12


[State 2200, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = Time = 1
value = 9,18
channel = 0

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = time = 1
value = 18,6
volume = 0

[State 2000, 15]
type = EnvColor
trigger1 = Time = 1
time = 4
value = 180,0,0
under = 1
ignorehitpause = 1

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 2
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 25

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






















[Statedef 2901]
type = S
movetype = A
physics = N
anim = 2900
poweradd = 0
ctrl = 0
velset = 0
facep2 = 1

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]


[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 32
movetime = 0
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = Time = 0
stateno = 7200
id = 7200
name= "闪光"
supermovetime = 32
pos = 20,-65

;---------------------[wp[]
[State 903, 11]
type = LifeAdd
trigger1 = Animelem = 2
value = -330*life/const(data.life)
kill = 0

[State a]
type = helper
trigger1 = Time = 2
id = 2920
persistent = 0
name = "hoeru"
pos = 0,0
postype = P1
stateno = 2920
helpertype = normal
keyctrl = 0

[State 2310, 18]
type = Explod
trigger1 = Time = 2
anim = 2930
postype = p1
pos = 0,0
sprpriority = 3
supermove = 1
bindtime = -1
ownpal = 1

;[state 2900, portrait change]
;type = Explod
;triggerall = RoundState <= 2
;trigger1 = animelem = 3
;trigger1 = Facing = 1
;anim = 88900
;id = 88900
;postype = back
;bindtime = -1
;pos = 5,12
;sprpriority = 1
;removetime = -1
;ownpal = 1
;ontop = 1

[State 2000, 8]
type = VarSet
trigger1 = AnimElem = 3
var(1) = 1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 1
trigger1 = AnimElem = 3
source = 1,7
dest = 1,1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 2
trigger1 = AnimElem = 3
source = 1,8
dest = 1,1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 3
trigger1 = AnimElem = 3
source = 1,9
dest = 1,1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 4
trigger1 = AnimElem = 3
source = 1,10
dest = 1,

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 5
trigger1 = AnimElem = 3
source = 1,11
dest = 1,1

[State a]
type = RemapPal
trigger1 = anim = 2900
trigger1 = palno = 6
trigger1 = AnimElem = 3
source = 1,12
dest = 1,1


[State 2200, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = Time = 1
value = 9,18
channel = 0

[State 2200, 2 Voice]
type = PlaySnd
trigger1 = time = 1
value = 18,6
volume = 0

[State 2000, 15]
type = EnvColor
trigger1 = Time = 1
time = 4
value = 180,0,0
under = 1
ignorehitpause = 1

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 2
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 25

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




















;---------------------------------------------------------------------------


[Statedef 2920]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 2920

[state a]
type = AttackMulSet
trigger1 = root,fvar(20) <= 0
trigger1 = 1
value = 1-(root,fvar(19)-p2life)/1100

[state a]
type = AttackMulSet
trigger1 = root,fvar(20) > 0
trigger1 = 1
value = 0.9-(root,fvar(19)-p2life)/1100

;---------------------[GtFNg]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[U]
[State a]
type = HitDef
trigger1 = time = 0
attr = A, HP
animtype  = hard
damage    = 100,10
getpower = 0,0
hitflag = MAFLD
guardflag = L
pausetime = 14,15
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15,-13
hitsound = -1
guardsound = s2,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -11
air.velocity = -8
air.fall = 1
fall.recover = 0
p2facing = 1
id = 9999
p2stateno = 2922
kill = 0

;---------------------[G]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[Xe[gs]
[state a]
type = destroyself
trigger1 = animtime = 0

;(ENEMY)nEd
[Statedef 2922]
type    = S
movetype= H
physics = S
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0


;---------------------[o]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2922

;---------------------[Xe[gs]
[State 821, 3]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3000]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 3001
ctrl     = 0
sprpriority = 2

;---------------------[2星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[state a];POWER消耗
type = poweradd
trigger1 = time = 0
value = -2000

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[2星必杀消耗]




[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 34
time = 34
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7100
supermovetime = 30
pos = 30,-60

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,0

[State 1950]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HT
getpower = 0
damage = 0,0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 0,0
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15,-65
hitsound = s1,1
guardsound = s2,4
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3010
p2stateno = 3020

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; QSEEgU

[Statedef 3010]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3010
ctrl     = 0
sprpriority = 5

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2801
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2802
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 810, IL]
type = Width
trigger1 = time = 0
edge = 150,0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = F62
postype = P1
pos = 70,0
sprpriority = 10
bindtime = -1

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 65, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70, -10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75, -13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 75, -30

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 75, -50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 72, -70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 72, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 90, -108

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 90, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 85, -118

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 45
pos = 62, -25

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -100
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 17
value = -50
kill = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 12
freq = 120
time = 15

[State 810,]
type = EnvShake
trigger1 = AnimElem = 17
ampl = 3
freq = 100
time = 5

[State 810,]
type = EnvShake
trigger1 = AnimElem = 20
ampl = 2
freq = 100
time = 63

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = 5,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s0,15

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = s0,24

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = s1,7

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 17
value = 17,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 9,18

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = 9,16

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(15) > 0 && AnimElemtime(53) < 0
flag = noshadow

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
time = 148
value = 210,0,0
under = -1

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(24) < 0
flag = noBG

[State 2100]
type = Hitadd
trigger1 = AnimElem = 17
value = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 45
attr = S, HA
damage = 200
getpower = 0
animtype = up
hitflag = MAF
priority = 3, Hit
pausetime = 0,30
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 26
envshake.ampl = 14
envshake.freq = 80

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;
[Statedef 3020]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(11) > 30
flag = noshadow

[State 2100,]
type = Palfx
trigger1 = AnimElemtime(11) = 20
add = -100,-255,-255
time = 150

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3020

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5130


;---------------------------------------------------------------------------
; O_ZV

[Statedef 3100]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 3000
ctrl     = 0
sprpriority = 2

;---------------------[2星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[state a];POWER消耗
type = poweradd
trigger1 = time = 0
value = -2000

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[2星必杀消耗]




[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 34
time = 34
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7100
supermovetime = 30
pos = 30,-60

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s20,0

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 1950]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HT
getpower = 0
damage = 0,0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 0,0
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15,-65
hitsound = s1,1
guardsound = s2,4
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3110
p2stateno = 3120

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1405
postype = P1
pos = 85,-60
sprpriority = 10
removetime = 23

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; O_ZV

[Statedef 3110]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3100
ctrl     = 0
sprpriority = 5

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2801
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2802
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 810, IL]
type = Width
trigger1 = time = 0
edge = 140,0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 3120
postype = P1
pos = 70,-5
sprpriority = 10
bindtime = -1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElemtime(10) = 1
persistent = 0
anim = 3150
postype = P1
pos = 79,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElemtime(14) = 2
persistent = 0
anim = 3160
postype = P1
pos = 80,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = time = 135
persistent = 0
anim = 3161
postype = P1
pos = 80,0
sprpriority = 6

[State 1000, Explod]
type = Explod
trigger1 = time = 140
anim = 982
pos = 85,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 14

[State 1000, Explod]
type = Explod
trigger1 = time = 140
anim = 982
pos = 75,5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 65, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70, -10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75, -13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 75, -30

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 75, -50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 72, -70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 72, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 90, -108

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 90, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 85, -118

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 58
pos = 62, -25

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -100
absolute = 1
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 14
trigger2 = AnimElem = 16
trigger3 = AnimElem = 19
trigger4 = AnimElem = 21
trigger5 = AnimElem = 24
trigger6 = AnimElem = 26
trigger7 = AnimElem = 29
trigger8 = AnimElem = 31
trigger9 = AnimElem = 34
trigger10 = AnimElem = 36
trigger11 = AnimElem = 39
trigger12 = AnimElem = 41
trigger13 = AnimElem = 44
trigger14 = AnimElem = 46
trigger15 = AnimElem = 49
trigger16 = AnimElem = 51
trigger17 = AnimElem = 54
value = -9
kill = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 12
freq = 120
time = 15

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1,4

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 11
value = 7,27
channel = 4

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 10
value = 18,5

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 58
value = 18,171

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(10) > 0 && AnimElemtime(58) < 0
flag = noshadow

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(58) < 0
flag = noBG

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 58
attr = S, HA
damage = 100
getpower = 0
animtype = Diagup
numhits = 0
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-7.5
air.velocity = -6,-7.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 10
envshake.ampl = 7
envshake.freq = 80

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
trigger2 = AnimElem = 24
trigger3 = AnimElem = 27
trigger4 = AnimElem = 42
trigger5 = AnimElem = 48
trigger6 = AnimElemtime(56) = 1
trigger7 = AnimElemtime(56) = 2
trigger8 = AnimElemtime(57) = 1
trigger9 = AnimElemtime(58) = 1
trigger10 = AnimElemtime(58) = 4
time = 1
value = 255,255,255
under = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;
[Statedef 3120]
type    = S
movetype= H
physics = N
velset = 0,0

[State 700,]
type = Palfx
trigger1 = AnimElem = 11
time = 300
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3110

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5300

[Statedef 3200]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 3200
ctrl     = 0
sprpriority = 2

;---------------------[2星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[state a];POWER消耗
type = poweradd
trigger1 = time = 0
value = -2000

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[2星必杀消耗]

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 36
time = 36
darken = 0

[State 3000, 1]
type = Helper
trigger1 = time = 2
stateno = 7100
supermovetime = 30
pos = 5,-110

[State 2000,]
type = PlaySnd
triggerall = anim = 3200
trigger1 = AnimElem = 3
value = s7,36

[State 3000, u]
type = VelSet
triggerall = anim = 3200
triggerall = var(1)=0
trigger1 = AnimElem = 11,>=0
x = 9

[State 3000, u]
type = VelSet
triggerall = anim = 3200
triggerall = var(1)=1
trigger1 = AnimElem = 11,>=0
x = 12

[State 00];
type = PlaySnd
triggerall = anim = 13200
trigger1 = AnimElem = 3
value = 2000,random%2

[State 3000, u]
type = VelSet
triggerall = anim = 13200
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
triggerall = anim = 3200
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,6
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3210

[State 1950]
type = HitDef
triggerall = anim = 13200
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 1,2
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,-40
hitsound = s1,1
guardsound = s2,4
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3220

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 3205

[Statedef 3205]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3205+(var(1)*1)
ctrl     = 0
sprpriority = 2

[State 3000, u]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3210]
type = S
movetype = A
physics = S
anim = 3210+(var(1)*1)

[State 1000, EnvColor]
type = EnvColor
trigger1 = animelem = 7
trigger2 = animelem = 15
trigger3 = animelem = 19
trigger4 = animelem = 24
trigger5 = animelem = 44
trigger6 = animelem = 54
trigger7 = animelem = 54
value = 255,255,255
time = 1
under = 1

[State 1020, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 1
length = 10
palbright = 60,60,60
palconstrast = 90,90,160
palpostbright = 0,0,60
paladd = 4,4,16
palmul = .7,.7,.85
trans = add1

[State 2210, 19]
type = targetstate
trigger1 = Time = 0
value = 3216

[State 1000, 2]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 60,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 40,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 8
pos = 5,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 9
pos = 0,0

[State 8110, 4]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 1270, 9]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,37
;channel = 20

[State 2210, 3]
type = PlaySnd
trigger1 = AnimElem = 24;27
value = 7,38

[State 2210, 2]
type = PlaySnd
trigger1 = Animelem = 8 || Animelem = 15 || Animelem = 19
value = s1,6

[State 2210, 2]
type = PlaySnd
trigger1 = Animelem = 23
trigger2 = Animelem = 23,3
value = s1,6

[State 2210, 2]
type = PlaySnd
trigger1 = Animelem = 44 || Animelem = 54 || Animelem = 64
value = s0,15
volume = 0

[State 2210, 3]
type = PlaySnd
trigger1 = AnimElem = 64
value = 1,9

[State 3000,1]
type = Explod
trigger1 = Animelem = 8
anim = 30002
pos = 45,-55
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1

[State 3000,1]
type = Explod
trigger1 = Animelem = 15 || Animelem = 23
anim = 30002
pos = 25,-25
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1

[State 3000,1]
type = Explod
trigger1 = Animelem = 19
anim = 30002
pos = -35,-25
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1
ontop = 1

[State 3000,1]
type = Explod
trigger1 = Animelem = 23
anim = 30002
pos = -35,-25
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1
ontop = 1
facing = -1

[State 3000,1]
type = Explod
trigger1 = Animelem = 24
anim = 16810
pos = 25,-25
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1

[State 3000,1]
type = Explod
trigger1 = Animelem = 24
anim = 16810
pos = -35,-25
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1
ontop = 1
facing = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 44
trigger2 = animelem = 54
trigger3 = animelem = 64
anim = 2801
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 44
trigger2 = animelem = 54
trigger3 = animelem = 64
anim = 2802
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1425, 7]
type = null;Explod
trigger1 = Animelem = 44 || Animelem = 54 || Animelem = 64
anim = 4023
sprpriority = 6
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 64
persistent = 0
anim = 1390
postype = P1
pos = -30,-25
sprpriority = 2
supermove = 1

[State 903, 11]
type = TargetpowerAdd
trigger1 = Animelem = 8 || Animelem = 15 || Animelem = 19 || Animelem = 23 || Animelem = 44 || Animelem = 54 || Animelem = 64
value = 20

[State 1105, 3]
type = HitAdd
trigger1 = Animelem = 8 || Animelem = 15 || Animelem = 19 || Animelem = 23 || Animelem = 44 || Animelem = 54 || Animelem = 64
value = 1

[State 1105, 3]
type = HitAdd
trigger1 = Animelem = 27,>=0
trigger2 = Animelem = 32,<0
value = 0

[State 1105, 3]
type = EnvColor
trigger1 = time = 0
trigger2 = Animelem = 8,1
trigger3 = Animelem = 15,1
trigger4 = Animelem = 19,1
trigger5 = Animelem = 23,1
trigger6 = Animelem = 44,1
trigger7 = Animelem = 54,1
trigger8 = Animelem = 64,1
value = 255,255,255
under = 1
time = 1

[State 2355, 10]
type = AssertSpecial
trigger1 = time = 0
trigger2 = Animelem = 8,1
trigger3 = Animelem = 15,1
trigger4 = Animelem = 19,1
trigger5 = Animelem = 23,1
trigger6 = Animelem = 44,1
trigger7 = Animelem = 54,1
trigger8 = Animelem = 64,1
flag = NoFG
time = 1
ignorehitpause = 1

[State 903, 11]
type = TargetLifeAdd
trigger1 = Animelem = 15
trigger2 = Animelem = 19
trigger3 = Animelem = 23
trigger4 = Animelem = 44
trigger5 = Animelem = 54
trigger6 = Animelem = 64
value = -30
kill = 0

[State 903, 11]
type = TargetLifeAdd
trigger1 = Animelem = 65
value = -200
kill = 1

[State 0, VarSet]
type = VarSet
trigger1 = Animelem = 65
var(40)=300

[State 2210, 19]
type = targetstate
trigger1 = Animelem = 15
trigger2 = Animelem = 19
trigger3 = Animelem = 23
trigger4 = Animelem = 44
trigger5 = Animelem = 54
value = 3217

[State 4000, 2]
type = targetstate
trigger1 = AnimElem = 65
value = 3218

[State 2210, 2]
type = PlaySnd
trigger1 = AnimElem = 65
value = s1,9
volume = 0
channel = 20

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 44 || AnimElem = 54 || AnimElem = 64
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 20

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------  Lv.2 \SEEt[QPP]  ------
[Statedef 3216]
type    = S
movetype= H
physics = S
ctrl = 0

[State 1100, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2200, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1452, 1]
type = PosSet
trigger1 = Time > 0
y = 0

[State 1452, 1]
type = Posadd
trigger1 = AnimElem = 5
x = 20

[State 1105, 3]
type = Changeanim2
trigger1 = time = 1
value = 3216

;------  Lv.2 \SEEt[QPP]  ------
[Statedef 3217]
type    = S
movetype= H
physics = S
ctrl = 0

[State 1100, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 2200, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1452, 1]
type = PosSet
trigger1 = Time > 0
y = 0

[State 1105, 3]
type = Changeanim2
trigger1 = time = [0,6]
value = 3217

[State 1105, 3]
type = Changeanim2
trigger1 = time >= 7
value = 3218

;------  Lv.2 \SEEt[QPQ]  ------
[Statedef 3218]
type = A
movetype = H
physics = N

[State 1360, Turn]
type = Turn
trigger1 = time = 0

[State 9000, 1]
type = PalFX
trigger1 = 1
time = 50
add = 0,-50,80
sinadd = 50,50,50,15
color = 1
invertall = 1

[State 210, 3]
type = PosAdd
trigger1 = time = 0
X = 20
y = 17

[State 1370, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 1420, Velocity]
type = VelSet
trigger1 = time = 0
y = -6
x = 4

[State 1525, 4]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1370, Sprite2]
type = SprPriority
trigger1 = time >= 0
value = 1

[State 2160, 33]
type = Explod
trigger1 = Pos Y >= 10 && Vel Y > 0
anim = F61
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1

[State 3000,1]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 10
anim = F60
pos = -30,3
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1

[State 1420, State]
type = SelfState
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 5100

[Statedef 3220]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3220
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 12
value = s2000,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = s1,8

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 57,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 40,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 15,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3230

[Statedef 3230]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3230
ctrl = 0
sprpriority = 5

[State a]
type = EnvColor
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 28
value = 255,255,255
time = 1

[State 0, Width]
type = Width
trigger1 = 1
edge = 60,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0
pos = 50,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,17

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S,HA
getpower = 0
damage = 20
animtype = Hard
priority = 3,Hit
pausetime = 1,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
p2StateNo = 2020
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S,HA
getpower = 0
damage = 20
animtype = Hard
priority = 3,Hit
pausetime = 1,10
sparkno = S30002
sparkxy = -15,-75
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
p2StateNo = 2021
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 15
attr = S,HA
getpower = 0
damage = 20
animtype = Hard
priority = 3,Hit
pausetime = 1,10
sparkno = S30002
sparkxy = -15,-75
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
p2StateNo = 2020
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 21
attr = S,HA
getpower = 0
damage = 20
animtype = Hard
priority = 3,Hit
pausetime = 1,10
sparkno = S30002
sparkxy = -15,-75
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
p2StateNo = 2021
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 28
attr = S,HA
getpower = 0
damage = 20
animtype = Hard
priority = 3,Hit
pausetime = 1,10
sparkno = S30002
sparkxy = -15,-75
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
p2StateNo = 2020
kill = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3240

[Statedef 3240]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3240
ctrl = 0
sprpriority = 5

[State a]
type = PlaySnd
trigger1 = time = 0
value = s2000,4
channel = 8

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2000,3
channel = 8

[State 0, TargetState]
type = TargetState
Trigger1 = Time =0
value = 2041

[State a]
type = PalFX
trigger1 = AnimElem = 6
time = 20
add = -255,-255,-255
invertall = 1

[State 0, 8]
type = Explod
trigger1 = time = 0
anim = 30000
postype = p1
pos = 42,-82
bindtime = 1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s1,8

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 42,-82

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 39,-84

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 42,-78

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 27,-108

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 7,-130

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = -3,-122

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
pos = 0,-40

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
ID = 3245
stateno = 3245
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State explod];GtFNg
type = Explod
trigger1 = AnimElem = 7
anim = 2045
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.47,0.47

[State explod];GtFNg
type = Explod
trigger1 = AnimElem = 7
anim = 2046
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.47,0.47

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2000,5

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S,HA
getpower = 0
damage = 100
animtype = Hard
priority = 3,Hit
pausetime = 14,15
sparkno = S30002
sparkxy = -20,-80
hitsound = s1,7
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-8
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 100

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Red BG
[Statedef 3245]
type = S

[State 9000, 1]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(0) = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time <= 16
var(0) = 16

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 56
trigger1 = time <= 72
var(0) = -16

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 0
trigger1 = time <= 72
time = 1
add = var(0),0,0
mul = 256,256,256
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 72

;-------------------------------------------------------------------------------
;Shiki Yatome SDM - Normal
[Statedef 3300]
type     = S
movetype = A
physics  = S
juggle   = ifelse(var(12),31,1) ;11
velset   = 0,0
anim     = 3300
ctrl     = 0
sprpriority = 2
poweradd = -2000

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 35
time = 35
p2defmul = 1.0

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = (prevstateno = [1000,2999]) || (prevstateno = [11000,12999])
time = 5
add = 230,230,230

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [3000,3999]
time = 5
add = 250,120,210

[State 2000]
type = Explod
trigger1 = time = 5
anim = 17100
pos = 5,-110
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1
scale = .5,.5

[State 2000]
type = Explod
trigger1 = time = 5
anim = 17110
pos = 5,-110
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1
scale = .5,.5

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,35]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s17000,0

;[State 3050, BGPalfx]
;type = BGPalfx
;trigger1 = 1
;invertall = 1
;time = 1
;mul = 120,120,120
;ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,124
channel = 10

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = MA
priority = 5
pausetime = 2,2
sparkno = S30002
sparkxy = -30,-40
hitsound = s1,1
guardsound = s2,4
guard.sparkno = s30040
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3305
p2stateno = 30200

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 3005

;---------------------------------------------------------------------------
;MAXSEEt

[Statedef 3305]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3305
ctrl     = 0
sprpriority = 5

;[State 3050, BGPalfx]
;type = BGPalfx
;trigger1 = 1
;invertall = 1
;time = 1
;mul = 120,120,120
;ignorehitpause = 1

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 12
value = s10,125
channel = 11

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 20
trigger6 = animelem = 28
trigger7 = animelem = 34
trigger8 = animelem = 41
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -15,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30300
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30300
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,10
sparkno = S30002
sparkxy = -20,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30200
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-55
hitsound = s1,6
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30300
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30200
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30300
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 4, Hit
pausetime = 4,12
sparkno = S30002
sparkxy = -25,-65
hitsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 30200
kill = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3310

;---------------------------------------------------------------------------
; MAXSEEt@tBjbV

[Statedef 3310]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3310
ctrl     = 0
sprpriority = 5

;[State 3050, BGPalfx]
;type = BGPalfx
;trigger1 = 1
;invertall = 1
;time = 1
;mul = 120,120,120
;ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s1,8

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 30000
postype = P1
pos = 25,-73
sprpriority = 10

[State 1507, Width]
type = Width
trigger1 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7
trigger1 = BackEdgeDist < 40
edge = 0,40

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,132

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 25
value = s10,126
channel = 10

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 29
value = 1,9

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 29
value = 18,8

[State 1506, TargetState]
type = TargetState
trigger1 = AnimElem = 1
value = 4050

[State 1507, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1,< 0
pos = 45,0

[State 1507, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1,>=0 && AnimElem = 4,<0
pos = 30,0

[State 1507, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4,>=0 && AnimElem = 6,<0
pos = 25,0

[State 1507, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6,>=0 && AnimElem = 29,<0
pos = -30,0

[State 1507, TargetBind]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = -14

[State 1507, TargetBind]
type = PosAdd
trigger1 = AnimElem = 7
x = -10

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelem = 13
trigger3 = animelem = 16
trigger4 = animelem = 19
trigger5 = animelem = 22
trigger6 = animelem = 29
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 3112, HitAdd]
type = HitAdd
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 29
value = 1

[State 3110,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22
value = -50*fvar(5)
kill = 0

[State 3110,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 29
value = -120

[State 210, 3]
type = SprPriority
trigger1 = AnimElem = 13
value = 3

[State 210, 3]
type = SprPriority
trigger1 = AnimElem = 34
value = 2

[State 1507, EnvShake]
type = EnvShake
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 29
time = 15

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 29
anim = 3120
postype = P2
pos = 0, 0
sprpriority = 1
ownpal = 0

[State 193, 1]
type = Explod
trigger1 = AnimElem = 13 || AnimElem = 16 || AnimElem = 19 || AnimElem = 22 || AnimElem = 29
anim = 10304
pos = -30,-15
bindtime = -1
sprpriority = 1
ownpal = 1
pausemovetime = -1
Supermovetime = -1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 29
persistent = 0
anim = 2002
postype = P1
pos = -30,-85
scale = 1.1,1.1
sprpriority = 2
supermove = 1

[State 1507, TargetState]
type = TargetState
trigger1 = AnimElem = 29
value = 4051

[State 210, 3]
type = Turn
trigger1 = AnimElem = 32

[State 3000, AfterImageTime]
type = AfterImageTime
Trigger1 = AnimElem = 36
Time = 0

[State 3005, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 8
[Statedef 4050]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0, 0

[State 1509, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1506, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1506, screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 1509, Palfx]
type = Palfx
trigger1 = AnimElem = 7 || AnimElem = 9 || AnimElem = 11 || AnimElem = 13
time = 40
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State 1506, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 4050

;------------------------ 9
[Statedef 4051]
type = A
movetype = H
physics = N
velset = 6.2,-5
ctrl = 0

[State 1509, Palfx]
type = Palfx
trigger1 = Time = 0
time = 20
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State 1506, ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0
value = 5030
persistent = 0

[State 1506, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && AnimTime = 0
value = 5050

[State 1509, veladd]
type = veladd
trigger1 = 1
y = .45

[State 1509, SelfState]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;-------------------------------------------------------------------------------
;NEO MAX - Orochi
[Statedef 3400]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 3400
ctrl = 0
sprpriority = 1

[state turn]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[state a];POWER消耗
type = poweradd
trigger1 = time = 0
value = -2000

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = var(1) = 1
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]

;---------------------[G]
[state nothitby]
type = nothitby
trigger1 = animelem = 11,<0
value = SCA
time = 1

;---------------------[KEZo]
[state removeexplod]
type = removeexplod
trigger1 = time = 0
id = 3000

[State superpause]
type = superpause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = AnimElem = 1
stateno = 7100
supermovetime = 32
pos = 5,-40

[state helper]
type = Helper
triggerall = var(1) = 1
trigger1 = time = 0
id = 3408
name = "bg"
pos = 0,0
postype = p1
stateno = 3408
helpertype = normal
supermovetime = 999999
ownpal = 1

[state helper]
type = Helper
triggerall = var(1) = 1
trigger1 = animelem = 11
id = 3405
name = "bg"
pos = 0,0
postype = p1
stateno = 3406
helpertype = normal
supermovetime = 999999
ownpal = 1

;---------------------[]
[State a]
type = PlaySnd
trigger1 = time = 0
value = s8,40+random%2

[State a]
type = PlaySnd
trigger1 = animelem = 8
value = s18,12
;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
x = 15

[state a]
type = posadd
trigger1 = animelem = 9
x = -8

[state a]
type = posadd
trigger1 = animelem = 10
x = -16

[state a]
type = posadd
trigger1 = animelem = 11
x = -16

[state a]
type = posadd
trigger1 = animelem = 15
x = -16

[state a]
type = posadd
trigger1 = animelem = 16
x = -16

;---------------------[GtFNg]
[State explod]
type = explod
trigger1 = animelem = 5
anim = 3415
sprpriority = 10
postype = p1
pos = 0,0
bindtime = -1
under = 0
ownpal = 1
;scale = 0.5,0.5

[State explod]
type = explod
trigger1 = animelem = 7
anim = 13410
id = 2500
sprpriority = 20
postype = p1
pos = 120,0
bindtime = 13
under = 0
ownpal = 1
scale = 0.47,0.47

[State -2, sparkxy]
type = explod
trigger1 = movehit = 1
persistent = 0
anim = 30002
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

[State -2, sparkxy]
type = explod
trigger1 = moveGuarded = 1
persistent = 0
anim = 30040
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

;---------------------[U]
[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 9
attr = S, HA
animtype  = hard
damage    = 100,10
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999
p1stateno = 3420
palfx.time = 27
palfx.add = -256,-256,-256

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 10
trigger2 = animelemtime(10) = 1
trigger3 = animelemtime(10) = 2
trigger4 = animelem = 11
trigger5 = animelemtime(11) = 1
trigger6 = animelemtime(11) = 2
attr = S, HA
animtype  = hard
damage    = 80,8
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999

;---------------------[]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;NEO MAX - Normal
[Statedef 3401]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 3401
ctrl = 0
sprpriority = 1

[state turn]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

[state a];POWER消耗
type = poweradd
trigger1 = time = 0
value = Ifelse(prevstateno = 2815,-1000, -2000)

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]

;---------------------[G]
[state nothitby]
type = nothitby
trigger1 = animelem = 11,<0
value = SCA
time = 1

;---------------------[KEZo]
[state removeexplod]
type = removeexplod
trigger1 = time = 0
id = 3000

[State superpause]
type = superpause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1
darken = 0

[State 3000, 1]
type = Helper
trigger1 = AnimElem = 1
stateno = 7001
supermovetime = 32
pos = 5,-40

;---------------------[]
[State a]
type = PlaySnd
trigger1 = time = 0
value = s7,43+random%2

[State a]
type = PlaySnd
trigger1 = animelem = 8
value = s18,12
;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
x = 15

[state a]
type = posadd
trigger1 = animelem = 9
x = -8

[state a]
type = posadd
trigger1 = animelem = 10
x = -16

[state a]
type = posadd
trigger1 = animelem = 11
x = -16

[state a]
type = posadd
trigger1 = animelem = 15
x = -16

[state a]
type = posadd
trigger1 = animelem = 16
x = -16

;---------------------[GtFNg]
[State explod]
type = explod
trigger1 = animelem = 5
anim = 3415
sprpriority = 10
postype = p1
pos = 0,0
bindtime = -1
under = 0
ownpal = 1
;scale = 0.5,0.5

[State explod]
type = explod
trigger1 = animelem = 7
anim = 13410
id = 2500
sprpriority = 20
postype = p1
pos = 120,0
bindtime = 13
under = 0
ownpal = 1
scale = 0.47,0.47

[State -2, sparkxy]
type = explod
trigger1 = movehit = 1
persistent = 0
anim = 30002
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

[State -2, sparkxy]
type = explod
trigger1 = moveGuarded = 1
persistent = 0
anim = 30040
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

;---------------------[U]
[State 210, 2]
type = HitDef
triggerall = prevstateno = 2815
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 9
attr = S, HA
animtype  = hard
damage    = 50,10
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
nochainID = 9999

[State 210, 2]
type = HitDef
triggerall = prevstateno = 2815
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 10
trigger2 = animelemtime(10) = 1
trigger3 = animelemtime(10) = 2
trigger4 = animelem = 11
trigger5 = animelemtime(11) = 1
trigger6 = animelemtime(11) = 2
attr = S, HA
animtype  = hard
damage    = 30,8
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
nochainID = 9999

;---------------------[U]
[State 210, 2]
type = HitDef
triggerall = prevstateno != 2815
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 9
attr = S, HA
animtype  = hard
damage    = 100,10
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
nochainID = 9999

[State 210, 2]
type = HitDef
triggerall = prevstateno != 2815
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 10
trigger2 = animelemtime(10) = 1
trigger3 = animelemtime(10) = 2
trigger4 = animelem = 11
trigger5 = animelemtime(11) = 1
trigger6 = animelemtime(11) = 2
attr = S, HA
animtype  = hard
damage    = 80,8
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
nochainID = 9999

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; SEE@G
[Statedef 3420]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 3420
ctrl = 0
sprpriority = 1

;---------------------[G]
[state nothitby]
type = nothitby
trigger1 = 1
value = SCA
time = 1

;---------------------[KEZo]
[state helper]
type = Helper
trigger1 = time = 0
id = 3405
name = "bg"
pos = 0,0
postype = p1
stateno = 3407
helpertype = normal
supermovetime = 999999
ownpal = 1

[State envshake]
type = EnvShake
trigger1 = time = 0
time = 16
ampl = -14
freq = 75
phase = 75

[State palfx];
type = palfx
trigger1 = time <= 32
time = 1
add = -256,-256,-256
ignorehitpause = 1

;---------------------[]
[state a]
type = posadd
trigger1 = animelem = 1
x = -8

[state a]
type = posadd
trigger1 = animelem = 2
x = -16

[state a]
type = posadd
trigger1 = animelem = 3
x = -16

[state a]
type = posadd
trigger1 = animelem = 7
x = -16

[state a]
type = posadd
trigger1 = animelem = 8
x = -16

;---------------------[GtFNg]
[State removeexplod]
type = removeexplod
trigger1 = animelem = 1
id = 2500

[State explod]
type = explod
trigger1 = animelem = 1
anim = 3425
sprpriority = 20
postype = p1
pos = 120,0
bindtime = 4
under = 0
ownpal = 1
scale = 0.5,0.5
;trans = addalpha
;alpha = 0,0
scale = 0.47,0.47

[State -2, sparkxy]
type = explod
trigger1 = movehit = 1
persistent = 0
anim = 30002
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

[State -2, sparkxy]
type = explod
trigger1 = moveGuarded = 1
persistent = 0
anim = 30040
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0


;---------------------[U]
[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelemtime(2) = 1
trigger2 = animelemtime(2) = 2
trigger3 = animelem = 3
trigger4 = animelemtime(3) = 1
trigger5 = animelemtime(3) = 2
attr = S, HA
animtype  = hard
damage    = 80,8
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
guard.sparkno = s30040
sparkxy = -12,-90
hitsound   = s1,7
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.2,-9.5
air.velocity = -4.2,-9.5
air.hittime  = 120
yaccel = 0.55
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999
palfx.time = 27
palfx.add = -256,-256,-256

;---------------------[]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;----------------------------------------------------------------------------
;(HELPER)wi
[Statedef 3406]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 128

[state varadd]
type = varadd
trigger1 = time > 24
var(1) = -4

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = var(1),floor(-var(1)*0.5),floor(-var(1)*0.5)
invertall = 0
color = 256 - floor(var(1)*0.5)

;---------------------[]
[state destroyself]
type = destroyself
trigger1 = time >= 2
trigger1 = var(1) <= 0


;----------------------------------------------------------------------------
;(HELPER)wi
[Statedef 3407]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = varadd
trigger1 = time > 32
var(1) = -4

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = var(1),floor(-var(1)*0.5),floor(-var(1)*0.5)
invertall = 0
color = 256 - floor(var(1)*0.5)

;---------------------[]
[state destroyself]
type = destroyself
trigger1 = time >= 2
trigger1 = var(1) <= 0

[Statedef 3408]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = null;varadd
trigger1 = time > 40
var(1) = -8

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

[State assertspecial]
type = assertspecial
trigger1 = var(1) = 256
flag = NoBG
flag2 = NoFG

;---------------------[]
[state changestate]
type = changestate
trigger1 = root,stateno != [3400,3499]
trigger2 = root,movetype = H
value = 3409

[state destroyself]
type = destroyself
trigger1 = root,stateno = 3400
trigger1 = root,animelem = 11
trigger2 = root,stateno = 3420


;----------------------------------------------------------------------------
;(HELPER)NEO MAXKE
[Statedef 3409]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = varadd
trigger1 = 1
var(1) = -8

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

;---------------------[]
[state destroyself]
type = destroyself
trigger1 = var(1) <= 0

; T焰
[Statedef 3500]
type    = S
movetype= A
physics = S
poweradd = -3000
ctrl = 0
velset = 0,0
anim = 3500
sprpriority = 2

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0

;[state a];POWER消耗
;type = poweradd
;trigger1 = time = 0
;value = -3000

[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100

[State a];取消连闪光
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
color = 8
time = 10
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]


[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

;[State 863, 1]
;type = SuperPause
;trigger1 = AnimElem = 1
;anim = -1
;time = 30
;movetime = 0
;darken = 0

[State 3000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 30
under = 1
supermove = 1

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17200
pos = 0,-76
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17210
pos = 0,-76
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1


[State Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s171,1

[State 3600]
type = statetypeset
trigger1 = AnimElemTime(6) = 0
StateType = A
physics = N

[State 3600]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, AfterImage]
type = AfterImage
trigger1 = animelem = 6
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3600]
type = VelSet
trigger1 = AnimElemTime(6) = 0
x = 10
y = -5

[State 1000, HitBy]
type = HitBy
trigger1 = AnimElemTime(6) > 0
value = SA,HA,NP,HP,NT,ST,HT

[State 3600]
type = VelAdd
trigger1 =  AnimElemTime(8) >= 0
y = .7

[State Snd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s7,23

[State Snd]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = s40,0

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S, HA
getpower = 0,0
damage = 0,0
animtype = hard
hitflag = MAF
guardflag = -1
priority = 3
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = s1,8
guardsound = -1
guard.velocity = -12
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -7,-6
air.velocity = -7,-6
p2facing = 1
fall.recover = 0
fall = 1
id = 2000
numhits = 0

[State 1000, movehitreset]
type = movehitreset
triggerall = movehit > 0
trigger1 = numtarget(2000) = 0
trigger2 = numtarget(2000) > 0
trigger2 = target(2000),stateno != 5000 && target(2000),stateno != 5020

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 3530
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 3520
ctrl = 0

[State 3600]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(8) >= 0
value = 3510
ctrl = 1

;---------------------------------------------------------------------------
; Failed
[Statedef 3510]
type    = S
movetype= A
physics = S
poweradd= 0
juggle = 0
ctrl = 0
velset = 0,0
anim = 3510
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3610]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3610]
type = HitDef
trigger1 = AnimElem = 1
attr = S, ST
animtype = Hard
damage = 0,0
priority  = 4, Hit
hitflag = MAF
guardflag =
pausetime = 1,1
sparkno = 8
guard.sparkno = s30040
sparkxy = -15, -56
hitsound   = s1,8
guardsound = s2,4
ground.type = High
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -7
air.velocity = -3,-4
air.fall = 1
yaccel = .45
p1stateno = 3520
p2facing = 1

[State 3610]
type = PosAdd
trigger1 = AnimElemTime(5) = 0 || AnimElemTime(6) = 0
x = -10

[State 3610]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Blast!
[Statedef 3520]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3520
sprpriority = 3

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2801
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2802
pos = 0,5
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 3620]
type = TargetState
trigger1 = Time = 0
value = 3530

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = s52,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = s9,27

[State 3620]
type = Width
trigger1 = AnimElemTime(4) < 0
edge = 80,0

[State 3620]
type = EnvShake
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElem = 14
ampl = 4
freq = 120
time = 10

[State 3620]
type = Explod
trigger1 = AnimElemTime(2) = 0
persistent = 0
anim = 16062
postype = P1
pos = 50,0
sprpriority = 8
bindtime = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 12
trigger6 = animelem = 14
;trigger7 = animelem = 4
;trigger8 = animelem = 4
value = s1,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = s18,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 12
;trigger6 = animelem = 14
;trigger7 = animelem = 4
;trigger8 = animelem = 4
anim = 1390
ID = 6817
scale = 1,1
postype = P2
pos = 0,-20
sprpriority = 10
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 14
anim = 7075
ID = 6817
scale = 1,1
postype = P2
pos = 0,0
sprpriority = 10
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 14
anim = 3031
ID = 6817
scale = .9,.9
postype = P2
pos = 0,0
sprpriority = -1
ownpal = 0

[State 3620]
type = TargetLifeAdd
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(6) = 0
trigger3 = AnimElemTime(8) = 0
trigger4 = AnimElemTime(10) = 0
trigger5 = AnimElemTime(12) = 0
trigger6 = AnimElemTime(14) = 0
trigger7 = AnimElemTime(16) = 0
trigger8 = AnimElemTime(18) = 0
trigger9 = AnimElemTime(24) = 0
trigger10 = AnimElemTime(25) = 0
trigger11 = AnimElemTime(26) = 0
trigger12 = AnimElemTime(27) = 0
value = -50
kill = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(6) = 0
trigger3 = AnimElemTime(8) = 0
trigger4 = AnimElemTime(10) = 0
trigger5 = AnimElemTime(12) = 0
trigger6 = AnimElemTime(14) = 0
trigger7 = AnimElemTime(16) = 0
trigger8 = AnimElemTime(18) = 0
trigger9 = AnimElemTime(24) = 0
trigger10 = AnimElemTime(25) = 0
trigger11 = AnimElemTime(26) = 0
trigger12 = AnimElemTime(27) = 0
value = 1
;ignorehitpause =
;persistent =

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = AnimElemTime(24) = 0
trigger2 = AnimElemTime(25) = 0
trigger3 = AnimElemTime(26) = 0
trigger4 = AnimElemTime(27) = 0
time = 2
movetime = 1
ignorehitpause = 1

[State 3620]
type = EnvShake
trigger1 = AnimElemTime(3) = 0
ampl = 20
freq = 80
time = 20

[State 3620]
type = PosAdd
trigger1 = AnimElemTime(5) = 0 || AnimElemTime(3) = 0
x = -10

[State 3620]
type = TargetBind
trigger1 = AnimElemTime(0) >= 0 && AnimElemTime(19) < 0
pos = 66, -10

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 16062
postype = P1
pos = 70,0
sprpriority = 10
bindtime = -1

[State 3620]
type = TargetState
Trigger1 = AnimElemTime(20) = 0
value = 3540


[State 1100, GtFNg\]
type = null;Explod
trigger1 = AnimElemtime(24) = 1
persistent = 0
anim = 3550
postype = P1
pos = 79,0
sprpriority = 10

[State 1100, GtFNg\]
type = null;Explod
trigger1 = AnimElemtime(28) = 2
persistent = 0
anim = 3560
postype = P1
pos = 80,0
sprpriority = 10

[state a];
type = Helper
trigger1 = AnimElemtime(24) = 1
id = 3550
name = "火柱"
sprpriority = 5
pos = 60,0
postype = p1
stateno = 3550
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 1.4
size.yscale = 1

[state a];
type = Helper
trigger1 = AnimElemtime(24) = 1
id = 3560
name = "火柱"
sprpriority = 5
pos = 60,0
postype = p1
stateno = 3560
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 1.4
size.yscale = 1

[State 200, ]
type = PlaySnd
trigger1 = AnimElemtime(24) = 1
value = 18,5
channel = 8

[State 200, ]
type = PlaySnd
trigger1 = AnimElemtime(40) = 1
value = 18,6
channel = 8

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(20) >= 0 && AnimElemTime(21) < 0
pos = 43, 2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(21) >= 0 && AnimElemTime(22) < 0
pos = 30, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(22) >= 0 && AnimElemTime(23) < 0
pos = 27, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(23) >= 0 && AnimElemTime(24) < 0
pos = 5, -50

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(24) >= 0 && AnimElemTime(25) < 0
pos = 20, -95

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(25) >= 0 && AnimElemTime(26) < 0
pos = 30, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(26) >= 0 && AnimElemTime(27) < 0
pos = 35, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(27) >= 0 && AnimElemTime(28) < 0
pos = 40, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(28) >= 0 && AnimElemTime(29) < 0
pos = 45, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(30) >= 0 && AnimElemTime(31) < 0
pos = 50, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 30
pos = 50, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 31
pos = 55, 0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 25
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 24
value = 9,23

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 31
value = s1,11

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 25
trigger2 = AnimElem = 31
value = s5,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 23
x = 30

[State 1000, u]
type = Velset
trigger1 = AnimElem = 25
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 25
y = -7.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(25) > 0
y = .3

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 25
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 25
trigger2 = AnimElem = 31
persistent = 0
anim = 1150
id = 1100
postype = P1
pos = 20,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 30
trigger2 = AnimElem = 36
persistent = 0
anim = 1160
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 31
persistent = 0
anim = 2450
postype = P1
pos = 50,-80
sprpriority = 10

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 31
trigger2 = AnimElem = 32
trigger3 = AnimElem = 33
trigger4 = AnimElem = 34
trigger5 = AnimElem = 35
attr = A, HA
damage = 40,0
getpower = 0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 2,14
sparkno = S30002
guard.sparkno = s30040
sparkxy = -25, -60
hitsound = f-1,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5.3,-7.8
air.velocity = -5.3,-7.8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 31
trigger2 = AnimElem = 32
trigger3 = AnimElem = 33
time = 1
value = 255,255,255
under = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2412

;---------------------------------------------------------------------------
; P2
[Statedef 3530]
type    = S
movetype= H
physics = N
velocity = 0,0
sprpriority = 1

[State 3630]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3530

[State 3630]
type = Palfx
trigger1 = AnimElemTime(4) = 0
trigger2 = AnimElemTime(6) = 0
trigger3 = AnimElemTime(8) = 0
time = 155
add = 40,0,150
mul = 150,150,150
sinadd = 90,90,90,15
color = 0
invertall = 1

[State 3630]
type = SelfState
trigger1 = time>=300
value = 5100

[Statedef 3540]
type    = A
movetype= H
physics = S
velset = 0,0

[State 192,]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2120]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3630]
type = Palfx
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(6) = 0
trigger3 = AnimElemTime(7) = 0
trigger4 = AnimElemTime(8) = 0
trigger5 = AnimElemTime(9) = 0
time = 65
add = 40,0,150
mul = 150,150,150
sinadd = 90,90,90,15
color = 0
invertall = 1

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 7
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 10
value = 5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3540

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [3500,3599]
value = 5000

[State 820, 1]
type = ChangeAnim
trigger1 = Animtime = 0
value = 5052

[Statedef 3550]
type = A
ctrl = 0
anim = 3550
velset = 0,0
movetype = A
physics = N
sprpriority = 20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------[]
[state a]
type = posset
trigger1 = time = 0
y = 0
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

[Statedef 3560]
type = A
ctrl = 0
anim = 3560
velset = 0,0
movetype = A
physics = N
sprpriority = 20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------[]
[state a]
type = posset
trigger1 = time = 0
y = 0
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


[Statedef 3600]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = -3000
velset   = 0,0
anim     = 3600
ctrl     = 0

;---------------------[3星必杀消耗]
[state a];HD槽归零
type = varset
trigger1 = time = 0
fvar(20)=0



[State a];取消槽消耗
type = varadd
triggerall = fvar(22) > 0
triggerall = time = 0
trigger1 = prevstateno = [1000,2999]
fvar(22) = -100



[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = prevstateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;---------------------[3星必杀消耗]

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5)=0


[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

;[State 863, 1]
;type = SuperPause
;trigger1 = AnimElem = 1
;anim = -1
;time = 30
;movetime = 0
;darken = 0

[State 3000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 30
under = 1
supermove = 1

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17200
pos = 0,-76
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17210
pos = 0,-76
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1


[State Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s171,1

[State 1000, HitBy]
type = NotHitBy
trigger1 = time = [0,70]
value = SCA

[State a]
type = PlaySnd
trigger1 = AnimElem = 5
value = s9,10

[State 1050, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NT
damage    = 80,8
animtype = hard
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 9,30
numhits = 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15, -80
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 60
p2stateno = 3680
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
envshake.time = 10
envshake.ampl = 4
envshake.freq = 100
envshake.phase = 100

[State 0, VarSet]
type = VarSet
trigger1 = movehit=1
var(5)=1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(5)=1
trigger1 = AnimElemtime(8) > 5
trigger1 = p2bodydist X < 120
value = 3605


[State 1050, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3605]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3605
ctrl     = 0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5)=0

[State 1000, HitBy]
type = NotHitBy
trigger1 = time = [0,70]
value = SCA

[State a]
type = PlaySnd
trigger1 = AnimElem = 5
value = s9,11

[State 1050, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NT
damage    = 80,8
animtype = hard
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 9,30
numhits = 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15, -80
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 60
p2stateno = 3679
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
envshake.time = 10
envshake.ampl = 4
envshake.freq = 100
envshake.phase = 100

[State 0, VarSet]
type = VarSet
trigger1 = movehit=1
var(5)=1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(5)=1
trigger1 = AnimElemtime(9) > 5
trigger1 = p2bodydist X < 120
value = 3610

[State 1050, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3610]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3610
ctrl     = 0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5)=0

[State 1000, HitBy]
type = NotHitBy
trigger1 = time = [0,70]
value = SCA

[State a]
type = PlaySnd
trigger1 = AnimElem = 5
value = s9,20

[State 1050, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NT
damage    = 80,8
animtype = hard
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 9,30
numhits = 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15, -80
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 60
p2stateno = 3678
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
envshake.time = 10
envshake.ampl = 4
envshake.freq = 100
envshake.phase = 100

[State 0, VarSet]
type = VarSet
trigger1 = movehit=1
var(5)=1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(5)=1
trigger1 = AnimElemtime(10) > 5
trigger1 = p2bodydist X < 120
value = 3615

[State 1050, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3615]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3615
ctrl     = 0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5)=0

[State 1000, HitBy]
type = NotHitBy
trigger1 = time = [0,70]
value = SCA

[State a]
type = PlaySnd
trigger1 = AnimElem = 4
value = s9,7

[State 1050, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NT
damage    = 80,8
animtype = hard
guardflag =
hitflag = MAF
priority = 3, Hit
pausetime = 9,30
numhits = 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = -15, -80
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 60
p2stateno = 3677
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
envshake.time = 10
envshake.ampl = 4
envshake.freq = 100
envshake.phase = 100

[State 0, VarSet]
type = VarSet
trigger1 = movehit=1
var(5)=1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(5)=1
trigger1 = AnimElemtime(7) > 5
value = 3620

[State 1050, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3620]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 3620
ctrl = 0
sprpriority = 1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State a]
type = PlaySnd
trigger1 = AnimElem = 4
value = s9,21

[State 1000, Pause]
type = Pause
triggerall = AnimElemtime(6) < 0
triggerall = AnimElemtime(10) < 0
triggerall = RoundState = 2
trigger1 = timemod = 2,0
time = 3
movetime = 1
ignorehitpause = 1

[state turn]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 12
value = s5,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 20

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(7) > 0
x = 7

[State 1000, u]
type = Velset
trigger1 = AnimElem = 7
y = -4.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(7) > 0
y = .4

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
;---------------------[G]
[state nothitby]
type = nothitby
trigger1 = animelem = 11,<0
value = SCA
time = 1

;---------------------[KEZo]
[state removeexplod]
type = removeexplod
trigger1 = time = 0
id = 3000

[state helper]
type = Helper
trigger1 = time = 0
id = 3645
name = "bg"
pos = 0,0
postype = p1
stateno = 3645
helpertype = normal
supermovetime = 999999
ownpal = 1

;---------------------[]
[State a]
type = PlaySnd
trigger1 = animelem = 7
value = s8,40

[State a]
type = PlaySnd
trigger1 = animelem = 8
value = s18,12
;---------------------[GtFNg]

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal
stateno = 3640
pos = -40,-65
postype = p1
sprpriority = 5
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetome = 9999
ignorehitpause = 1
size.xscale = 0.47
size.yscale = 0.47

[State -2, sparkxy]
type = explod
trigger1 = movehit = 1
persistent = 0
anim = 30002
bindtime = 1
pos = -140,-60
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0

[State -2, sparkxy]
type = explod
trigger1 = moveGuarded = 1
persistent = 0
anim = 30040
bindtime = 1
pos = 0,-40
postype = P2
sprpriority = 2
ownpal = 1
persistent = 0
;---------------------[U]

[State 210, 2]
type = HitDef
trigger1 = animelem = 11
trigger2 = animelemtime(12) = 1
trigger3 = animelemtime(12) = 2
trigger4 = animelemtime(12) = 3
trigger5 = animelemtime(12) = 4
trigger6 = animelemtime(12) = 5
attr = S, HA
animtype  = hard
damage    = 80,8
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 2,3
sparkno = S30002
sparkxy = -12,-90
hitsound   = s1,6
guardsound = s2,4
guard.sparkno = s-1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6.2,-10.5
air.velocity = -6.2,-10.5
air.hittime  = 120
yaccel = 0.45
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3625

[Statedef 3625]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3625
ctrl     = 0
sprpriority = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 1000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,15]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 0, Helper]
type = null;Helper
trigger1 = time = 15
persistent = 0
helpertype = normal
name = "MAX2"
ID = 20000
stateno = 20003
postype = left
supermove = 1
pos = 160,120
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, u]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3640]
type = A
movetype = I
physics = N
anim = 3640
ctrl = 0
sprpriority = 5

[state a]
type = Trans
Trigger1 = 1
trans = addalpha
alpha = 256,256


[State 3320, 3]
type = AngleSet
trigger1 = 1
value = -60

[State 3320, 7]
type = AngleDraw
trigger1 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [0,30]
pos = -120,-65

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

[Statedef 3645]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = null;varadd
trigger1 = time > 40
var(1) = -8

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

[State assertspecial]
type = assertspecial
trigger1 = var(1) = 256
flag = NoBG
flag2 = NoFG

;---------------------[]
[state changestate]
type = changestate
trigger1 = root,stateno != [3600,3699]
trigger2 = root,movetype = H
value = 3646

[state destroyself]
type = destroyself
trigger1 = root,stateno != 3620
trigger2 = root,stateno = 3625


;----------------------------------------------------------------------------
;(HELPER)NEO MAXKE
[Statedef 3646]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = varadd
trigger1 = 1
var(1) = -8

;---------------------[o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

;---------------------[]
[state destroyself]
type = destroyself
trigger1 = var(1) <= 0

[Statedef 3677]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Turn]
type = Turn
Trigger1 = Time = 0
;ignorehitpause =
;persistent =

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = changeState
trigger1 = time >= GetHitVar(hitshaketime)
value = 3671

[Statedef 3671]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -20
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3681

[State 821, 3]
type = changeState
trigger1 = backedgedist < 20
value = 3672
;---------------------------------------------------------------------------
[Statedef 3672]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1027, 撞墙声音]
type = PlaySnd
trigger1 = Time = 0
value = F7,2

[State 1027, 撞墙震动]
type = envshake
trigger1 = !Time
time = 10

[State 296, 撞墙火花]
type = Explod
trigger1 = Time = 0
anim = F70
pos =-25,-50
postype = p1
sprpriority = -1
supermove = 1
bindtime = 1
ownpal = 1
removeongethit = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3682

[State 821, 3]
type = changeState
trigger1 = animtime = 0
value = 3673
;---------------------------------------------------------------------------
[Statedef 3673]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6
y = -4
;ignorehitpause =
;persistent =

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[state a]
type = turn
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = selfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 3678]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Turn]
type = Turn
Trigger1 = Time = 0
;ignorehitpause =
;persistent =

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = changeState
trigger1 = time >= GetHitVar(hitshaketime)
value = 3681

[Statedef 3679]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Turn]
type = Turn
Trigger1 = Time = 0
;ignorehitpause =
;persistent =


[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = changeState
trigger1 = time >= GetHitVar(hitshaketime)
value = 3681

[Statedef 3680]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = changeState
trigger1 = time >= GetHitVar(hitshaketime)
value = 3681
;---------------------------------------------------------------------------
[Statedef 3681]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -20
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3681

[State 821, 3]
type = changeState
trigger1 = backedgedist < 20
value = 3682
;---------------------------------------------------------------------------
[Statedef 3682]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1027, 撞墙声音]
type = PlaySnd
trigger1 = Time = 0
value = F7,2

[State 1027, 撞墙震动]
type = envshake
trigger1 = !Time
time = 10

[State 296, 撞墙火花]
type = Explod
trigger1 = Time = 0
anim = F70
pos =-25,-50
postype = p1
sprpriority = -1
supermove = 1
bindtime = 1
ownpal = 1
removeongethit = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3682

[State 821, 3]
type = changeState
trigger1 = animtime = 0
value = 3683
;---------------------------------------------------------------------------
[Statedef 3683]
type    = A
movetype= H
physics = N
sprpriority = 1
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 18
;ignorehitpause =
;persistent =

[state a]
type = turn
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 821, 3]
type = selfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;-------------------------------------------------------------------------------
; Ura 108 Shiki: Orochi Nagi (KOF2002)
[Statedef 3700]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
sprpriority = 2
juggle = 8
facep2 = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3700

[State 1100, NotHitBy]
type = NotHitBy
trigger1 = time = [1,32]
value = SCA

[State 6001, pause]
type = SuperPause
trigger1 = animelem = 7
time = 32
movetime = 28
anim = -1
darken = 0
sound = s3,0

[State 3000, 1]
type = Helper
trigger1 = animelem = 7
stateno = 7000
supermovetime = 30
pos = 20,-112

[State 1000: Helper]
type = Helper
trigger1 = animelem = 7
helpertype = Normal
name = "HONOO"
id = 3020
pos = 0, -35
postype = p1
facing = 1
stateno = 3720
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999
persistent = 0
sprpriority = -1

[State 1100, NotHitBy]
type = playsnd
trigger1 = time = 20
value = s7,27
channel = 0

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3701
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3701]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3701

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 90
trigger1 = command = "hold_a"
value = 3702

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 1
trigger1 = command != "hold_a"
value = 3702

;-------------------------------------------------------------------------------
[Statedef 3702]
type    = S
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 2

[State 1100, NotHitBy]
type = stopsnd
trigger1 = time = 0
channel = 0

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3703

[State 1100, NotHitBy]
type = playsnd
trigger1 = time = 0
value = s173,13
channel = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3) < 0
value = SCA
time = 1

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 3001,0
channel = 0
persistent = 0

[State -2, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = -11

[State -2, Accel]
type = VelSet
trigger1 = animelemtime(5) >= 0 && time < 29
x = (12.6220703125*exp((-0.15154989812720093784068981755774)*(time-14)))

[State -2, Accel]
type = VelSet
trigger1 = time = 29
x = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 6
helpertype = Normal
name = "HONOO"
id = 3072
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3722
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 6, = 2
helpertype = Normal
name = "HONOO"
id = 3023
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3723
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000, 6]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Ura 108 Shiki: Orochi Nagi (KOF2002)
[Statedef 3703]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
sprpriority = 2
juggle = 8
facep2 = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3700

[State 1100, NotHitBy]
type = NotHitBy
trigger1 = time = [1,32]
value = SCA

[State 6001, pause]
type = SuperPause
trigger1 = animelem = 7
time = 32
movetime = 28
anim = -1
darken = 0
sound = s3,0

[State 3000, 1]
type = Helper
trigger1 = animelem = 7
stateno = 7000
supermovetime = 30
pos = 20,-112

[State 1000: Helper]
type = Helper
trigger1 = animelem = 7
helpertype = Normal
name = "HONOO"
id = 3020
pos = 0, -35
postype = p1
facing = 1
stateno = 3720
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999
persistent = 0
sprpriority = -1

[State 1100, NotHitBy]
type = playsnd
trigger1 = time = 20
value = s7,27
channel = 0

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3704
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3704]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3701

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 90
trigger1 = command = "hold_b"
value = 3702

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 1
trigger1 = command != "hold_b"
value = 3702

;------------------------------------------------------------------------------;
;Orochinagi Helper States
;------------------------------------------------------------------------------;
;Honoo 1
[Statedef 3720]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3710
sprpriority = 4
juggle = 10

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3700 || root, anim = 3100) && root,animelemno(0) = 2
facing = 0
pos = 0,-35
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3700 || root, anim = 3100)  && root,animelemno(0) = 3
trigger2 = (root, anim = 3701 || root, anim = 3702 || root, anim = 3101)
facing = 0
pos = 0,-35
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 1
facing = 0
pos = -58,-26
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 2
facing = 0
pos = -26,3
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 3
facing = 0
pos = -36, 7
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 4
facing = 0
pos = -42, 24
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 5
facing = 0
pos = 36,45
time = 1

[State 65000: STAY PUT]  ;;;;;;;;;;;;;
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 6
facing = 0
pos = 51,1
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 7
facing = 0
pos = 12,-15
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3102) && root,animelemno(0) = 8
facing = 0
pos = -40,-28
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
triggerall = IsHelper(1572)
trigger1 = (root, anim = 1572) && root,animelemno(0) = 7
facing = 0
pos = 18, 30
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
triggerall = IsHelper(1573)
trigger1 = (root, anim = 1572) && root,animelemno(0) = 7
facing = 0
pos = 18, 30
time = 1

[State 65000: STAY PUT]
type = null
triggerall = IsHelper(1572)
trigger1 = (root, anim = 1572) && root,animelemno(0) = 8
facing = 0
pos = 18, 30
time = 1

[State 65000: STAY PUT]
type = Destroyself
triggerall = IsHelper(1572)
trigger1 = (root, anim = 1572) && root,animelemno(0) = 8

[State 65000: STAY PUT]
type = Destroyself
triggerall = IsHelper(1573)
trigger1 = (root, anim = 1572) && root,animelemno(0) = 8

[State 65000: STAY PUT]
type = Bindtoroot
triggerall = IsHelper(3400)
trigger1 = (root, anim = 3400) && root,animelemno(0) = 1
facing = 0
pos = 20, -0
time = -1

[State 65000: STAY PUT]
type = Bindtoroot
triggerall = IsHelper(3400)
trigger1 = (root, anim = 3400) && root,animelemno(0) = 2
facing = 0
pos = 6, -0
time = -1

[State 65000: STAY PUT]
type = Destroyself
triggerall = IsHelper(3400)
trigger1 = (root, anim = 3400) && root,animelemno(0) = 4

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 171) && root,animelemno(0) = 3
facing = 0
pos = 21, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 171) && root,animelemno(0) = 4
facing = 0
pos = 11, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 171) && root,animelemno(0) = 5
facing = 0
pos = 7,0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 171) && root,animelemno(0) = 6
facing = 0
pos = 3, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 180) && root,animelemno(0) = 3
facing = 0
pos = 40, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 180) && root,animelemno(0) = 4
facing = 0
pos = 24, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 180) && root,animelemno(0) = 5
facing = 0
pos = 20, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 180) && root,animelemno(0) = 6
facing = 0
pos = 4, 0
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = (root, anim = 187) && root,animelemno(0) = 1
facing = 0
pos = -20, 0
time = 1

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
trigger1 = parent, var(20) = 1
time = -1
length = 4
palbright = 231,79,0
palcontrast = 231,79,0
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State 1000, 6]
type = ChangeState
trigger1 = (root, anim = 3703 || root, anim = 3704 || root, anim = 3702) && root,animelemtime(9) = 9
trigger2 = (root, anim = 171) && root,animelem = 6
trigger3 = (root, anim = 180) && root,animelem = 6
value = 3721
ctrl = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = root, stateno != [3700,3702]
trigger1 = root, stateno != [1570,1571]
trigger1 = root, stateno != 3400
trigger1 = root, stateno != 171
trigger1 = root, stateno != 181
trigger1 = root, stateno = 187 && root, animelemtime(1) = 64
trigger2 = root, movetype = H

;Honoo 2
[Statedef 3721]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3711
sprpriority = 4
juggle = 10

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
trigger1 = parent, var(20) = 1
time = -1
length = 4
palbright = 231,79,0
palcontrast = 231,79,0
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State 191,3]
type = PlaySnd
triggerall = root, stateno = [170,195]
trigger1 = !time
value = 4,10
persistent = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;Honoo 3
[Statedef 3722]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3712
sprpriority = 4
juggle = 10

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT]
type = Bindtoparent
trigger1 = 1
facing = 0
time = 1
pos = -1,2

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
trigger1 = parent, var(20) = 1
time = 999
length = 4
palbright = 57,16,106
palcontrast = 57,16,106
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;Honoo 4
[Statedef 3723]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3713
sprpriority = 4
juggle = 10

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3023, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 65000: STAY PUT]
type = Bindtoparent
trigger1 = !IsHelper(3500)
trigger1 = !time
facing = 0
time = 17
pos = 19,1

[State 65000: STAY PUT]
type = Bindtoparent
trigger1 = IsHelper(3500)
trigger1 = !time
facing = 0
time = 4
pos = 60,0

[State 1000, 1]
type = PlaySnd
triggerall = root, stateno = 3702
trigger1 = animelem = 1
value = 4,6

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
time = 999
length = 4
palbright = 57,16,106
palcontrast = 57,16,106
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State -2, 1]
type = Explod
triggerall = random < 80
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16810;
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 50
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16811;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16812;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16813;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16814;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16815;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State 210, 1]
type = HitDef
attr = S, SA
trigger1 = animelem = 1
damage = 200,20
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -20, -60
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 1,13
guard.pausetime = 0,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3000
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 40,40
givepower = 20,20
yaccel = 0.5

[State 13000, EnvColor]
type = EnvColor
triggerall = root,var(21)
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;-------------------------------------------------------------------------------
; Ura 108 Shiki: Orochi Nagi SDM
[Statedef 3800];Ok!
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
sprpriority = 2
juggle = 8
facep2 = 1
poweradd = -2000

[State 3201, Fire Sound]
type = PlaySnd
trigger1 = !Time
value = 3201,0
channel = 0

[State 1100, NotHitBy]
type = playsnd
trigger1 = time = 20
value = s7,40
channel = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3700

[State 3000, 1]
type = Helper
trigger1 = animelem = 7
stateno = 7001
supermovetime = 30
pos = 20,-112

[State 1000: Helper]
type = Helper
trigger1 = animelem = 7
helpertype = Normal
name = "HONOO"
id = 3020
pos = 0, -35
postype = p1
facing = 1
stateno = 3720
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999
persistent = 0
sprpriority = -1

[State -2, PalFX]
type = PalFX
trigger1 = animelemtime(7) >= 0
time = 1
add = ceil(0+40*sin(2*pi*(time)/10)),ceil(-50+30*sin(2*pi*(time)/10)),80;0,-50,80
invertall = 0
color = 1
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,29]
flag = noBG
flag2 = noFG

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [29,35]
flag = noBG
flag2 = noFG

[State 1100, NotHitBy]
type = NotHitBy
trigger1 = time = [1,30]
value = SCA

[State 6001, pause]
type = SuperPause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 4
helpertype = Normal
name = "Iori - BURNING"
id = 3820
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3820
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 0
persistent = 0
size.xScale = 0.49999
size.yScale = 0.59999

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3801
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 3801];Ok!
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3701

[State -2, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = ceil(0+40*sin(2*pi*(time)/10)),ceil(-50+30*sin(2*pi*(time)/10)),80;0,-50,80
invertall = 0
color = 1
ignorehitpause = 1

[State 1100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AP
time = 1

[State -2, 1]
type = Explod
triggerall = random < 80
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16810;
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 50
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16811;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16812;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16813;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16814;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16815;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State 210, 1]
type = HitDef
triggerall = 1
triggerall = hitcount = 0
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = S, HA
damage = floor(10*ifelse(var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAP
priority = 3, Hit
sparkno = S30002
sparkxy = -10, -80
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 5,3
guard.pausetime = 0,3
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3100
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5
envShake.time = 18
envShake.ampl = 6
envShake.freq = 120
sprPriority = 3

[State 210, 1]
type = HitDef
triggerall = 1;!var(55) || var(55) = 1200 || var(55) = 1000
triggerall = hitcount = 0
triggerall = var(54)
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = S, HA
damage = floor(10*ifelse(var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -10, -80
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 5,3
guard.pausetime = 0,3
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3100
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5
envShake.time = 18
envShake.ampl = 6
envShake.freq = 120
sprPriority = 3

[State 210, 1]
type = HitDef
triggerall = 1;var(55) = 3100
triggerall = hitcount > 0 && hitcount < 3
trigger1 = animelem = 3
attr = S, HA
damage = floor(10*ifelse(var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -10, -80
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 5,3
guard.pausetime = 0,3
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3100
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5
envShake.time = 18
envShake.ampl = 6
envShake.freq = 120
sprPriority = 3

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 100
trigger1 = command = "hold_a"
value = 3802

[State 3000, Xe[gX]
type = ChangeState
trigger1 = time >= 1
trigger1 = command != "hold_a"
value = 3802

[Statedef 3802]
type    = S
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 2

[State 3201, Fire Sound]
type = stopSnd
trigger1 = Time = 0
channel = 0

[State 3201, Fire Sound]
type = stopSnd
trigger1 = Time = 0
channel = 1

[State 1100, NotHitBy]
type = playsnd
trigger1 = animelem = 3
value = s173,15
channel = 1

[State -2, PalFX]
type = PalFX
trigger1 = animelemtime(1) >= 0
time = 1
add = ceil(0+40*sin(2*pi*(time)/10)),ceil(-50+30*sin(2*pi*(time)/10)),80;0,-50,80
invertall = 0
color = 1
ignorehitpause = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 3703

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3) < 0
value = SCA
time = 1

[State -2, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = -11

[State -2, Accel]
type = VelSet
trigger1 = animelemtime(5) >= 0 && time < 28
x = (12.6220703125*exp((-0.15154989812720093784068981755774)*(time-15)))

[State -2, Accel]
type = VelSet
trigger1 = time = 28
x = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 5
helpertype = Normal
name = "HONOO"
id = 3022
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3722
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 6, = 1
helpertype = Normal
name = "HONOO"
id = 3121
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3121
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 8, = 6
helpertype = Normal
name = "HONOO"
id = 3122
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3121
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000: Helper]
type = Helper
trigger1 = animelem = 9, = 5
helpertype = Normal
name = "HONOO"
id = 3123
pos = 0, 0 ;50
postype = p1
facing = 1
stateno = 3121
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 1000, 6]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;------------------------------------------------------------------------------;
;Orochinagi SDM Helper States
;------------------------------------------------------------------------------;
;Burning Iori
[Statedef 3820]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3820
sprpriority = 4
juggle = 10

[State 3055, VarAdd]
type = VarAdd
trigger1 = 1
var(58) = 1

[State 3055, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = (1.6 * var(58)), 256
ignoreHitPause = 1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = 1
facing = 0
pos = -15, -8
time = 1

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
trigger1 = parent, var(20) = 1
time = -1
length = 4
palbright = 231,79,0
palcontrast = 231,79,0
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = root, stateno != [3800,3801]
;Projectile

[Statedef 3121]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 3713
sprpriority = 4
juggle = 10

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3023, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = !time && IsHelper(3121)
facing = 0
time = 17

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = !time && IsHelper(3122)
facing = 0
time = 17
pos = 16

[State 65000: STAY PUT]
type = Bindtoroot
trigger1 = !time && IsHelper(3123)
facing = 0
time = 17
pos = 32

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 4,6
persistent = 0

[State 65000: AfterImage]
type = AfterImage
trigger1 = (!Time)
trigger1 = parent, var(20) = 1
time = 999
length = 4
palbright = 231,79,0
palcontrast = 231,79,0
paladd = 0,0,0
timegap = 4
framegap = 1
trans = add

[State -2, 1]
type = Explod
triggerall = random < 80
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16810;
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 50
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16811;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16812;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16813;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16814;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = movehit
anim = 16815;j
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State 210, 1]
type = HitDef
triggerall = !root, var(55) || root,var(55) = 3120 || root,var(55) = 3100
trigger1 = IsHelper(3121) && animelem = 1
attr = S, HP
damage = floor(216*ifelse(root,var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -20, -60
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 1,13
guard.pausetime = 0,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3120
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5

[State 210, 1]
type = HitDef
triggerall = !root, var(55) || root,var(55) = 3120 || root,var(55) = 3100
trigger1 = IsHelper(3122) && animelem = 1
attr = S, HP
damage = floor(108*ifelse(root,var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -20, -60
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 1,13
guard.pausetime = 0,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3120
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5

[State 210, 1]
type = HitDef
triggerall = !root, var(55) || root,var(55) = 3120 || root,var(55) = 3100
trigger1 = IsHelper(3123) && animelem = 1
attr = S, HP
damage = floor(50*ifelse(root,var(56),1.25,1)),10
animtype = Up
air.animtype = Up
guardflag = MA
hitflag = MAFP
priority = 3, Hit
sparkno = S30002
sparkxy = -20, -60
hitsound = s4,7
guardsound = s2,4
guard.sparkno = s30040
ground.type = Low
pausetime = 1,13
guard.pausetime = 0,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24
ground.velocity =  -5.5, -6.5
guard.velocity = -11.1796875
air.type = High
air.velocity =-5.5, -6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 3120
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 55
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = 0.5

[State 1411, VarSet]
type = ParentVarSet
trigger1 = numtarget(3120)
var(55) = 3120

[State 13000, EnvColor]
type = EnvColor
triggerall = root,var(21)
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;---------------------------------------------------------------------------
; t_bVI

[Statedef 3005]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3005
ctrl     = 0
sprpriority = 2

[State 3000, u]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; (i)
[Statedef 30200]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 30200

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; (i)
[Statedef 30300]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 30300

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;Neo Max KOF XIII
[Statedef 4000]
type = S
physics = S
movetype = A
poweradd = -3000
ctrl = 0
anim = 3501
sprpriority = 1



[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 2000, 2]
type = SuperPause
trigger1 = time = 1
time = 20
;movetime = 20
anim = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

;[State 863, 1]
;type = SuperPause
;trigger1 = AnimElem = 1
;anim = -1
;time = 30
;movetime = 0
;darken = 0

[State 3000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 30
under = 1
supermove = 1

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17200
pos = -7,-80
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17210
pos = -7,-80
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1




[State -2, VelSet]
type = VelSet
trigger1 = !(PrevStateNo = [200,700))
trigger1 = Time = 0
x = 0

[State -2, VelSet]
type = VelSet
trigger1 = Time = 0
y = 0

[State -2, VelSet]
type = VelSet
trigger1 = Time = 2
x = 0
y = 0

[State -2, Turn]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

;[State -2, PowerAdd]
;type = PowerAdd
;trigger1 = Time = 0
;value = -3000



[State 4000, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
stateType = A
physics = N

[State 4000, Width]
type = Width
trigger1 = Time = 0
edge = 150,90

[State 4000, Width]
type = Width
trigger1 = 1
edge = 60,90

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value=4000,0+(random%2)

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S173, 16

[State 4000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0



[State 4000, E.Shake]
type = EnvShake
trigger1 = AnimElem = 9
Time = 5
ampl = -5
freq = 200
phase = 5



[State Snd]
type = PlaySnd
trigger1 = AnimElem = 1, = 3
value = s171,1



[State 4000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 3505
postype = P1
pos = -8,0
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1
scale = 0.5,0.5
trans = Add
alpha = 256,128
ID = 4000

[State 4000, Explod]
type = Explod
trigger1 = AnimElem = 8, = 15
anim = 3506
postype = P1
pos = -8,0
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = -1
ownpal = 1
scale = 0.5,0.5
trans = Add
ID = 4000

[State 4000, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 6.5
y = -4

[State 4000, VelAdd]
type = VelAdd
trigger1 = AnimElem = 10, >= 0
y = .44

[State 4000, End]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4001

;---------------------------------------------------------------------------
[Statedef 4001]
type = S
physics = S
movetype = A
ctrl = 0
anim = 3502
velset = 0,0
sprpriority = 2

[State 4001, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4001, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 4001, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 4001, HitDef1]
type = HitDef
trigger1 = AnimElem = 1
attr = S,HA
damage = 0
animtype = Hard
air.animtype = Hard
ground.type = Low
guardflag = N
hitflag = MAFD
priority = 7,Hit
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = S2,4
pausetime = 0,0
guard.pausetime = 0,0
ground.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
air.hittime = 60
ground.velocity = 0
air.velocity = 0
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
numhit = 0
yaccel = .55
getpower = 0,0
givepower = 15,15
ID = 4000
p2facing = 1

[State 4001, TargetState]
type = TargetState
triggerall = NumTarget(4000)
trigger1 = MoveHit
trigger1 = Target,MoveType = H
trigger1 = !(Target,StateNo = 4020)
value = 4020
ID = 4000
ignorehitpause = 1
persistent = 0

[State 4001, ChangeState]
type = ChangeState
triggerall = NumTarget(4000)
trigger1 = MoveHit
trigger1 = Target,StateNo = 4020
value = 4010
ignorehitpause = 1

[State 4001, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 170,0,10
invertall = 1
ignorehitpause = 1

[State -2, CtrlSet]
type = CtrlSet
triggerall = !Win
trigger1 = AnimTime = -1
value = 1

[State 4001, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;P1StateDef
[Statedef 4010]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 3503
ctrl = 0
sprpriority = 2

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 1, = 4
ID = 4000

[State 4010, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4010, Width]
type = Width
trigger1 = Time = 0
edge = 150,30

[State 4010, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2, = 15
value = -600
ID = 4000

[State 4010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,8

[State 4010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S173,17
volume = 255

[State 4010, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4010, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0 && AnimElem = 2, < 0
pos = 120/2,-204/2
ID = 4000

[State 4010, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 145/2,-10/2
ID = 4000

[State 4010, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 170,0,10
invertall = 1
ignorehitpause = 1

[State 4010, E.Shake]
type = EnvShake
trigger1 = AnimElem = 2
Time = 15
ampl = -60
freq = 255
phase = 10

[State 4010, E.Shake]
type = EnvShake
trigger1 = AnimElem = 2, = 15
Time = 15
ampl = -45
freq = 255
phase = 10

[State 4010, E.Shake]
type = EnvShake
trigger1 = AnimElem = 2, = 30
Time = 15
ampl = -30
freq = 255
phase = 10

[State 4010, E.Shake]
type = EnvShake
trigger1 = AnimElem = 2, = 45
Time = 15
ampl = -15
freq = 255
phase = 10

[State 4010, E.Shake]
type = EnvShake
trigger1 = AnimElem = 2, = 60
Time = 15
ampl = -5
freq = 255
phase = 10

[State 4010, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3511
postype = P1
pos = 0,0
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
trans = Add

[State 4010, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3512
postype = P1
pos = 0,0
sprpriority = -7
supermove = -1
supermovetime = 99999
bindtime = 1
trans = Add

[State -2, TargetDrop]
type = TargetDrop
trigger1 = AnimTime = -1

[State -2, CtrlSet]
type = CtrlSet
triggerall = !Win
trigger1 = AnimTime = -1
value = 1

[State 4010, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;P2StateDef
[Statedef 4020]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State -2, DestroySelf]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1

[State -2, DefenceMulSet]
type = DefenceMulSet
trigger1 = Time = 0
value = 1

[State -2, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State -2, SelfState]
type = SelfState
trigger1 = Time > 500
trigger1 = P2StateNo != [4000,4100)
value = 5050

[State -2, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3521

[State -2, PalFX]
type = PalFX
trigger1 = AnimElem = 1
time = 125
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1
ignorehitpause = 1

[State 4020, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 4020, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = -8
y = -4

[State 4020, VelMul]
type = VelMul
trigger1 = AnimElem = 4, >= 0
x = 0.95

[State 4020, VelAdd]
type = VelAdd
Trigger1 = AnimElem = 4, >= 0
y = .44

[State 4020, ChangeState]
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3021

[State 4020, SelfState]
type = SelfState
triggerall = AnimElem = 4, >= 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;-------------------------------------------------------------------------------
;yamibarai hyper
[StateDef 4100]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4100
poweradd = -3000
sprpriority = 1



[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

;[State 863, 1]
;type = SuperPause
;trigger1 = AnimElem = 1
;anim = -1
;time = 30
;movetime = 0
;darken = 0

[State 3000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 30
under = 1
supermove = 1

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17200
pos = -21,-102
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17210
pos = -21,-102
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1



[State Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s171,1

[State 1000, HitBy]
type = HitBy
trigger1 = Time = [0,30]
value = SA,HA,NP,HP,NT,ST,HT

[State 1000, Helper]
type = Helper
trigger1 = animelem = 4
trigger2 = animelem = 12
trigger3 = animelem = 20
helpertype = normal
name = "Yamibarai"
ID = 926
stateno = 926
pos = 30,0
postype = p1
facing = 1
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 20
anim = 1050
postype = P1
pos = -10,5
sprpriority = 2
removetime = -2
bindtime = -1
removeongethit = 1

[State 1100, Explod]
type = Explod
trigger1 = animelem = 12
anim = 1050
postype = P1
pos = -10,5
sprpriority = -1
removetime = -2
bindtime = -1
removeongethit = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 11
trigger3 = animelem = 19
value = S5,8

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 12
trigger3 = animelem = 20
value = S5,9

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S20,38

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 61
value = S5000,2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 260
trigger2 = time = 270
trigger3 = time = 280
trigger4 = time = 290
trigger5 = time = 300
trigger6 = time = 310
value = s18,2

[State 1000, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 28
mul = 0,0,0

[State 916, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
movetime = -1
anim = -1

[State 937, Explod]
type = Explod
trigger1 = animelem = 9
anim = 979
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removeongethit = 1
removetime = -2
sprpriority = -1

[State 937, Explod]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 17
anim = 978
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removeongethit = 1
removetime = -2
sprpriority = 5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S20,18

[State 3000, Projectile]
type = Projectile
trigger1 = time = 260
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 50,0
velocity = 0
attr = A, HA
animtype = up
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,0
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 3000, Projectile]
type = Projectile
trigger1 = time = 270
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 100,0
velocity = 0
attr = A, HA
animtype = up
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,5
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 3000, Projectile]
type = Projectile
trigger1 = time = 280
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 150,0
velocity = 0
attr = A, HA
animtype = up
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,5
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 3000, Projectile]
type = Projectile
trigger1 = time = 290
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 200,0
velocity = 0
attr = A, HA
animtype = up
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,5
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 3000, Projectile]
type = Projectile
trigger1 = time = 300
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 250,0
velocity = 0
attr = A, HA
animtype = up
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,5
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 3000, Projectile]
type = Projectile
trigger1 = time = 310
projID = 2500
projscale = .4,.5
projanim = 2360
projremove = 0
projpriority = 8
projhitanim = -1
projremovetime = 38
ownpal = 1
offset = 300,0
velocity = 0
attr = A, HA
animtype = diagup
damage = 15,5
hitflag = MAF
guardflag = M
hitsound = s1,15
guardsound = s2,4
pausetime = 0,5
sparkno = S30002
guard.sparkno = s30040
sparkxy = -10,floor(-75+(enemynear, pos y))
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -8, -5
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
envshake.time = 15
envshake.ampl = -10
envshake.freq = 90
air.velocity = -8, -5
air.type = Low
fall.recover = 0
fall = 1
getpower = 0,0

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[StateDef 926]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 938
poweradd = 0
sprpriority = 2

[State 1000, AfterImage]
type = AfterImage
trigger1 = time = 0
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
time = -1
length  = 13
TimeGap = 1
FrameGap = 1

[State 1000, VelAdd]
type = Velset
trigger1 = 1
x = 4

[State 1000,HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP, HA
time = 1
ignorehitpause = 1

[State 1000, HitOverride]
type = HitOverride
trigger1 = time = 0
attr = SCA, NP, SP, HP, HA
stateno = 926
time = -1

[State 1000, ChangeState]
type = ChangeState
trigger1 = p2bodydist X < 10
value = 927

;-------------------------------------------------------------------------------
;Impacto
[StateDef 927]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 927
poweradd = 0
sprpriority = 2

[State 1000, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 30

[State 1000 , Helper]
type = Helper
trigger1 = time = 0
trigger2 = time = 80
helpertype = normal
name = "Yamibarai Freeze"
id = 2570
postype = p1
pos = -30,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 90
helpertype = normal
name = "Yamibarai Freeze"
id = 2570
postype = p1
pos = -15,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 150
helpertype = normal
name = "Yamibarai Freeze"
id = 2578
postype = p1
pos = 0,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 1

[State 1000 , Helper]
type = Helper
trigger1 = time = 20
trigger2 = time = 100
helpertype = normal
name = "Yamibarai Freeze"
id = 2570
postype = p1
pos = 0,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 30
trigger2 = time = 110
helpertype = normal
name = "Yamibarai Freeze"
id = 2570
postype = p1
pos = 15,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 40
trigger2 = time = 120
helpertype = normal
name = "Yamibarai Freeze"
id = 2570
postype = p1
pos = 30,0
stateno = 928
sprpriority = 5
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 50
trigger2 = time = 130
helpertype = normal
name = "Yamibarai Freeze"
id = 2575
postype = p1
pos = 15,0
stateno = 928
sprpriority = -2
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "Yamibarai Freeze"
id = 2575
postype = p1
pos = 0,0
stateno = 928
sprpriority = -2
keyctrl = 0
ownpal = 0

[State 1000 , Helper]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "Yamibarai Freeze"
id = 2575
postype = p1
pos = -15,0
stateno = 928
sprpriority = -2
keyctrl = 0
ownpal = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = time = 80

;-------------------------------------------------------------------------------
;Explocion
[StateDef 928]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2621
poweradd = 0
sprpriority = 2

[state 1000]
type = nothitby
trigger1 = 1
value = SCA

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 928

;[State 1000, Helper]
;type = Helper
;trigger1 = movehit
;helpertype = normal
;name = "Efecto Freeze"
;ID = 2620
;stateno = 2625
;pos = 0,0
;postype = p2
;ownpal = 1
;persistent = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S18,3

[State 1000, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 90
ampl = -6
phase = 90
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 33305
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 3402, 1.1]
type = hitdef
trigger1 = time = 0
attr = S, HP
hitflag = MA
guardflag = M
damage = 18,5
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = S30002
guard.sparkno = s30040
sparkxy = -5 + FrontEdgeDist - Ceil(FrontEdgeDist - p2BodyDist X), -60
hitsound = s1,9
guardsound = s2,4
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 2620
p2facing = 1
p2getp1state = 1
persistent = 0
kill = 0

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = time = 17

;---------------------------------------------------------------------------
[Statedef 3021]
type    = A
movetype= H
physics = N
velset = -4,0

[State 3021, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3021

[State 3021, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3021, VelAdd]
type = Veladd
trigger1 = Time >= 0 && AnimElem = 21, < 0
x = .1

[State 3021, VelSet]
type = VelSet
trigger1 = AnimElem = 21
x = 0

[State 3021, MakeDust]
type = MakeDust
trigger1 = Vel X < 0
spacing = 4

[State 3021, StateTypeSet]
type = StateTypeSet
trigger1 = AnimTime = 0
stateType = L
physics = N

[State 3021, SelfState]
type = SelfState
trigger1 = AnimTime = 0
trigger1 = Alive
value = 5120

[State 3021, SelfState]
type = SelfState
trigger1 = AnimTime = 0
trigger1 = !Alive
value = 5150
