
;---------------------------------------------------------------------------
;向前走 
[Statedef 18]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21
;-------------------------------------------------
;向后走
[Statedef 19]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21
;---------------------------------------------------------------------------
;前跳 
[Statedef 41]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;后跳 
[Statedef 42]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;小前跳 
[Statedef 43]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;小后跳 
[Statedef 44]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;影大前跳 
[Statedef 45]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(9) = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;影大后跳 
[Statedef 46]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(9) = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;影小前跳 
[Statedef 47]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 1

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(9) = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;影小后跳 
[Statedef 48]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 1

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(9) = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;原地大跳 
[Statedef 49]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = 1
value = , NT, ST, HT

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,const(velocity.jump.neu.x),ifelse(sysvar(1) = 1,ifelse((PrevStateNo = 100),const(velocity.runjump.fwd.x),const(velocity.jump.fwd.x)),const(velocity.jump.back.x)))
y = ifelse(var(4),const(velocity.jump.y)*0.68,const(velocity.jump.y))

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------------------------------------------------------
[State -3, EnemyNear Parameter]
Type = varset
Trigger1 = numenemy=1
fvar(4) = 0

[State -3, EnemyNear Parameter]
Type = varset
Trigger1 = numenemy=2
fvar(4) = ifelse(EnemyNear(0),alive,0,1)
;最近之敌活着,fvar(4) = 0,否则fvar(4) = 1,即最近之活敌为次近之敌
;======================================================================================================
;var设定
[state -3,对方低空受身纪录确认是否很高]
type = VarSet 
triggerall = var(59)>=3
trigger1 = stateno = 1300||stateno = 1400||stateno = 1402||stateno = 1403
trigger1 = EnemyNear(floor(fvar(4))),pos y = 0
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),PrevStateNo=[5020,5050]
trigger1 = numtarget = 0
ignorehitpause = 1
var(50) = 1

[state -3,对方低空受身纪录确认有]
type = VarSet 
triggerall = var(59)>=3
triggerall = var(50)=0
trigger1 = EnemyNear(floor(fvar(4))),pos y = 0
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),PrevStateNo=[5020,5050]
trigger1 = numtarget = 0
ignorehitpause = 1
var(50) = 2

[state -3,对方低空受身纪录]
type = VarSet 
triggerall = var(59)>=3
triggerall = stateno = 1300||stateno = 1400||stateno = 1402||stateno = 1403
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = movehit
trigger2 = moveguarded
ignorehitpause = 1
var(50) = ifelse(var(50)>=1,2,0)
;-----------------------------------------------------------------------------------------------------
[state -3,拳脚被破纪录]
type = VarSet 
triggerall = var(59)>=3
trigger1 = PrevStateNo=400||PrevStateNo=230||PrevStateNo=430||PrevStateNo=440||PrevStateNo=210||PrevStateNo=215||PrevStateNo=235||PrevStateNo=250||PrevStateNo=290
trigger1 = p2MoveType = A || EnemyNear(floor(fvar(4))),movetype=A
trigger1 = MoveType = H
ignorehitpause = 1
var(51) = 150

[State -3,拳脚被破纪录]
type = VarAdd
triggerall = var(59)>=3
trigger1 = var(51)>0
trigger1 = MoveType!=H
v = 51
value = -1
ignorehitpause = 1

[State -3,拳脚被破纪录取消]
type = Varset
triggerall = var(59)>=3
trigger1 = var(51)>100
trigger1 = var(14)=3 && var(20)>0
trigger1 = MoveType!=H
v = 51
value = 50
ignorehitpause = 1
;------------------------------------------------------------------------------------------------------
;不可投回避动作记录 
[State -3, 不可投回避动作记录]
type = VarSet
triggerall = var(59)>=3
Trigger1 = P2BodyDist X = [-10,15]
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=L
Trigger1 = EnemyNear(floor(fvar(4))),movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),StateNo>440
trigger1 = stateno=800||stateno=801
Trigger1 = hitdefattr = SC,AT
trigger1 = movehit = 0
trigger1 = var(52)<=0
trigger2 = EnemyNear(floor(fvar(4))),pos y = 0
trigger2 = EnemyNear(floor(fvar(4))),movetype=I
trigger2 = EnemyNear(floor(fvar(4))),PrevStateNo=[5020,5050]
trigger2 = numtarget = 0
v = 52
value = EnemyNear(floor(fvar(4))),StateNo
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59)>=3
trigger1 = var(52) = 0
v = 52
value = -1000
ignorehitpause = 1
;------------------------------------------------------------------------------------------------------
;回避动作记录 
[State -3, 回避动作记录]
type = VarSet
triggerall = var(59)>=3
Trigger1 = P2BodyDist X = [0,35]
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=L
Trigger1 = EnemyNear(floor(fvar(4))),movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),StateNo>440
trigger1 = stateno=400||stateno=430||stateno=235||stateno=215
Trigger1 = hitdefattr = SC,NA
trigger1 = MoveContact = 0
trigger1 = var(53)<=0
v = 53
value = EnemyNear(floor(fvar(4))),StateNo
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
triggerall = var(59)>=3
trigger1 = var(53)=var(52)
v = 53
value = -1000
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(59)>=3
trigger1 = var(53) = 0
v = 53
value = -1000
ignorehitpause = 1
;--------------------------------------------------------------------------------------
[state -3,跳攻击被破纪录]
type = VarSet 
triggerall = var(59)>=3
trigger1 = PrevStateNo = 650||PrevStateNo = 47||PrevStateNo = 45||PrevStateNo = 50
trigger1 = p2MoveType = A || EnemyNear(floor(fvar(4))),movetype=A
trigger1 = MoveType = H
ignorehitpause = 1
var(54) = 200

[State -3,跳攻击被破纪录]
type = VarAdd
triggerall = var(59)>=3
trigger1 = var(54)>0
trigger1 = MoveType!=H
v = 54
value = -1
ignorehitpause = 1
;--------------------------------------------------------------------------------------
[state -3,回避抓硬直被破纪录]
type = VarSet 
triggerall = var(59)>=3
trigger1 = PrevStateNo = 750 || PrevStateNo = 751 || PrevStateNo = 752
trigger1 = p2MoveType = A || EnemyNear(floor(fvar(4))),movetype=A
trigger1 = MoveType = H
ignorehitpause = 1
var(55) = 130

[State -3,回避抓硬直被破纪录]
type = VarAdd
triggerall = var(59)>=3
trigger1 = var(55)>0
trigger1 = MoveType!=H
v = 55
value = -1
ignorehitpause = 1
;--------------------------------------------------------------------------------
[State 0, 连击随机]
type = VarRandom
trigger1 = var(59)>=3
trigger1 = movehit = 1
v = 56
range = 0,100
ignorehitpause = 1

[State 0, 低AI连击随机]
type = VarRandom
trigger1 = var(59)=[1,2]
trigger1 = movehit = 1
v = 56
range = 0,333
ignorehitpause = 1
;--------------------------------------------------------------------------------
[State 0, 对方5120时长纪录]
type = VarSet
triggerall = var(59)>=3
triggerall = EnemyNear(floor(fvar(4))),movetype=I
triggerall = EnemyNear(floor(fvar(4))),statetype=L
trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
trigger1 = EnemyNear(floor(fvar(4))),time = 1
v = 57
value = EnemyNear(floor(fvar(4))),animtime
ignorehitpause = 1
[State 0, 对方5120时长初始]
type = VarSet
triggerall = var(59)>=3
trigger1 = roundstate = 1
trigger1 = var(57)=0
v = 57
value = -30
ignorehitpause = 1
;-----------------------------------------------------
[State 0, 对方起身/受击后时长纪录Lv1,2]
type = VarSet
trigger1 = var(59)=[1,2]
v = 58
value = 100
ignorehitpause = 1

[State 0, 对方起身/受击后时长纪录]
type = VarSet
triggerall = var(59)>=3
triggerall = var(58)>0
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),statetype=L
trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
trigger2 = EnemyNear(floor(fvar(4))),movetype=H
trigger3 = stateno=5120
trigger3 = movetype=I
v = 58
value = 0
ignorehitpause = 1

[State 0, 对方起身/受击后时长纪录]
type = Varadd
triggerall = var(59)>=3
trigger1 = EnemyNear(floor(fvar(4))),stateno!=5120
trigger1 = EnemyNear(floor(fvar(4))),movetype!=H
trigger2 = stateno!=5120
trigger2 = movetype!=H
v = 58
value = 1
ignorehitpause = 1
;---------------------------------------------------------------------------
;对策
[State -3,对策站立不动]
type = ChangeState
value = 131
triggerall = var(59) >=4
triggerall = statetype !=A
triggerall = ctrl||stateno = 11||stateno = 18||stateno = 19||stateno = 20||stateno = 100||stateno=[130,131]
trigger1 = EnemyNear(floor(fvar(4))),name = "Igniz-Boss" && EnemyNear(floor(fvar(4))),stateno = 921
trigger2 = EnemyNear(floor(fvar(4))),name = "Igniz Eagrose Version"  && EnemyNear(floor(fvar(4))),stateno = 2701
trigger3 = EnemyNear(floor(fvar(4))),name = "Gustab Munchausen" && EnemyNear(floor(fvar(4))),stateno = 1130
trigger4 = EnemyNear(floor(fvar(4))),name = "Hei Meiling" && EnemyNear(floor(fvar(4))),stateno = [3020,3022]
trigger5 = EnemyNear(floor(fvar(4))),name = "Hei_F" && EnemyNear(floor(fvar(4))),stateno = [3020,3022]
trigger6 = EnemyNear(floor(fvar(4))),name = "Ruthless-Gustab" && EnemyNear(floor(fvar(4))),stateno = 3050
trigger7 = EnemyNear(floor(fvar(4))),name = "Gustab Munchausen" && EnemyNear(floor(fvar(4))),AuthorName = "Hachishiki-Tokkou-Ningyou" && EnemyNear(floor(fvar(4))),stateno = 2100
trigger8 = EnemyNear(floor(fvar(4))),name = "Gloria" && EnemyNear(floor(fvar(4))),stateno = 4500
trigger9 = EnemyNear(floor(fvar(4))),name = "Zero" && EnemyNear(floor(fvar(4))),AuthorName = "TightRiam" && EnemyNear(floor(fvar(4))),stateno = 2100
trigger10 = EnemyNear(floor(fvar(4))),name = "Zero" && EnemyNear(floor(fvar(4))),AuthorName = "TightRiam" && EnemyNear(floor(fvar(4))),stateno = 1500
trigger11 = EnemyNear(floor(fvar(4))),name = "K-Blue" && EnemyNear(floor(fvar(4))),AuthorName = "tutaya" && EnemyNear(floor(fvar(4))),stateno = 1000 && P2BodyDist X <= 80
trigger12 = EnemyNear(floor(fvar(4))),name = "K-Blue" && EnemyNear(floor(fvar(4))),AuthorName = "tutaya" && EnemyNear(floor(fvar(4))),stateno = 1005 && P2BodyDist X <= 80
trigger13 = EnemyNear(floor(fvar(4))),name = "K-Blue" && EnemyNear(floor(fvar(4))),AuthorName = "tutaya" && EnemyNear(floor(fvar(4))),stateno = 1030
trigger14 = EnemyNear(floor(fvar(4))),name = "K-Blue" && EnemyNear(floor(fvar(4))),AuthorName = "tutaya" && EnemyNear(floor(fvar(4))),stateno = 1040
trigger15 = EnemyNear(floor(fvar(4))),name = "K-Blue" && EnemyNear(floor(fvar(4))),AuthorName = "tutaya" && EnemyNear(floor(fvar(4))),stateno = 1085

[State -3,对策后退]
type = ChangeState
value = 751
triggerall = var(59) >=4
triggerall = statetype !=A
triggerall = ctrl||stateno = 11||stateno = 18||stateno = 19||stateno = 20||stateno = 100||stateno=[130,131]
trigger1 = EnemyNear(floor(fvar(4))),name = "Igniz-Boss" && EnemyNear(floor(fvar(4))),stateno = 920
trigger2 = EnemyNear(floor(fvar(4))),name = "Igniz Eagrose Version" && EnemyNear(floor(fvar(4))),stateno = 2700
trigger3 = EnemyNear(floor(fvar(4))),name = "Abe"  && EnemyNear(floor(fvar(4))),stateno = 13100
trigger4 = EnemyNear(floor(fvar(4))),name = "Orochi Eagrose Version" && EnemyNear(floor(fvar(4))),stateno = 2301
trigger5 = EnemyNear(floor(fvar(4))),name = "Element delirus" && EnemyNear(floor(fvar(4))),stateno = 3506 && EnemyNear(floor(fvar(4))),time<=20 && P2BodyDist X >= 30
trigger6 = EnemyNear(floor(fvar(4))),name = "Crazy Rugal" && EnemyNear(floor(fvar(4))),stateno = 1030
trigger7 = EnemyNear(floor(fvar(4))),name = "Zero" && EnemyNear(floor(fvar(4))),AuthorName = "TightRiam" && EnemyNear(floor(fvar(4))),stateno = 1400 && EnemyNear(floor(fvar(4))),time=[30,60]
trigger7 = EnemyNear(floor(fvar(4))),P2Dist X>0 && BackEdgeBodyDist>=50
trigger8 = EnemyNear(floor(fvar(4))),name= "Sarashina" && EnemyNear(floor(fvar(4))),AuthorName = "Elecbyte" && EnemyNear(floor(fvar(4))),stateno = 1050 && EnemyNear(floor(fvar(4))),time=[37,50]
trigger8 = EnemyNear(floor(fvar(4))),P2Dist X>0

[State -3,对策前跳]
type = ChangeState
value = 45
triggerall = var(59) >=4
triggerall = statetype !=A
triggerall = ctrl||stateno = 11||stateno = 18||stateno = 19||stateno = 20||stateno = 100||stateno=[130,131]
trigger1 = EnemyNear(floor(fvar(4))),name = "Zero" && EnemyNear(floor(fvar(4))),AuthorName = "TightRiam" && EnemyNear(floor(fvar(4))),stateno = 1400 && EnemyNear(floor(fvar(4))),time=[30,60]
trigger1 = EnemyNear(floor(fvar(4))),P2Dist X>0 && BackEdgeBodyDist<50
trigger2 = EnemyNear(floor(fvar(4))),name= "Sarashina" && EnemyNear(floor(fvar(4))),AuthorName = "Elecbyte" && EnemyNear(floor(fvar(4))),stateno = 1050 && EnemyNear(floor(fvar(4))),time=[0,15]
trigger3 = EnemyNear(floor(fvar(4))),name = "Element delirus" && EnemyNear(floor(fvar(4))),stateno = 3506 && EnemyNear(floor(fvar(4))),time>35

[State -1, KOF防御闪避抓硬直对策八拾八式]
type = ChangeState
value = 450
triggerall = var(59) >= 4
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>0
trigger1 = movehit = 0
trigger1 = StateNo = 1001 
trigger1 = AnimElemTime(3)>=4
trigger1 = MoveContact = [1,4]
trigger1 = EnemyNear(floor(fvar(4))),movetype = I
trigger1 = EnemyNear(floor(fvar(4))),vel x > 1
trigger1 = EnemyNear(floor(fvar(4))),stateno>=600
;------------------------------------------------------------------------------------------------------
;====================================================================================================== 
;凹必杀-抓硬直
[State -3, 1,蹲轻拳抓硬直]
Type = ChangeState
Value = 400
TriggerAll = Var(59) >= 3
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = P2BodyDist X >= -5
Triggerall = P2BodyDist X < 30
triggerall = p2statetype != A
triggerall = p2statetype != L
trigger1 = P2MoveType = A
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger1 = EnemyNear(floor(fvar(4))),animtime=[-6,-4]
trigger1 = EnemyNear(floor(fvar(4))),time>=10
trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger1 = PrevStateNo=[150,151]
trigger1 = !EnemyNear(floor(fvar(4))),hitdefattr=SCA,AA,AP,AT
trigger1 = Random <=444+life/20
trigger2 = facing =EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger3 = inguarddist!
trigger3 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
trigger4 = (P2MoveType != A) && StateNo = [130,131]
trigger4 = Random <= 200
trigger4 = !inguarddist
trigger4 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),MoveType = A && PrevStateNo=[140,155]
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger5 = Random <= 333
trigger5 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),animtime<=-3
trigger6 = EnemyNear(floor(fvar(4))),MoveType = A && StateNo=140
trigger6 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger6 = Random <= 333
trigger6 = var(51)=0
trigger6 = EnemyNear(floor(fvar(4))),animtime<=-3

[State -3, 1,蹲轻拳抓硬直]
Type = ChangeState
Value = 400
TriggerAll = Var(59) >= 3
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = P2BodyDist X >= -5
Triggerall = P2BodyDist X < 30
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(6)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(7) - 3)
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(8)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(9) - 3)
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(10)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(11) - 3)
trigger4 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(12)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(13) - 3)
trigger5 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(14)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(15) - 3)
trigger6 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(16)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(17) - 3)
trigger7 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(18)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(19) - 3)
trigger8 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(20)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(21) - 3)
trigger9 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(22)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(23) - 3)
trigger10 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(24)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(25) - 3)
trigger11 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(26)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(27) - 3)
trigger12 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(28)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(29) - 3)
trigger13 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(30)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(31) - 3)
trigger14 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(32)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(33) - 3)
trigger15 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(34)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(35) - 3)
trigger16 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(36)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(37) - 3)
trigger17 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(38)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(39) - 3)
trigger18 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(40)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(41) - 3)
trigger19 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(42)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(43) - 3)
trigger20 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(44)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(45) - 3)

[State -3, 1,蹲轻脚抓硬直]
Type = ChangeState
Value = 430
TriggerAll = Var(59) >= 3
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = P2BodyDist X >= 30
Triggerall = P2BodyDist X < 40
triggerall = p2statetype != A
triggerall = p2statetype != L
trigger1 = P2MoveType = A
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger1 = EnemyNear(floor(fvar(4))),animtime=[-6,-4]
trigger1 = EnemyNear(floor(fvar(4))),time>=10
trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger1 = PrevStateNo=[150,151]
trigger1 = !EnemyNear(floor(fvar(4))),hitdefattr=SCA,AA,AP,AT
trigger1 = Random <=444+life/20
trigger2 = facing =EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger3 = inguarddist!
trigger3 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
trigger4 = (P2MoveType != A) && StateNo = [130,131]
trigger4 = Random <= 200
trigger4 = !inguarddist
trigger4 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),MoveType = A && PrevStateNo=[140,155]
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger5 = Random <= 333
trigger5 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),animtime<=-3
trigger6 = EnemyNear(floor(fvar(4))),MoveType = A && StateNo=140
trigger6 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger6 = Random <= 333
trigger6 = var(51)=0
trigger6 = EnemyNear(floor(fvar(4))),animtime<=-3

[State -3, 1,蹲轻脚抓硬直]
Type = ChangeState
Value = 430
TriggerAll = Var(59) >= 3
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = P2BodyDist X >= 30
Triggerall = P2BodyDist X < 40
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(6)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(7) - 3)
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(8)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(9) - 3)
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(10)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(11) - 3)
trigger4 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(12)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(13) - 3)
trigger5 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(14)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(15) - 3)
trigger6 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(16)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(17) - 3)
trigger7 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(18)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(19) - 3)
trigger8 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(20)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(21) - 3)
trigger9 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(22)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(23) - 3)
trigger10 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(24)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(25) - 3)
trigger11 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(26)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(27) - 3)
trigger12 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(28)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(29) - 3)
trigger13 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(30)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(31) - 3)
trigger14 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(32)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(33) - 3)
trigger15 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(34)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(35) - 3)
trigger16 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(36)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(37) - 3)
trigger17 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(38)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(39) - 3)
trigger18 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(40)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(41) - 3)
trigger19 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(42)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(43) - 3)
trigger20 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(44)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(45) - 3)

[State -3, 1,站重拳抓硬直]
Type = ChangeState
Value = ifelse(p2bodydist X >= 24,210,215)
TriggerAll = Var(59) >= 1
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
Triggerall = P2BodyDist X = [-10,24]
triggerall = p2statetype != A
triggerall = p2statetype != L
trigger1 = P2MoveType = A
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger1 = EnemyNear(floor(fvar(4))),animtime=[-4,-2]
trigger1 = EnemyNear(floor(fvar(4))),time>=10
trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger1 = PrevStateNo=[150,151]
trigger1 = !EnemyNear(floor(fvar(4))),hitdefattr=SCA,AA,AP,AT
trigger1 = Random <=444+life/20
trigger2 = facing =EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-2
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger3 = inguarddist!
trigger3 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-2
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
trigger4 = (P2MoveType != A) && StateNo = [130,131]
trigger4 = !inguarddist
trigger4 = Random <= 200
trigger4 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),MoveType = A && PrevStateNo=[140,155]
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger5 = Random <= 333
trigger5 = var(51)=0
trigger5 = EnemyNear(floor(fvar(4))),animtime<=-1
trigger6 = EnemyNear(floor(fvar(4))),MoveType = A && StateNo=140
trigger6 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger6 = Random <= 333
trigger6 = var(51)=0
trigger6 = EnemyNear(floor(fvar(4))),animtime<=-1

[State -3, 1,站重拳抓硬直]
Type = ChangeState
Value = ifelse(p2bodydist X >= 24,210,215)
TriggerAll = Var(59) >= 1
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
Triggerall = P2BodyDist X = [-10,24]
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(6)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(7) - 2)
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(8)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(9) - 2)
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(10)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(11) - 2)
trigger4 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(12)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(13) - 2)
trigger5 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(14)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(15) - 2)
trigger6 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(16)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(17) - 2)
trigger7 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(18)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(19) - 2)
trigger8 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(20)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(21) - 2)
trigger9 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(22)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(23) - 2)
trigger10 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(24)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(25) - 2)
trigger11 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(26)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(27) - 2)
trigger12 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(28)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(29) - 2)
trigger13 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(30)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(31) - 2)
trigger14 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(32)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(33) - 2)
trigger15 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(34)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(35) - 2)
trigger16 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(36)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(37) - 2)
trigger17 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(38)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(39) - 2)
trigger18 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(40)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(41) - 2)
trigger19 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(42)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(43) - 2)
trigger20 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(44)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(45) - 2)

[State -3, 1,八十八式抓硬直]
Type = ChangeState
Value = 450
TriggerAll = Var(59) >= 4
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
Triggerall = P2BodyDist X < 40
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(6)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(7) - 2)
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(8)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(9) - 2)
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(10)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(11) - 2)
trigger4 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(12)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(13) - 2)
trigger5 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(14)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(15) - 2)
trigger6 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(16)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(17) - 2)
trigger7 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(18)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(19) - 2)
trigger8 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(20)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(21) - 2)
trigger9 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(22)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(23) - 2)
trigger10 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(24)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(25) - 2)
trigger11 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(26)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(27) - 2)
trigger12 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(28)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(29) - 2)
trigger13 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(30)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(31) - 2)
trigger14 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(32)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(33) - 2)
trigger15 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(34)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(35) - 2)
trigger16 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(36)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(37) - 2)
trigger17 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(38)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(39) - 2)
trigger18 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(40)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(41) - 2)
trigger19 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(42)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(43) - 2)
trigger20 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(44)) && EnemyNear(floor(fvar(4))), Time < (Helper(90000), var(45) - 2)
;------------------------------------------------------------------------------------------------------
[State -3, 1,蹲轻脚防御buff]
Type = ChangeState
Value = 430
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
Triggerall = P2BodyDist X < 40
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = inguarddist
triggerall = EnemyNear(floor(fvar(4))),stateno = [0,699]
triggerall = EnemyNear(floor(fvar(4))),movetype = A
triggerall = EnemyNear(floor(fvar(4))),time = [0,5]
triggerall = var(12)=1 && var(20)>0
trigger1 = stateno = 200 && AnimElemTime(2)>1
trigger2 = stateno = 205 && AnimElemTime(2)>1
trigger3 = stateno = 400 && AnimElemTime(2)>1
trigger4 = stateno = 430 && AnimElemTime(2)>1
trigger5 = stateno = 235 && AnimElemTime(3)>1
;------------------------------------------------------------------------------------------------------
[State -3, 鬼(重)无技BUFF]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(20)=0||var(12)=1||var(13)=2||var(14)=3
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=499+(lifemax-life)/5 && gametime%5
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = p2bodydist x = [-50,50]
triggerall = stateno!= 1001
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,699]
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-6
trigger2 = EnemyNear(floor(fvar(4))),movetype=A
trigger2 = EnemyNear(floor(fvar(4))),stateno>=699
trigger2 = var(3)=2

[State -3, 鬼(重)无技BUFF(双打)]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(20)=0||var(12)=1||var(13)=2||var(14)=3
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = NumEnemy>=2
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = p2bodydist x = [-50,50]
triggerall = stateno!= 1001
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,1999]
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-6

[State -3, 鬼き双打追击(空连)]
Type = ChangeState
Value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = movetype!=H
triggerall = P2BodyDist X = [-30,50]
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = NumPartner>=1
triggerall = stateno!= 1001
trigger1 = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = p2bodydist y + 9*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*9*10/2 = [-55,-20]

[State -3, 鬼(重)有技BUFF]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>0
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = p2bodydist x = [-50,50]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno>=699
triggerall = EnemyNear(floor(fvar(4))),animtime<=-6
triggerall = stateno!= 1001
trigger1 = var(5)=1
trigger1 = StateNo != 1000
trigger1 = StateNo != 1001
trigger1 = StateNo != 1130
trigger1 = stateno != 1520
;--------------------------------------------------------------------------------------
[State -3, 427式・轹铁轻AIlv 1-2]
type = ChangeState
value = 1050
TriggerAll = Var(59) = [1,2]
TriggerAll = var(12)=1 && var(20)=0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=199+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100||var(3)=2
triggerall = p2bodydist x = [-120,120]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-8
trigger1 = EnemyNear(floor(fvar(4))),time=3
;-------------------------------------------------------------------------------------
[State -3, 荒咬AILV1,2]
type = ChangeState
value = 1100
TriggerAll = Var(59) = [1,2]
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=122 && gametime%20
triggerall = ctrl||stateno = 100||var(3)=2
triggerall = p2bodydist x = [-5,80]
trigger1 = EnemyNear(floor(fvar(4))),movetype=I

[State -3, 毒咬AILV1,2]
type = ChangeState
value = 1200
TriggerAll = Var(59) = [1,2]
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=122 && gametime%20
triggerall = ctrl||stateno = 100||var(3)=2
triggerall = p2bodydist x = [-5,100]
trigger1 = EnemyNear(floor(fvar(4))),movetype=I

[State -3, 荒咬有防BUFF]
type = ChangeState
value = 1100
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100||var(3)=2
triggerall = EnemyNear(floor(fvar(4))),stateno=[0,699]
triggerall = p2bodydist x = [0,80]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-13

[State -3, 毒咬有防BUFF]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100||var(3)=2
triggerall = EnemyNear(floor(fvar(4))),stateno=[0,699]
triggerall = p2bodydist x = [0,90]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-16
;---------------------------------------------------------------------------
[State -1,Mukai Freeze]
type = ChangeState
value = 3400
triggerall = var(59) >= 5
triggerall = var(14)=3 && var(20) > 0
triggerall = StateType != A
triggerall = var(15)=1;BOSS
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0||Enemy,ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),movetype=A||Enemy,movetype=A
triggerall = stateno!= 3400
trigger1 = var(5)=1
trigger1 = StateNo != 1130
trigger1 = stateno != 1520

[State -1,Mukai Freeze]
type = ChangeState
value = 3400
triggerall = var(59) >= 5
triggerall = var(14)=3 && var(20) > 0
triggerall = StateType != A
triggerall = var(15)=1;BOSS
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0||Enemy,ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),movetype=A||Enemy,movetype=A
triggerall = random<=99+(lifemax-life)/5 && gametime%100
triggerall = stateno!= 3400
trigger1 = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
trigger1 = life<=lifemax/2
;----------------------------------------------------------------------------------------------
[State -1,Mukai Freeze MAX]
type = ChangeState
value = 4350
triggerall = var(59) >= 2
triggerall = var(14)=3 && var(20) > 0
triggerall = StateType != A
TriggerAll = RoundState = 2
triggerall = var(15)=1;BOSS
triggerall = random >= life*0.75+500 && gametime%100=0
triggerall = numtarget=0;无命中
triggerall = stateno!= 4350
trigger1 = var(3)=1
trigger2 = var(5)=1
trigger2 = stateno != 1520
;--------------------------------------------------------------------------------------------------
[State -1, Mukai Freeze MAX+天丛云]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(12)=1 && var(20)<=600||var(13)=2||var(14)=3 && var(20)<=600
triggerall = var(20)>0
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl
trigger1 = projhit4350 = 1, < 20
trigger1 = numtarget
;----------------------------------------------------------------------------------------------
[State -3, 无式AILV1,2]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) = [1,2]
TriggerAll = power>=1000||var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%35
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = p2bodydist x = [-10,140]
triggerall = stateno!= 3200 && stateno!= 2400
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-20

[State -3, 无式无技BUFF]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) = [1,2]
TriggerAll = power>=1000||var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = EnemyNear(floor(fvar(4))),stateno>=699
triggerall = p2bodydist x = [-10,90]
triggerall = stateno!= 3200 && stateno!= 2400
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-12

[State -3, 无式有力BUFF]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) >= 3
TriggerAll = var(13)=2 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = EnemyNear(floor(fvar(4))),stateno>=200
triggerall = p2bodydist x = [-10,90]
triggerall = stateno!= 3200 && stateno!= 2400
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-10

[State -3, 无式有力BUFF（敌空中)]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) >= 4
TriggerAll = var(13)=2 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = var(3)=1 || var(3)=2 || ctrl || stateno=[100,101]
triggerall = EnemyNear(floor(fvar(4))),stateno>=200
triggerall = p2bodydist x = [-10+EnemyNear(floor(fvar(4))),vel x*10,90+EnemyNear(floor(fvar(4))),vel x*10]
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-100-P2BodyDist X/10,-30-P2BodyDist X/10]
triggerall = stateno!= 3200 && stateno!= 2400
trigger1 = EnemyNear(floor(fvar(4))),movetype=A

[State -3, 无式有技BUFF]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),stateno=[200,699]
triggerall = EnemyNear(floor(fvar(4))),numtarget=0||NumPartner = 0
triggerall = p2bodydist x = [-60,60]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
triggerall = EnemyNear(floor(fvar(4))),animtime<=-12
triggerall = stateno!=3200 && stateno!=2400
trigger1 = var(5)=1
trigger1 = StateNo != 1130
trigger1 = stateno != 2400
trigger1 = stateno != 3201
trigger1 = stateno != 3202
trigger1 = stateno != 1520
;----------------------------------------------------------------------------------------------
[State -3, 神尘LV3]
type = ChangeState
value = 4200
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1||var(13)=2||var(14)=3
TriggerAll = var(20)>0
TriggerAll = var(20)<=600
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),stateno=[0,699]
triggerall = p2bodydist x = [-5,30]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-2
trigger1 = EnemyNear(floor(fvar(4))),animtime>=-100
trigger1 = var(58)>=20

[State -3, 神尘]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3300,2200)
TriggerAll = Var(59) >= 3
TriggerAll = var(20)>=600||power>=1500
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),stateno=[0,699]
triggerall = p2bodydist x = [-5,30]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-2
trigger1 = EnemyNear(floor(fvar(4))),animtime>=-100
trigger1 = var(58)>=20

[State -3, 神尘有技BUFF]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3300,2200)
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),numtarget=0||NumPartner = 0
triggerall = p2bodydist x = [-30,30]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno=[0,699]
triggerall = var(58)>=20
triggerall = stateno!=3300 && stateno!=2200
trigger1 = var(5)=1
trigger1 = StateNo != 1130
trigger1 = stateno != 1520
;----------------------------------------------------------------------------------------
[State -3, 天丛云凹]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = var(12)=1 && var(20)>0||var(13)=2 && var(20)>0||var(14)=3 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100
triggerall = p2bodydist x = [-10+EnemyNear(floor(fvar(4))),vel x*4,300+EnemyNear(floor(fvar(4))),vel x*4]
triggerall = EnemyNear(floor(fvar(4))),time=[0,2]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),const(movement.yaccel)*6*7/2=[-65-P2BodyDist X/24,-30-P2BodyDist X/24]

[State -3, 天丛云凹]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = var(12)=1 && var(20)>0||var(13)=2 && var(20)>0||var(14)=3 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),stateno=[699,2999]
triggerall = p2bodydist x = [-300,300]
triggerall = EnemyNear(floor(fvar(4))),time=[0,2]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-5-p2bodydist x/24
trigger1 = EnemyNear(floor(fvar(4))),animtime>=-100

[State -3, 天丛云凹]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3 && numenemy>=2;敌人多
TriggerAll = var(12)=1 && var(20)>0||var(13)=2 && var(20)>0||var(14)=3 && var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = Enemy,ctrl = 0
triggerall = Enemy,facing!=facing
triggerall = p2dist x>0
triggerall = Enemy,statetype!=A;远处敌人 
triggerall = Enemy,statetype!=L
triggerall = random<=399+(lifemax-life)/5 && gametime%5
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),stateno=[699,2999]
triggerall = p2bodydist x = [-300,300]
trigger1 = Enemy,movetype=A
trigger1 = Enemy,animtime<=-5-p2bodydist x/24
trigger1 = Enemy,animtime>=-100
;-------------------------------------------------------------------------------------------------------
[State -3, 神威无技BUFF]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)>0||var(13)=2 && var(20)>0
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),stateno>=699
triggerall = p2bodydist x = [0,120]
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-6

[State -3, 神威有技BUFF]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)>0
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = p2bodydist x = [-120,120]
triggerall = p2bodydist y = [-80,10]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno>=200
trigger1 = var(5)=1

[State -3, 神威有技BUFF敌在后]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>0
triggerall = statetype!= A
triggerall = movetype!=H
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = p2bodydist x = [-120,0]
triggerall = p2bodydist y = [-80,10]
triggerall = EnemyNear(floor(fvar(4))),movetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno>=200
triggerall = EnemyNear(floor(fvar(4))),time=[0,2]
triggerall = stateno!=4300
trigger1 = var(5)=1
;====================================================================================================== 
;主动攻击 
;-------------------------------------------------------------------------------------------------------------
;站轻拳
[State -3, 站轻拳AILV1,2]
Type = ChangeState
Value = ifelse(p2bodydist X >= 18,200,205)
triggerall = !inguarddist
TriggerAll = Var(59) = [1,2];AILV1,2
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = P2BodyDist X = [10,50]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=222
;------------------------------------------------------------------------------------------------------------
;Z斧
[State -3, Z斧压制]
type = changestate
value = 250
triggerall = var(59) >=2
triggerall = Pos Y =0 
triggerall = statetype!=A 
TriggerAll = RoundState = 2
triggerall = win!
triggerall = var(14)=3 && var(20)>0
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = Random<=299-EnemyNear(floor(fvar(4))),power/20
triggerall = ctrl||stateno = 100
trigger1 = p2movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
Trigger1 = EnemyNear(floor(fvar(4))),vel x =0
Trigger1 = P2BodyDist X <= 70
Trigger1 = P2BodyDist X >= 20
Trigger1 = EnemyNear(floor(fvar(4))),animtime=-19
trigger1 = var(51)=0;拳脚没被破
;-------------------------------------------------------------------------------------------------------------
;蹲轻拳
[State -3, 蹲轻拳]
Type = ChangeState
Value = 400
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = P2BodyDist X = [10,30]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=222
trigger1 = var(51)=0;拳脚没被破

[State -3, 蹲轻拳压制]
type = changestate
value = 400
triggerall = var(59) >=2
triggerall = Pos Y =0 
triggerall = statetype!=A 
TriggerAll = RoundState = 2
triggerall = win!
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = Random<=699-EnemyNear(floor(fvar(4))),power/15
triggerall = ctrl||stateno = 100||stateno = 430 && AnimElemTime(2)>1||stateno = 400 && AnimElemTime(2)>1
trigger1 = p2movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
Trigger1 = EnemyNear(floor(fvar(4))),vel x =0
Trigger1 = P2BodyDist X <= 35
Trigger1 = P2BodyDist X >= 20
Trigger1 = EnemyNear(floor(fvar(4))),animtime=-3 && var(15)!=1 || EnemyNear(floor(fvar(4))),animtime=-1 && var(15)=1
trigger1 = var(51)=0;拳脚没被破

[State -3, 1,蹲轻拳立回]
Type = ChangeState
Value = 400
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype = I
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
Triggerall = P2BodyDist X < 75+EnemyNear(floor(fvar(4))),vel x*8
Triggerall = P2BodyDist X > 45+EnemyNear(floor(fvar(4))),vel x*8
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = PrevStateNo!=400
triggerall = ctrl||stateno = 100
trigger1 = var(51)=0
trigger1 = Random<99 && time%20
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
;-------------------------------------------------------------------------------
;站重拳
[State -3, 站重拳]
Type = ChangeState
Value = ifelse(p2bodydist X >= 24,210,215)
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = P2BodyDist X = [10,23]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=222
trigger1 = var(51)=0;拳脚没被破 
;----------------------------------------------------------------------------------------
;蹲轻脚 
[State -3, 蹲轻脚]
Type = ChangeState
Value = 430
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = P2BodyDist X = [10,45]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=222
trigger1 = var(51)=0;拳脚没被破 
trigger1 = EnemyNear(floor(fvar(4))),PrevStateNo!=[var(52)-10,var(52)+10];不可投回避动作 

[State -3, 蹲轻脚压制]
type = changestate
value = 430
triggerall = var(59) >=2
triggerall = Pos Y =0 
triggerall = statetype!=A 
TriggerAll = RoundState = 2
triggerall = win!
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = Random<=699-EnemyNear(floor(fvar(4))),power/20
triggerall = ctrl||stateno = 100||stateno = 430 && AnimElemTime(2)>1||stateno = 400 && AnimElemTime(2)>1
trigger1 = p2movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
Trigger1 = EnemyNear(floor(fvar(4))),vel x =0
Trigger1 = P2BodyDist X <= 55
Trigger1 = P2BodyDist X >= 20
Trigger1 = EnemyNear(floor(fvar(4))),animtime=-3 && var(15)!=1 || EnemyNear(floor(fvar(4))),animtime=-1 && var(15)=1
trigger1 = var(51)=0;拳脚没被破

[State -3, 1,蹲轻脚空振]
Type = ChangeState
Value = 430
triggerall = !inguarddist
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype = I
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
Triggerall = P2BodyDist X = [-50,50]
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4 && EnemyNear(floor(fvar(4))),time>=15
trigger1 = EnemyNear(floor(fvar(4))),stateno=[var(52)-10,var(52)+10];回避动作
trigger2 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger2 = EnemyNear(floor(fvar(4))),vel x=[-1,1]
trigger2 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger2 = EnemyNear(floor(fvar(4))),time>=15
trigger2 = EnemyNear(floor(fvar(4))),stateno=[var(52)-10,var(52)+10];回避动作
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger3 = EnemyNear(floor(fvar(4))),Ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-4 && EnemyNear(floor(fvar(4))),time>=15
trigger3 = EnemyNear(floor(fvar(4))),stateno=[var(53)-10,var(53)+10];不可投回避动作
trigger4 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger4 = EnemyNear(floor(fvar(4))),vel x=[-1,1]
trigger4 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger4 = EnemyNear(floor(fvar(4))),time>=15
trigger4 = EnemyNear(floor(fvar(4))),stateno=[var(53)-10,var(53)+10];不可投回避动作
;---------------------------------------------------------------------------------------------------
[State -3, 超重击压制]
type = changestate
value = 290
triggerall = var(59) >=3
triggerall = Pos Y =0 
triggerall = statetype!=A 
TriggerAll = RoundState = 2
triggerall = win!
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = Random<=333-EnemyNear(floor(fvar(4))),power/20
triggerall = ctrl||stateno = 100
trigger1 = p2movetype=I
Trigger1 = EnemyNear(floor(fvar(4))),stateno=5120
Trigger1 = EnemyNear(floor(fvar(4))),vel x =0
Trigger1 = P2BodyDist X <= 55
Trigger1 = P2BodyDist X >= 20
Trigger1 = EnemyNear(floor(fvar(4))),animtime=-19
trigger1 = var(51)=0;拳脚没被破
;---------------------------------------------------------------------------------------------------
[State -3, 1,蹲重脚主动攻击]
Type = ChangeState
Value = 440
TriggerAll = Var(59) = [1,4]
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,70]
triggerall = ctrl||stateno = 100
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=111 && gametime%10=0
trigger1 = var(51)=0;拳脚没被破 
trigger1 = EnemyNear(floor(fvar(4))),PrevStateNo!=[var(52)-10,var(52)+10];不可投回避动作 

[State -3, 1,蹲重脚连携]
Type = ChangeState
Value = 440
TriggerAll = Var(59) = [1,2]
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,70]
triggerall = ctrl||stateno = 100
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
trigger1 = EnemyNear(floor(fvar(4))),stateno=[130,155]
trigger1 = random<=111 && gametime%10=0
trigger1 = var(51)=0;拳脚没被破 
;----------------------------------------------------------------------------------------------------
;站轻拳
[State -3, 1,站轻拳]
Type = ChangeState
Value = ifelse(p2bodydist X >= 18,200,205)
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype = I
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
Triggerall = P2BodyDist X < 75+EnemyNear(floor(fvar(4))),vel x*8
Triggerall = P2BodyDist X > 45+EnemyNear(floor(fvar(4))),vel x*8
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = PrevStateNo!=200
triggerall = PrevStateNo!=205
triggerall = ctrl||stateno = 100
trigger1 = var(51)=0
trigger1 = Random<99 && time%50
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
;----------------------------------------------------------------------------------------------------
;站轻脚
[State -3, 1,站轻脚]
Type = ChangeState
Value = ifelse(p2bodydist X >= 14,230,235)
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype = I
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
Triggerall = P2BodyDist X < 75+EnemyNear(floor(fvar(4))),vel x*8
Triggerall = P2BodyDist X > 45+EnemyNear(floor(fvar(4))),vel x*8
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = PrevStateNo!=230
triggerall = PrevStateNo!=235
triggerall = ctrl||stateno = 100
trigger1 = var(51)=0
trigger1 = Random<199
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
;--------------------------------------------------------------------
;站重拳
[State -3, 1,站重拳]
Type = ChangeState
Value = ifelse(p2bodydist X >= 24,210,215)
triggerall = !inguarddist
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype = I
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
triggerall = p2bodydist X =[-5,23]
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = ctrl||stateno = 100
trigger1 = var(51)=0
trigger1 = Random<399
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
;----------------------------------------------------------------------------------------------------
[State -3, 1,投技]
type = ChangeState
value = 800
triggerall = Var(59) >= 2
triggerall = ctrl && stateno!=100
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
triggerall = p2bodydist x = [-30,15]
triggerall = statetype != A
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = var(58)>=20
trigger1 = BackEdgeBodyDist > 100
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Stateno < 2000
trigger1 = PrevStateNo!=[130,155]
trigger2 = BackEdgeBodyDist > 100
trigger2 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger2 = facing !=EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投
trigger3 = facing =EnemyNear(floor(fvar(4))),facing
trigger3 = BackEdgeBodyDist > 100
trigger3 = EnemyNear(floor(fvar(4))),ctrl=0 
Trigger3 = EnemyNear(floor(fvar(4))),animtime>-2
trigger4 = EnemyNear(floor(fvar(4))),p2dist x>0
trigger4 = facing =EnemyNear(floor(fvar(4))),facing
trigger4 = BackEdgeBodyDist <= 100
trigger4 = EnemyNear(floor(fvar(4))),ctrl=0 && EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Stateno < 2000||EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投
trigger5 = random<=333 && gametime%5=0
trigger5 = BackEdgeBodyDist > 100
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 1
trigger5 = facing !=EnemyNear(floor(fvar(4))),facing
trigger5 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投

[State -3, 1,投技]
type = ChangeState
value = 801
triggerall = Var(59) >= 2
triggerall = ctrl && stateno!=100
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = EnemyNear(floor(fvar(4))),stateno!=[5000,5999]
triggerall = p2bodydist x = [-30,15]
triggerall = statetype != A
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),anim!=40
triggerall = var(58)>=20
trigger1 = BackEdgeBodyDist <= 100
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Stateno < 2000
trigger1 = PrevStateNo!=[130,155]
trigger2 = BackEdgeBodyDist <= 100
trigger2 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger2 = facing !=EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投
trigger3 = facing =EnemyNear(floor(fvar(4))),facing
trigger3 = BackEdgeBodyDist <= 100
trigger3 = EnemyNear(floor(fvar(4))),ctrl=0
Trigger3 = EnemyNear(floor(fvar(4))),animtime>-2
trigger4 = EnemyNear(floor(fvar(4))),p2dist x>0
trigger4 = facing =EnemyNear(floor(fvar(4))),facing
trigger4 = BackEdgeBodyDist > 100
trigger4 = EnemyNear(floor(fvar(4))),ctrl=0 && EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),Stateno < 2000||EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投 
trigger5 = random<=333 && gametime%5=0
trigger5 = BackEdgeBodyDist <= 100
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 1
trigger5 = facing !=EnemyNear(floor(fvar(4))),facing
trigger5 = EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投
;------------------------------------------------------------------------
;荒咬/毒咬主动攻击 
[State -3, 荒咬有主动攻击]
Type = ChangeState
Value = 1100
TriggerAll = Var(59) = [1,2]
triggerall = !inguarddist
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = p2bodydist x = [20,80]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=333 && gametime%15

[State -3, 毒咬主动攻击]
Type = ChangeState
Value = 1200
TriggerAll = Var(59) = [1,2]
triggerall = !inguarddist
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = p2bodydist x = [20,90]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=333 && gametime%15
;--------------------------------------------------------------------------------------
;弱]
[State -3, 弱]有防BUFF]
Type = ChangeState
Value = 1300
TriggerAll = Var(59) >= 2
triggerall = !inguarddist
TriggerAll = var(12)=1 && var(20)>0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = p2dist x>0
triggerall = p2bodydist x = [0,60]
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),numproj=0
trigger1 = !PrevStateNo=[130,155]
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=333 && gametime%20
trigger1 = var(51)=1;拳脚被破

[State -3, 弱]]
Type = ChangeState
Value = 1300
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = p2movetype = I
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = P2BodyDist X >= 10
Triggerall = P2BodyDist X < 45
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),numproj=0
trigger1 = !PrevStateNo=[130,155]
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),anim!=40
trigger1 = random<=222 && gametime%20
trigger1 = var(51)=1;拳脚被破
;-------------------------------------------------------------------------------------
;独乐屠 
[State -1,独乐屠轻]
type = ChangeState
value = 1500
triggerall = var(59)=[1,4]
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),movetype != H
triggerall = !inguarddist && var(54)=0;空中攻击没被破
triggerall = !EnemyNear(floor(fvar(4))),numproj && !Enemy,numproj
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = ctrl || stateno = 20|| stateno = 21|| stateno = 100
trigger1 = p2bodydist x = [60,95]
trigger1 = random <= (var(59))*5
trigger2 = ctrl
trigger2 = EnemyNear(floor(fvar(4))),statetype = C
trigger2 = EnemyNear(floor(fvar(4))),movetype = I
trigger2 = EnemyNear(floor(fvar(4))),animtime <= -18
trigger2 = EnemyNear(floor(fvar(4))),stateno = [200,999]
trigger2 = (EnemyNear(floor(fvar(4))),stateno!=[120,159])
trigger2 = p2bodydist x = [32,80]
trigger2 = random <= (var(59))*15

[State -1,独乐屠重]
type = ChangeState
value = 1501
triggerall = var(59)=[1,4]
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = !inguarddist && var(54)=0;空中攻击没被破
triggerall = !EnemyNear(floor(fvar(4))),numproj  && !Enemy,numproj
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = ctrl || stateno = 20|| stateno = 21|| stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),movetype = A
trigger1 = EnemyNear(floor(fvar(4))),animtime <= -27
trigger1 = (EnemyNear(floor(fvar(4))),stateno!=[120,159])
trigger1 = p2bodydist x = [150,220]
trigger1 = random <= (var(59))*20
;-------------------------------------------------------------------------------------
[State -3,B1]
type = ChangeState
value = 1900
triggerall = !inguarddist && EnemyNear(floor(fvar(4))),NumProj=0
triggerall = var(59) >= 2
triggerall = statetype != A
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = [100,101]
triggerall = win!
triggerall = Random <= 333 && gametime%40
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = numhelper(1910) = 0
Trigger1 = P2BodyDist X >=90
Trigger1 = P2BodyDist X <200
Trigger1 = EnemyNear(floor(fvar(4))),statetype=L && EnemyNear(floor(fvar(4))),stateno!=5120 ||EnemyNear(floor(fvar(4))),stateno=5120 && EnemyNear(floor(fvar(4))),animtime<=-30 && EnemyNear(floor(fvar(4))),vel x=0
Trigger2 = p2dist x > 0 && P2BodyDist X >0
Trigger2 = EnemyNear(floor(fvar(4))),movetype =I
Trigger2 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger2 = EnemyNear(floor(fvar(4))),statetype!=L
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[0,199]
Trigger2 = P2BodyDist X >=180
Trigger3 = numtarget(1000)||numtarget(1001)||numtarget(1140)||numtarget(1150)
Trigger3 = p2dist x > 0 && P2BodyDist X >0
Trigger3 = target,movetype =H
Trigger3 = target,statetype=A
Trigger3 = target,stateno=[5000,5999]
Trigger3 = P2BodyDist X >=100

[State -3,B1AILV1]
type = ChangeState
value = 1900
triggerall = !inguarddist
triggerall = var(59) = 1
triggerall = statetype != A
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = [100,101]
triggerall = win!
triggerall = Random = [0,30]
triggerall = gametime%30
triggerall = numhelper(1910) = 0
Trigger1 = P2BodyDist X >=120
;----------------------------------------------------------------------------------------------------
[State -3, 1,B2抓硬直]
Type = ChangeState
Value = 1901
TriggerAll = Var(59) >= 4
triggerall = ctrl||stateno = [100,101]
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = P2BodyDist X = [40,160]
triggerall = p2statetype != A
triggerall = p2statetype != L
trigger1 = EnemyNear(floor(fvar(4))),MoveType = A
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger1 = EnemyNear(floor(fvar(4))),animtime=[-18,-9]
trigger1 = EnemyNear(floor(fvar(4))),time>=10
trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger1 = PrevStateNo=[150,151]
trigger1 = Random <=444+life/20
trigger1 = var(54)=0
;----------------------------------------------------------------------------------------------------
;跳
[State -3, 5，大前跳]
type = ChangeState
value = 45
TriggerAll = Var(59) >= 2
triggerall = statetype != A
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = 100
triggerall = p2dist x>0
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = EnemyNear(floor(fvar(4))),Statetype != L ;远抓硬直 
trigger1 = EnemyNear(floor(fvar(4))),stateno>=699
trigger1 = EnemyNear(floor(fvar(4))),statetype != A
trigger1 = EnemyNear(floor(fvar(4))),time<=3
trigger1 = EnemyNear(floor(fvar(4))),numproj<=2
trigger1 = EnemyNear(floor(fvar(4))),ctrl=0 && var(54)=0;空中攻击没被破
trigger1 = p2bodydist x=[100+EnemyNear(floor(fvar(4))),vel x*5,190]
trigger1 = (p2movetype = A && EnemyNear(floor(fvar(4))),ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-27)||(p2movetype = I && EnemyNear(floor(fvar(4))),ctrl=0 && EnemyNear(floor(fvar(4))),animtime<=-27)
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作 
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(53)-10,var(53)+10];回避动作
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[5200,5201];受身动作
trigger1 = EnemyNear(floor(fvar(4))),stateno<2000
trigger2 = facing !=EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),stateno = 5120
trigger2 = var(57)<=-31;打背起跳时间控制
trigger2 = EnemyNear(floor(fvar(4))),statetype=L && var(54)=0;空中攻击没被破
trigger2 = EnemyNear(floor(fvar(4))),animtime=[-25,-22]
trigger2 = EnemyNear(floor(fvar(4))),ctrl=0
trigger2 = EnemyNear(floor(fvar(4))),vel x =0
trigger2 = p2bodydist x=[-10,100]
trigger2 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=20
trigger2 = random<=333+var(12)*444
trigger3 = facing !=EnemyNear(floor(fvar(4))),facing
trigger3 = var(57)=[-30,-25];打背起跳时间控制(中) 
trigger3 = EnemyNear(floor(fvar(4))),stateno = 5110||EnemyNear(floor(fvar(4))),stateno = 5101 && EnemyNear(floor(fvar(4))),time = [13,15]
trigger3 = EnemyNear(floor(fvar(4))),statetype=L && var(54)=0;空中攻击没被破
trigger3 = EnemyNear(floor(fvar(4))),ctrl=0
trigger3 = p2bodydist x=[-10,100]
trigger3 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=20
trigger3 = random<=222+var(12)*444
trigger4 = facing !=EnemyNear(floor(fvar(4))),facing
trigger4 = var(57)=[-25,-20];打背起跳时间控制(短) 
trigger4 = EnemyNear(floor(fvar(4))),stateno = 5110||EnemyNear(floor(fvar(4))),stateno = 5101 && EnemyNear(floor(fvar(4))),time = [7,10]
trigger4 = EnemyNear(floor(fvar(4))),statetype=L && var(54)=0;空中攻击没被破
trigger4 = EnemyNear(floor(fvar(4))),ctrl=0
trigger4 = p2bodydist x=[-10,100]
trigger4 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=20
trigger4 = random<=222+var(12)*444
trigger5 = var(57)<=-10
trigger5 = EnemyNear(floor(fvar(4))),statetype=L ;跳离墙角
trigger5 = p2bodydist x=[-10,100]
trigger5 = BackEdgeBodyDist<=20

[State -3, 5，小大前跳]
type = ChangeState
value = 47
TriggerAll = Var(59) >= 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype=I
triggerall = EnemyNear(floor(fvar(4))),numproj=0
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = 100
triggerall = p2dist x>0
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 1
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger1 = EnemyNear(floor(fvar(4))),Statetype != L;主动攻击无防御buff
trigger1 = p2dist x>=20
trigger1 = var(20)=0||var(13)=2&&var(20)>0||var(14)=3&&var(20)>0
trigger1 = !inguarddist && var(54)=0;空中攻击没被破
trigger1 = p2bodydist x=[50+EnemyNear(floor(fvar(4))),vel x*5,120+EnemyNear(floor(fvar(4))),vel x*5]
trigger1 = random <=333 && gametime%5=0
trigger1 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作
trigger2 = EnemyNear(floor(fvar(4))),ctrl = 1
trigger2 = EnemyNear(floor(fvar(4))),stateno=[0,199]
trigger2 = EnemyNear(floor(fvar(4))),Statetype != L 
trigger2 = var(12)=1 && var(20)>0;主动攻击有防御buff
trigger2 = !inguarddist && var(54)=0;空中攻击没被破
trigger2 = p2bodydist x=[0,120+EnemyNear(floor(fvar(4))),vel x*5]
trigger2 = random <=666 && gametime%5=0
trigger2 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作
trigger3 = EnemyNear(floor(fvar(4))),ctrl = 0;压制5120有防御buff 
trigger3 = EnemyNear(floor(fvar(4))),Statetype = L 
trigger3 = EnemyNear(floor(fvar(4))),stateno = 5120
trigger3 = var(12)=1 && var(20)>0
trigger3 = !inguarddist
trigger3 = p2bodydist x=[-10,120+EnemyNear(floor(fvar(4))),vel x*5]
trigger3 = random <=888
trigger3 = EnemyNear(floor(fvar(4))),animtime=-6
trigger3 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>5
trigger4 = EnemyNear(floor(fvar(4))),ctrl = 0;压制5120无防御buff 
trigger4 = EnemyNear(floor(fvar(4))),Statetype = L 
trigger4 = EnemyNear(floor(fvar(4))),stateno = 5120
trigger4 = var(20)=0||var(13)=2 && var(20)>0||var(14)=3 && var(20)>0
trigger4 = !inguarddist
trigger4 = p2bodydist x=[-10,120+EnemyNear(floor(fvar(4))),vel x*5]
trigger4 = random <=555
trigger4 = EnemyNear(floor(fvar(4))),animtime=-10
trigger4 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>5
trigger5 = PrevStateNo!=5120
trigger5 = EnemyNear(floor(fvar(4))),NumProj<=1
trigger5 = EnemyNear(floor(fvar(4))),statetype!=L
trigger5 = EnemyNear(floor(fvar(4))),statetype!=A
trigger5 = EnemyNear(floor(fvar(4))),facing=facing
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger5 = EnemyNear(floor(fvar(4))),animtime<=-16
trigger5 = EnemyNear(floor(fvar(4))),movetype=A && EnemyNear(floor(fvar(4))),time>=10||EnemyNear(floor(fvar(4))),movetype=I;跳抓硬直 
Trigger5 = P2BodyDist X = [0,120+EnemyNear(floor(fvar(4))),vel x*5]
trigger5 = EnemyNear(floor(fvar(4))),stateno!=[var(52)-10,var(52)+10];不可投回避动作

[State -3, 1,小大前跳/大跳抓硬直]
Type = ChangeState
Value = ifelse(P2BodyDist X>=140,45,47)
TriggerAll = Var(59) >= 3
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
TriggerAll = statetype!=A
triggerall = p2statetype != A
triggerall = p2statetype != L
trigger1 = EnemyNear(floor(fvar(4))),MoveType = A
trigger1 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-12+P2BodyDist X/10
trigger1 = P2BodyDist X<=140
trigger1 = EnemyNear(floor(fvar(4))),time>=10
trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger1 = PrevStateNo=[140,151]
trigger1 = !EnemyNear(floor(fvar(4))),hitdefattr=SCA,AA,AP,AT
trigger1 = Random <=450+life/20
trigger1 = var(54)=0
trigger2 = EnemyNear(floor(fvar(4))),MoveType = A
trigger2 = EnemyNear(floor(fvar(4))),Ctrl=0
trigger2 = EnemyNear(floor(fvar(4))),animtime<=-17+P2BodyDist X/10
trigger2 = P2BodyDist X>=140
trigger2 = EnemyNear(floor(fvar(4))),time>=10
trigger2 = EnemyNear(floor(fvar(4))),stateno=[200,4999]
trigger2 = PrevStateNo=[140,151]
trigger2 = !EnemyNear(floor(fvar(4))),hitdefattr=SCA,AA,AP,AT
trigger2 = Random <=450+life/20
trigger2 = var(54)=0

[State -3, 5，原地跳]
type = ChangeState
value = ifelse(random<=199,49,40)
TriggerAll = Var(59) >= 1
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype != L 
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,999];主动攻击无防御buff
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = !inguarddist && var(54)=0;空中攻击没被破
trigger1 = p2bodydist x=[10+EnemyNear(floor(fvar(4))),vel x*5,60+EnemyNear(floor(fvar(4))),vel x*5]
trigger1 = random <=111 && gametime%15=0

[State -3, 5，原地跳/后跳防空]
type = ChangeState
value = ifelse(random<=499 && BackEdgeBodyDist>40,46,49)
TriggerAll = Var(59) >= 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype = A
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),stateno=[0,999];主动攻击无防御buff
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = !inguarddist && var(54)=0;空中攻击没被破
trigger1 = p2bodydist x=[10+EnemyNear(floor(fvar(4))),vel x*10,80+EnemyNear(floor(fvar(4))),vel x*10]
trigger1 = EnemyNear,Pos Y+EnemyNear,Vel Y*10+EnemyNear,const(movement.yaccel)*10*11/2=[-150,-50]
trigger1 = random <=222 && gametime%10=0

[State -3, 5，小大前跳]
type = ChangeState
value = 41
TriggerAll = Var(59) = 1
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype != L 
TriggerAll = RoundState = 2
triggerall = ctrl||stateno = 100
trigger1 = !inguarddist
trigger1 = random <=300 && gametime%5=0
;------------------------------------------------------------------------------------------------------
;跳攻击
[state -2,奈落落攻击S]
type = ChangeState
value = 650
triggerall = var(59) >= 1
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),statetype=S
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = p2bodydist X-Vel X*6-EnemyNear(floor(fvar(4))),Vel X*6=[-9999,50]
trigger1 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger1 = var(20)=0||var(13)=2||var(14)=3
trigger2 = var(12)=1 && var(20)>0;有防BUFF
trigger2 = EnemyNear(floor(fvar(4))),movetype = A
trigger2 = EnemyNear(floor(fvar(4))),time>=3 && Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger3 = var(12)=0||var(20)<=0;无防BUFF
Trigger3 = EnemyNear(floor(fvar(4))),movetype=A
trigger3 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger4 = pos Y > -65
trigger4 = vel Y > -2
trigger5 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger5 = EnemyNear(floor(fvar(4))),movetype=I
trigger5 = EnemyNear(floor(fvar(4))),animtime=-4
trigger5 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger6 = facing !=EnemyNear(floor(fvar(4))),facing
trigger6 = var(12)=1 && var(20)>0;有防BUFF
trigger6 = sysvar(1)=1 && var(4)=1 && var(9)=1;影小前跳
trigger6 = EnemyNear(floor(fvar(4))),movetype=A||EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),ctrl = 0 && EnemyNear(floor(fvar(4))),animtime<=-5
trigger6 = EnemyNear(floor(fvar(4))),time>=3||EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),ctrl = 0 && EnemyNear(floor(fvar(4))),animtime<=-5
trigger7 = facing !=EnemyNear(floor(fvar(4))),facing
trigger7 = var(12)=0||var(20)<=0;无防BUFF
trigger7 = sysvar(1)=1 && var(4)=1 && var(9)=1;影小前跳
trigger7 = EnemyNear(floor(fvar(4))),movetype=A||EnemyNear(floor(fvar(4))),movetype=I && EnemyNear(floor(fvar(4))),ctrl = 0 && EnemyNear(floor(fvar(4))),animtime<=-5

[state -2,跳重脚攻击S]
type = ChangeState
value = 640
triggerall = var(59) >= 1
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),statetype=S
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = p2bodydist X-Vel X*6-EnemyNear(floor(fvar(4))),Vel X*6=[-9999,80]
trigger1 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger1 = var(20)=0||var(13)=2||var(14)=3
trigger2 = var(12)=1 && var(20)>0;有防BUFF
trigger2 = EnemyNear(floor(fvar(4))),movetype = A
trigger2 = EnemyNear(floor(fvar(4))),time>=3 && Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger3 = var(12)=0||var(20)<=0;无防BUFF
Trigger3 = EnemyNear(floor(fvar(4))),movetype=A
trigger3 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110

[state -2,奈落落攻击C]
type = ChangeState
value = 650
triggerall = var(59) >= 2
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),statetype=C
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = p2bodydist X-Vel X*6-EnemyNear(floor(fvar(4))),Vel X*6=[-9999,50]
trigger1 = var(12)=1 && var(20)>0;有防BUFF
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),time>=3 && Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger2 = var(12)=0||var(20)<=0;无防BUFF
Trigger2 = EnemyNear(floor(fvar(4))),movetype=A
Trigger2 = Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2<=-110
trigger3 = pos Y > -65
trigger3 = vel Y > 0
trigger4 = facing !=EnemyNear(floor(fvar(4))),facing
trigger4 = var(12)=1 && var(20)>0;有防BUFF
trigger4 = sysvar(1)=1 && var(4)=1 && var(9)=1;影小前跳
trigger4 = EnemyNear(floor(fvar(4))),movetype=A
trigger4 = EnemyNear(floor(fvar(4))),time>=3
trigger5 = facing !=EnemyNear(floor(fvar(4))),facing
trigger5 = var(12)=0||var(20)<=0;无防BUFF
trigger5 = sysvar(1)=1 && var(4)=1 && var(9)=1;影小前跳
trigger5 = EnemyNear(floor(fvar(4))),movetype=A

[state -2,奈落落低空攻击]
type = ChangeState
value = 650
triggerall = var(59) >= 2
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
triggerall = movetype!=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = p2bodydist X-Vel X*6-EnemyNear(floor(fvar(4))),Vel X*6=[-9999,50]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=5
trigger2 = pos Y > -35;最低 
trigger2 = vel Y > 0
trigger3 = EnemyNear(floor(fvar(4))),statetype=L
trigger3 = EnemyNear(floor(fvar(4))),stateno = 5120
trigger3 = EnemyNear(floor(fvar(4))),animtime>=-2
trigger4 = pos Y > -65;最低 
trigger4 = vel Y > 0
trigger4 = EnemyNear(floor(fvar(4))),statetype=L
trigger4 = EnemyNear(floor(fvar(4))),stateno = 5120

[state -2,奈落落后跳攻击]
type = ChangeState
value = 650
triggerall = var(59) >= 2
TriggerAll = RoundState = 2
triggerall = statetype = A
triggerall = movetype!=H
trigger1 = stateno = 105 && time=10

[state -2,跳重脚低空距离拉开攻击]
type = ChangeState
value = 640
triggerall = var(59) >= 2
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
trigger1 = PrevStateNo = 48
trigger2 = PrevStateNo = 49
trigger2 = time = 10
trigger2 = p2bodydist X >=40

[state -3,跳轻拳空战]
type = changestate
value = 600
triggerall = var(59)>=2
TriggerAll = RoundState = 2
triggerall = statetype=A
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=5120 && EnemyNear(floor(fvar(4))),stateno!=5200 && EnemyNear(floor(fvar(4))),stateno!=5201 && EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl
triggerall = movetype!=H
triggerall = var(56)=[0,100]
triggerall = p2bodydist X-Vel X*5-EnemyNear(floor(fvar(4))),Vel X*5<=40
triggerall = EnemyNear,Pos Y-Vel Y*5-const(movement.yaccel)*5*6/2+EnemyNear,Vel Y*5+EnemyNear,const(movement.yaccel)*5*6/2=[-190,-40]
triggerall = vel x!=0
trigger1 = p2movetype = I
trigger2 = stateno = 5210
trigger3 = p2movetype = A && var(12)=1 && var(20)>0
trigger3 = EnemyNear(floor(fvar(4))),time>=3
trigger4 = p2movetype = A && var(20)=0

[state -3,跳轻脚空战]
type = changestate
value = 630
triggerall = var(59)>=2
TriggerAll = RoundState = 2
triggerall = statetype=A
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=5120 && EnemyNear(floor(fvar(4))),stateno!=5200 && EnemyNear(floor(fvar(4))),stateno!=5201 && EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl
triggerall = movetype!=H
triggerall = var(56)=[0,100]
triggerall = p2bodydist X-Vel X*5-EnemyNear(floor(fvar(4))),Vel X*5<=40
triggerall = EnemyNear,Pos Y-Vel Y*5-const(movement.yaccel)*5*6/2+EnemyNear,Vel Y*5+EnemyNear,const(movement.yaccel)*5*6/2=[-190,-40]
triggerall = vel x = 0
trigger1 = p2movetype = I
trigger2 = stateno = 5210
trigger3 = p2movetype = A && var(12)=1 && var(20)>0
trigger3 = EnemyNear(floor(fvar(4))),time>=3
trigger4 = p2movetype = A && var(20)=0

[state -3,奈落落空战]
type = changestate
value = 650
triggerall = var(59)>=2
TriggerAll = RoundState = 2
triggerall = statetype=A
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=5120 && EnemyNear(floor(fvar(4))),stateno!=5200 && EnemyNear(floor(fvar(4))),stateno!=5201 && EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl
triggerall = movetype!=H
triggerall = var(56)=[0,100]
triggerall = p2bodydist X-Vel X*6-EnemyNear(floor(fvar(4))),Vel X*6<=50
triggerall = EnemyNear,Pos Y-Vel Y*6-const(movement.yaccel)*6*7/2+EnemyNear,Vel Y*6+EnemyNear,const(movement.yaccel)*6*7/2=[-60,40]
trigger1 = p2movetype = I
trigger2 = stateno = 5210
trigger3 = p2movetype = A && var(12)=1 && var(20)>0
trigger3 = EnemyNear(floor(fvar(4))),time>=3
trigger4 = p2movetype = A && var(20)=0

[state -3,跳重脚空战]
type = changestate
value = 640
triggerall = var(59)>=1
TriggerAll = RoundState = 2
triggerall = statetype=A
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),stateno!=5120 && EnemyNear(floor(fvar(4))),stateno!=5200 && EnemyNear(floor(fvar(4))),stateno!=5201 && EnemyNear(floor(fvar(4))),statetype!=L
triggerall = ctrl
triggerall = movetype!=H
triggerall = var(56)=[0,100]
triggerall = p2bodydist X-Vel X*9-EnemyNear(floor(fvar(4))),Vel X*9<=80
triggerall = EnemyNear,Pos Y-Vel Y*9-const(movement.yaccel)*9*10/2+EnemyNear,Vel Y*9+EnemyNear,const(movement.yaccel)*9*10/2=[-60,40]
trigger1 = p2movetype = I
trigger2 = stateno = 5210
trigger3 = p2movetype = A && var(12)=1 && var(20)>0
trigger3 = EnemyNear(floor(fvar(4))),time>=3
trigger4 = p2movetype = A && var(20)=0
;-----------------------------------------------------------------------------------------------------
[State -1, 罪+葵花]
type = ChangeState
value = 1455
TriggerAll = Var(59) >= 5
TriggerAll = var(20)<=0 
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
Triggerall = var(56)=[60,90]
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
;======================================================================================================
;#BC连招
[State -1, 罪+毒咬追击（BC）（地面）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=199 && fvar(2)>=0.4||var(50)=1||P2BodyDist X >=50
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+荒咬追击（BC）（地面）]
type = ChangeState
value = 1100
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=299||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+Z斧追击（BC）（地面）]
type = ChangeState
value = 251
TriggerAll = Var(59) = [1,2]
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=30
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=299||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+八拾八式追击（BC）（地面）]
type = ChangeState
value = 450
TriggerAll = Var(59) = [1,2]
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=199||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+427式・轹铁轻追击（BC）（地面）]
type = ChangeState
value = 1050
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=399||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+鬼烧追击（BC）（地面）]
type = ChangeState
value = 1001
TriggerAll = Var(59) = [1,3]
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=40
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=399||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+无式追击（BC）（地面）]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=444||var(50)=1
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+七挝迨阶坊鳎BC）（地面）]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 1
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = var(50)=0||var(50)=2
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪+鬼烧追击（BC）(空连)(墙角)]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=40
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=499
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+大蛇S追击（BC）(空连)]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=499
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+烁铁追击（BC）（地面）]
type = ChangeState
value = 1300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=30
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = random<=399
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+七挝迨阶坊鳎BC）(空连)]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 1
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+神威追击（BC）(空连)]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+火加巨锤追击（BC）(空连)]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 罪+火加巨锤追击（BC）（地面）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
Triggerall = fvar(2)<0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0||StateNo = 1200 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪/毒咬+十拳追击（BC）（地面）]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3 && NumEnemy=1;敌人少 
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
Triggerall = fvar(2)>=0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0||StateNo = 1200 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 罪/毒咬+天丛云追击（BC）（地面）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3 && NumEnemy>=2;敌人多 
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1210 && AnimElemTime(5)>0||StateNo = 1200 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
;-----------------------------------------------------------------------------------------
[State -1, Z斧+毒咬追击（BC）（地面）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 250 && AnimElemTime(9)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, Z斧+LV3-182式追击（BC）（地面）]
type = ChangeState
value = 4100
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 250 && AnimElemTime(9)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
;-----------------------------------------------------------------------------------------
[State -1, 荒咬+鬼烧追击（BC）(空连）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = var(56)=[0,40]
Trigger1 = StateNo = 1100 && AnimElemTime(10)>0
Trigger1 = var(50)=0||var(50)=2
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 荒咬/九伤+鬼烧追击]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1100)||numtarget(1110)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = p2bodydist y + 6*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*6*7/2 = [-40,10]
[State -1, 荒咬+毒咬追击（BC）（地面)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>=30
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1100 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, 荒咬+琴月追击（BC）（地面)]
type = ChangeState
value = 1600
TriggerAll = Var(59) >= 1
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1100 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, 荒咬+天云丛追击（BC）（地面)]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
Triggerall = fvar(2)>=0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1100 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, 荒咬+火加巨锤追击（BC）（地面)]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
Triggerall = fvar(2)<0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1100 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
;------------------------------------------------------------------------------
[State -1,八+鬼烧追击（BC）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1123 && AnimElemTime(7)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1,八+天丛云追击（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1123 && AnimElemTime(7)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
;-----------------------------------------------------------------------------------
[State -1,427式・轹铁轻+毒咬追击（BC）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = random<=499
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1,427式・轹铁轻+无式追击（BC）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3200,2400)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = random<=499
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=L

[State -1,427式・轹铁轻+荒咬追击（BC）]
type = ChangeState
value = 1100
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = random<=499
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1,427式・轹铁轻+琴月追击（BC）]
type = ChangeState
value = 1600
TriggerAll = Var(59) >= 2
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1,427式・轹铁轻+LV3-182式追击（BC）]
type = ChangeState
value = 4100
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1,427式・轹铁轻+天丛云（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1050 && AnimElemTime(8)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
;------------------------------------------------------------------------
[State -1, 朱天祓+神威追击（BC）{倒地追击）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget
Trigger1 = stateno = 3502 && AnimElemTime(4)=1||stateno = 2500 && AnimElemtime(5)=1||stateno = 2550 && AnimElemtime(5)=1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 外式?砌穿ち+神威追击（BC）{倒地追击）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = stateno = 1520 && AnimElemTime(4)=1||StateNo = 1130 && AnimElemTime(5)=1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=L

[State -1, 外式?砌穿ち+朱天祓追击（BC）{倒地追击）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3500,2500)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = random<=399||var(16)=1||EnemyNear(floor(fvar(4))),life<=20
Trigger1 = movehit
Trigger1 = stateno = 1520 && AnimElemTime(4)=1||StateNo = 1130 && AnimElemTime(5)=1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=L
;----------------------------------------------------------------------------------------------------------------------
;神m
[State -1, 重拳+神m]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3300,2200)
triggerall = var(59) >= 3
triggerall = var(13)=2&&var(20)>=600
triggerall = StateType != A
triggerall = random<=233
Triggerall = P2BodyDist X =[-10,5]
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 210 && Movehit = 1
trigger2 = StateNo = 215 && Movehit = 1
;------------------------------------------------------------------------
[State -1, 鬼烧+毒咬追击（BC）(地面)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = random<=444
Trigger1 = StateNo = 1000 && AnimElemTime(3)>0||StateNo = 1001 && AnimElemTime(3)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, 鬼烧+荒咬追击（BC）(地面)]
type = ChangeState
value = 1100
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1000 && AnimElemTime(3)>0||StateNo = 1001 && AnimElemTime(3)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
[State -1, 鬼烧+十拳追击（BC）(地面)]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1000 && AnimElemTime(3)>0||StateNo = 1001 && AnimElemTime(3)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C

[State -1, 鬼烧+182式（BC）(空连)]
type = ChangeState
value = ifelse(var(13)=2,3100,2100)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=30
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = random<=699
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=10||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=10
Trigger1 = movehit
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = StateNo = 1001 && AnimElemTime(3)>0
[State -1, 鬼烧+大蛇S（BC）(空连)]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(56)=[0,40]
Trigger1 = movehit
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = StateNo = 1001 && AnimElemTime(3)>0
[State -1, 鬼烧+弱]（BC）(空连)]
type = ChangeState
value = 1300
TriggerAll = Var(59) >= 2
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(56)=[40,70]
Trigger1 = movehit
Trigger1 = StateNo = 1001 && AnimElemTime(3)>3
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 鬼烧+七挝迨剑BC）(空连)]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 1
TriggerAll = var(14)=3 && var(20)>=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(56)=[70,100]
Trigger1 = movehit
Trigger1 = StateNo = 1001 && AnimElemTime(3)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 鬼烧+神威追击（BC）(空连)]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit
Trigger1 = StateNo = 1000 && AnimElemTime(3)>0||StateNo = 1001 && AnimElemTime(3)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 鬼烧后+空中大蛇S(BC)]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3800,2800)
triggerall = var(59) >= 4
triggerall = StateType = A
triggerall = var(14)=3 && var(20)>0
Triggerall = p2bodydist X-Vel X*7-EnemyNear,Vel X*7<=60
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = var(5)=1 &&  var(3)=0
Trigger1 = StateNo = 1000 && AnimElemTime(4)>5||StateNo = 1001 && AnimElemTime(4)>5
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*7+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*7*8/2=[-120,-60]
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 鬼烧后+独乐屠(BC)]
type = ChangeState
value = 1511
triggerall = var(59) >= 4
triggerall = StateType = A
triggerall = movetype!=H
triggerall = StateNo = 1001 && AnimElemTime(3)>0
triggerall = var(14)=3 && var(20)>0
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger2 = P2BodyDist X =[-100,-20]
trigger2 = EnemyNear(floor(fvar(4))),movetype=I
trigger2 = EnemyNear(floor(fvar(4))),stateno!= [130,155]
trigger3 = EnemyNear(floor(fvar(4))),stateno = [130,155]
trigger3 = AnimElemTime(4)=1
trigger3 = random<=399
;-------------------------------------------------------------------------
[State -1, 弱]+182式（BC）]
type = ChangeState
value = ifelse(var(13)=2,3100,2100)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=60
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = StateNo = 1300 && AnimElemTime(10)>0
Triggerall = random<=799||fvar(2)<=0.60
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = StateNo = 1300 && AnimElemTime(10)=[0,1]
[State -1, 弱]+七挝迨阶坊鳎BC）]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = StateNo = 1300 && AnimElemTime(10)>0
Triggerall = var(56)=[0,40]
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*17+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*17*18/2=[-70,-40]
[State -1, 弱]+毒咬追击（BC）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = StateNo = 1300 && AnimElemTime(10)>0
Triggerall = var(56)=[40,100]
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,-30]
[State -1, 弱]+神威追击（BC）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=150
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Trigger1 = StateNo = 1300 && AnimElemTime(10)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]

[State -1, 弱]+神威追击（有buff）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600||var(14)=3 && var(20)<=600 
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = ctrl
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]

[State -1, 弱]+空中大蛇S追击(起跳)(力)AILV5]
type = ChangeState
value = 41
TriggerAll = Var(59) >= 5
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(13)=2 && var(20)>600
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*11+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*11*12/2=[-120,-10]
[State -1, 弱]+空中大蛇S追击(起跳)(力)]
type = ChangeState
value = 41
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(13)=2 && var(20)>600
Triggerall = P2BodyDist X <=80
Triggerall = var(56)=[0,50]
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*11+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*11*12/2=[-120,-10]

[State -1, 弱]+MAX大蛇S追击(力)]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
Triggerall = var(13)=2 && var(20)>0
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = p2bodydist y + 2*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*2*3/2 = [-110,-20]

[State -1, 弱]+荒咬追击]
type = ChangeState
value = 1100
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*14+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*14*15/2=[-30,0]
[State -1, 弱]+毒咬追击]
type = ChangeState
value = 1200
TriggerAll = Var(59) = 2
TriggerAll = var(20)=0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
Triggerall = ctrl||stateno = 100
Triggerall = var(56)=[0,40]
Triggerall = var(50)=0;无受身 
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*17+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*17*18/2=[-60,0]
[State -1, 弱]+琴月追击]
type = ChangeState
value = 1601
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0
Triggerall = P2BodyDist X <=300
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
triggerall = ctrl||stateno = 100
Triggerall = var(56)=[0,40]
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*10+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*10*11/2=[-85-P2BodyDist X/10,-20]
[State -1, 弱]+百r拾五式七追击]
type = ChangeState
value = 1150
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0
Triggerall = P2BodyDist X <=300
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
triggerall = ctrl||stateno = 100
Triggerall = var(56)=[40,70]
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*14+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*14*15/2=[-85,-10]
[State -1, 弱]+胧车追击]
type = ChangeState
value = 1560
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0
Triggerall = P2BodyDist X <=300
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
triggerall = ctrl||stateno = 100
Triggerall = var(56)=[70,100]
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*13+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*13*14/2=[-85,0]

[State -1, 弱]+B]
type = ChangeState
value = 1800
triggerall = var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <= 60
triggerall = ctrl||stateno = 100
Triggerall = var(56)=[0,80]
trigger1 = numtarget(1300)
trigger1 = EnemyNear(floor(fvar(4))),statetype = A
trigger1 = EnemyNear(floor(fvar(4))),movetype = H
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger1 = EnemyNear(floor(fvar(4))),stateno = [5000,5999]
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-50,20]
[State -1, 弱]+鬼烧追击]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(56)=[80,100]
triggerall = ctrl||stateno = 100
Trigger1 = numtarget(1300)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = p2bodydist y + 6*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*6*7/2 = [-40,20]
;------------------------------------------------------------------------------------
[State -1, 站立远轻脚+B追击(BC)]
type = ChangeState
value = 1801
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=55
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(230)
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = movehit
Trigger1 = StateNo = 230 && AnimElemTime(4)>0
[State -1, 站立远轻脚+天云追击(BC)]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(230)
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = movehit
Trigger1 = StateNo = 230 && AnimElemTime(4)>0
;----------------------------------------------------------------------------------
[State -1, B+毒咬追击（BC）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = EnemyNear(floor(fvar(4))),statetype!=A
trigger1 = StateNo = 1800 && AnimElemTime(4)>0||StateNo = 1801 && AnimElemTime(4)>0
[State -1, B+天云追击（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=80
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = movehit
Triggerall = EnemyNear(floor(fvar(4))),statetype!=A
trigger1 = StateNo = 1800 && AnimElemTime(4)>0||StateNo = 1801 && AnimElemTime(4)>0
;----------------------------------------------------------------------------------
[State -1, MAX无式+毒咬追击（BC）]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A && EnemyNear(floor(fvar(4))),statetype!=L
[State -1, MAX无式+天丛云追击（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A && EnemyNear(floor(fvar(4))),statetype!=L
[State -1, 无式+十拳追击（BC）]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 5
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)>=0.6
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = P2BodyDist y = [-30,10]
Trigger1 = stateno = 2400 && AnimElemTime(21)>0||stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 无式+天丛云追击（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)>=0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = P2BodyDist y = [-30,10]
Trigger1 = stateno = 2400 && AnimElemTime(21)>0||stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 无式+火加巨锤追击（BC）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)<0.4||var(59)=3
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = P2BodyDist y = [-30,10]
Trigger1 = stateno = 2400 && AnimElemTime(21)>0||stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 无式+鬼烧追击（BC）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2||var(59)=3
Trigger1 = movehit = 1
Trigger1 = P2BodyDist y = [-60,10]
Trigger1 = stateno = 2400 && AnimElemTime(21)>0||stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
[State -1, 无式+七挝迨阶坊鳎BC）]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
Trigger1 = movehit = 1
Trigger1 = P2BodyDist y = [-60,10]
Trigger1 = stateno = 2400 && AnimElemTime(21)>0||stateno = 3202 && AnimElemTime(5)>0
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
;-------------------------------------------------------------------------------------------
[State -1, 182+神尘追击（BC）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3300,2200)
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=40
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = stateno = 2105 && AnimElemTime(7)>0||stateno = 3105 && AnimElemTime(7)>0
[State -1, 182+大蛇S追击（BC）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
TriggerAll = Var(59) >= 1
TriggerAll = var(14)=3 && var(20)>600
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = stateno = 2105 && AnimElemTime(7)>0||stateno = 3105 && AnimElemTime(7)>0
[State -1, 182+天丛云追击（BC）]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = fvar(2)>=0.4
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = stateno = 2105 && AnimElemTime(7)>0||stateno = 3105 && AnimElemTime(7)>0
[State -1, 182+神尘LV3追击（BC）]
type = ChangeState
value = 4200
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=40
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = stateno = 2105 && AnimElemTime(7)>0||stateno = 3105 && AnimElemTime(7)>0
[State -1, 182+火加巨锤追击（BC）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 3
TriggerAll = var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
Triggerall = fvar(2)<0.4
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = movehit = 1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
Trigger1 = stateno = 2105 && AnimElemTime(7)>0||stateno = 3105 && AnimElemTime(7)>0
;------------------------------------------------------------------------------------
[State -1, 空中大蛇S/MAX空中大蛇S+天丛云追击]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600||var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=300
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl||stateno = 1505
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-85-P2BodyDist X/24,-10-P2BodyDist X/24]
trigger1 = numhelper(2802)
trigger1 = helper(2802),numtarget
trigger2 = numhelper(3801)
trigger2 = helper(3801),numtarget
trigger3 = numhelper(3802)
trigger3 = helper(3802),numtarget
trigger4 = numhelper(3803)
trigger4 = helper(3803),numtarget

[State -1, 空中大蛇S/MAX空中大蛇S+天丛云追击(boss)]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600||var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=300
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl||stateno = 1505
triggerall = var(15)=1
trigger1 = numhelper(2802)
trigger1 = helper(2802),numtarget
trigger2 = numhelper(3801)
trigger2 = helper(3801),numtarget
trigger3 = numhelper(3802)
trigger3 = helper(3802),numtarget
trigger4 = numhelper(3803)
trigger4 = helper(3803),numtarget

[State -1, MAX空中大蛇S+七十五式追击]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(12)=1 && var(20)>600||var(13)=2 && var(20)>600||var(14)=3 && var(20)>600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=80
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl||stateno = [100,101]
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*18+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*18*19/2=[-80,-40]
;敌人在墙角
trigger1 = numhelper(2802)
trigger1 = helper(2802),numtarget
trigger2 = numhelper(3801)
trigger2 = helper(3801),numtarget
trigger3 = numhelper(3802)
trigger3 = helper(3802),numtarget
trigger4 = numhelper(3803)
trigger4 = helper(3803),numtarget

[State -1, 空中大蛇S+毒咬/琴月追击前跑（空连）]
type = ChangeState
value = 100
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
TriggerAll = ctrl && stateno!=100
triggerall = StateType != A
Triggerall = P2BodyDist X >=70
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numhelper(2802)
trigger1 = helper(2802),numtarget
trigger2 = numhelper(3801)
trigger2 = helper(3801),numtarget
trigger3 = numhelper(3802)
trigger3 = helper(3802),numtarget
trigger4 = numhelper(3803)
trigger4 = helper(3803),numtarget
[State -1, 空中大蛇S+毒咬/琴月追击前走（空连）]
type = ChangeState
value = 18
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
TriggerAll = ctrl && stateno!=100
triggerall = StateType != A
Triggerall = P2BodyDist X >=50
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numhelper(2802)
trigger1 = helper(2802),numtarget
trigger2 = numhelper(3801)
trigger2 = helper(3801),numtarget
trigger3 = numhelper(3802)
trigger3 = helper(3802),numtarget
trigger4 = numhelper(3803)
trigger4 = helper(3803),numtarget
;------------------------------------------------------------------------------------
[State -1, 神尘+毒咬追击（空连）(非墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = [100,101]
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
Triggerall = var(50)=0||var(50)=2;低空受身
trigger1 = numtarget(2202)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,-30]
[State -1, 神尘+毒咬追击（空连）(墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = [100,101]
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[0,30]
trigger1 = numtarget(2202)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,0]
[State -1, 神尘+荒咬追击（空连）(墙角)]
type = ChangeState
value = 1100
triggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = [100,101]
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[30,100]
trigger1 = numtarget(2202)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*14+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*14*15/2=[-30,0]
[State -1, 神尘+琴月追击]
type = ChangeState
value = 1600
TriggerAll = Var(59) = [1,2]
TriggerAll = RoundState = 2
TriggerAll = var(20)=0||var(14)=3 && var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=150
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(50)=0||var(50)=2
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*10+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*10*11/2=[-85-P2BodyDist X/10,-60-P2BodyDist X/10]

[State -1, 神尘+max大蛇S追击]
type = ChangeState
value = 3000
TriggerAll = Var(59) >= 5
TriggerAll = RoundState = 2
TriggerAll = var(13)=2 && var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),const(movement.yaccel)*5*6/2=[-40,-20]

[State -1, 神尘+鬼烧追击]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
TriggerAll = var(20)=0||var(14)=3 && var(20)>600||var(12)=1 && var(20)>600||var(13)=2 && var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),const(movement.yaccel)*5*6/2=[-40,-20]

[State -1, 神尘+神尘LV3追击]
type = ChangeState
value = 4200
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = var(14)=3 && var(20)<=300
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(2202)
Trigger1 = stateno = 2202 && AnimElemTime(6)=1
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A

[State -1, 神尘+天丛云追击补充]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
TriggerAll = var(12)=1||var(13)=2||var(14)=3
TriggerAll = var(20)>0
triggerall = StateType != A
Triggerall = P2BodyDist X >50
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2 && var(14)=3 && var(20)>600
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-65-P2BodyDist X/24,-30-P2BodyDist X/24]

[State -1, 神尘+天丛云追击(双打)]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3 && NumEnemy>=2
TriggerAll = RoundState = 2
TriggerAll = var(12)=1||var(13)=2||var(14)=3
TriggerAll = var(20)>0
triggerall = StateType != A
Triggerall = P2BodyDist X <=200
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2||EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2 && var(14)=3 && var(20)<=600||var(12)=1 && var(14)!=3||var(13)=2 && var(14)!=3
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-65-P2BodyDist X/24,-30-P2BodyDist X/24]

[State -1, 神尘+十拳追击]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3 && NumEnemy=1
TriggerAll = RoundState = 2
TriggerAll = var(12)=1||var(13)=2||var(14)=3
TriggerAll = var(20)>0
triggerall = StateType != A
Triggerall = P2BodyDist X <=200
triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2||EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2 && var(14)=3 && var(20)<=600||var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = ctrl||stateno = [100,101]
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = numtarget(3302)||numtarget(2202)
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-75,-30]
;--------------------------------------------------------------------------------
[State -1, 琴月+REDキック追击（BC）AILV1,2]
type = ChangeState
value = 1501
TriggerAll = Var(59) = [1,2]
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 1604 && AnimElemTime(3)>=0 && numtarget

[State -1, 琴月+鬼烧（BC）（空连）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=60
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = random<=499
trigger1 = StateNo = 1602 && AnimElemTime(4)=1 && numtarget && movehit

[State -1, 琴月+鬼烧（BC）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=60
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = fvar(2)>=0.4
trigger1 = random<=444
trigger1 = StateNo = 1602 && AnimElemTime(4)=1 && numtarget && movehit

[State -1, 琴月+大蛇S追击（BC）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=120
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 1604 && AnimElemTime(3)>=0 && numtarget
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*19+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*19*(19+1)/2=[-90,-50]

[State -1, 琴月+神威追击（BC）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)>=0.4||EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 1604 && AnimElemTime(3)>0 && numtarget
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]

[State -1, 琴月+火加巨锤追击（BC）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=110
Triggerall = fvar(2)<0.4 && EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 1604 && AnimElemTime(3)>0 && numtarget
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]
;------------------------------------------------------------------------------------------------------------
[State -1,大蛇S+七挝迨阶坊鳎BC）]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=120
Triggerall = random<=99
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = stateno = 2001 && AnimElemTime(9)>=5||stateno = 2004 && AnimElemTime(9)>=5
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*17+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*17*18/2=[-70,-40]
[State -1, 大蛇S+琴月追击（BC）]
type = ChangeState
value = 1600
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=120
Triggerall = random<=299||EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = stateno = 2001 && AnimElemTime(9)>=5 && numtarget||stateno = 2004 && AnimElemTime(9)>=5 && numtarget
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*10+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*10*11/2=[-85,-60]
[State -1, 大蛇S+毒咬（BC）(墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=120
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = stateno = 2001 && AnimElemTime(9)>=5||stateno = 2004 && AnimElemTime(9)>=5
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,-30]
[State -1, MAX大蛇S+无式追击（BC）]
type = ChangeState
value = ifelse(var(13)=2,3200,2400)
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)>600
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = EnemyNear(floor(fvar(4))),Pos Y=[-120,-10]
trigger1 = stateno = 3002 && AnimElemTime(7)>0 && numtarget
[State -1, 大蛇S/MAX大蛇S+神威追击（BC）]
type = ChangeState
value = 4300
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)>=0.4||EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
;不在墙角
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]
trigger1 = stateno = 2001 && AnimElemTime(7)>0 && numtarget
trigger2 = stateno = 2004 && AnimElemTime(7)>0 && numtarget
trigger3 = stateno = 3002 && AnimElemTime(7)>0 && numtarget
[State -1, 大蛇S/MAX大蛇S+火加具锤追击（BC）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(14)=3 && var(20)<=600
triggerall = var(20)>0
Triggerall = P2BodyDist X <=120
Triggerall = fvar(2)<0.4 && EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
;在墙角
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]
trigger1 = stateno = 2001 && AnimElemTime(7)>0 && numtarget
trigger2 = stateno = 2004 && AnimElemTime(7)>0 && numtarget
trigger3 = stateno = 3002 && AnimElemTime(9)>0 && numtarget
[State -1, MAX大蛇S+火加具锤追击无技buff]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)>0
Triggerall = P2BodyDist X <=50
Triggerall = fvar(2)<0.4
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*6+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*6*7/2=[-55,-10]
;在墙角
trigger1 = numhelper(3006)
trigger1 = helper(3006),numtarget
trigger2 = numhelper(3007)
trigger2 = helper(3007),numtarget
[State -1, MAX大蛇S+十拳追击无技buff]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)>0
Triggerall = P2BodyDist X <=50
Triggerall = fvar(2)>=0.4
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl
triggerall = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-80,-40]
;在墙角
trigger1 = numhelper(3006)
trigger1 = helper(3006),numtarget
trigger2 = numhelper(3007)
trigger2 = helper(3007),numtarget
[State -1, MAX大蛇S+鬼烧追击无技buff]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0
Triggerall = P2BodyDist X <=50
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl
triggerall = p2bodydist y + 6*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*6*7/2 = [-40,-20]
;在墙角
trigger1 = numhelper(3006)
trigger1 = helper(3006),numtarget
trigger2 = numhelper(3007)
trigger2 = helper(3007),numtarget
;====================================================================================================== 
;连招
;------------------------------------------------------------------------------------------------------
[State -3, 5，跳奈奈落追击]
type = ChangeState
value = IfElse(EnemyNear(floor(fvar(4))),facing=facing && p2bodydist x <=30,43,47)
TriggerAll = var(59) >= 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype= S
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = P2Dist x>0
triggerall = p2bodydist x = [-10,120]
triggerall = NumPartner = 0
trigger1 = EnemyNear(floor(fvar(4))),movetype=H && EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=10
trigger2 = EnemyNear(floor(fvar(4))),movetype=H && EnemyNear(floor(fvar(4))),statetype!=A
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=10
Trigger2 = random<=333
Trigger3 = EnemyNear(floor(fvar(4))),stateno=3402||Enemy,stateno=3402
Trigger3 = numtarget
Trigger4 = EnemyNear(floor(fvar(4))),stateno=2430||Enemy,stateno=2430
Trigger4 = numtarget
Trigger5 = EnemyNear(floor(fvar(4))),stateno=2431||Enemy,stateno=2431
Trigger5 = numtarget

[State -3, 5，跳奈奈落追击双打]
type = ChangeState
value = IfElse(EnemyNear(floor(fvar(4))),facing=facing && p2bodydist x <=30,43,47)
TriggerAll = var(59) >= 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),Statetype= S
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = P2Dist x>0
triggerall = p2bodydist x = [-10,120]
triggerall = NumPartner >= 1
Trigger1 = EnemyNear(floor(fvar(4))),stateno=3402||Enemy,stateno=3402
Trigger1 = numtarget
;-------------------------------------------------------------------------------------------------------
[state -2,奈落落追击]
type = ChangeState
value = 650
triggerall = var(59) >= 2
TriggerAll = RoundState = 2
triggerall = ctrl
triggerall = statetype = A
triggerall = movetype!=H
triggerall = NumPartner = 0
trigger1 = EnemyNear(floor(fvar(4))),movetype=H && EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=5

[State -1, 鬼烧后追击]
type = ChangeState
value = 655
triggerall = var(59) >= 3
triggerall = StateType = A
triggerall = movetype!=H
triggerall = StateNo = 1001 && AnimElemTime(3)>0
triggerall = var(15)=1
trigger1 = p2bodydist y + 9*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*9*10/2 = [-40,10]
trigger2 = stateno = 1001 && time >= 30
trigger3 = EnemyNear(floor(fvar(4))),movetype=A
;------------------------------------------------------------------------------------------------------
[State -3,跑追击]
type = ChangeState
value = 100
triggerall = roundstate = 2
triggerall = var(59) >= 1
triggerall = statetype != A
triggerall = ctrl && stateno!=100
triggerall = EnemyNear(floor(fvar(4))),Statetype!= L
triggerall = p2dist x > 0
triggerall = p2bodydist x >=20
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=4
trigger2 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=4
Trigger3 = EnemyNear(floor(fvar(4))),stateno!=[5000,5999];双打 
Trigger3 = EnemyNear(floor(fvar(4))),stateno!=[150,155]
;------------------------------------------------------------------------------------------------------
[State -3, 1,蹲轻拳追击]
Type = ChangeState
Value = 400
TriggerAll = Var(59) >= 1
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = p2statetype = C
Trigger1 = P2BodyDist X < 30
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[3,4]
trigger2 = p2statetype = C
Trigger2 = P2BodyDist X < 30
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[3,4]
trigger3 = p2statetype = S
Trigger3 = p2bodydist X > 14 && P2BodyDist X < 30
Trigger3 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger3 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[3,4]
trigger4 = p2statetype = S
Trigger4 = p2bodydist X > 14 && P2BodyDist X < 30
Trigger4 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger4 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[3,4]
;---------------------------------------------------------------------------------------
[State -3, 蹲轻脚+蹲轻拳连击]
Type = ChangeState
Value = 400
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = P2BodyDist X = [-5,20]
trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = random <= 499
trigger1 = stateno = 200 && AnimElemTime(2)>0||stateno = 205 && AnimElemTime(2)>0||stateno = 400 && AnimElemTime(2)>0||stateno = 430 && AnimElemTime(2)>0
trigger1 = movehit = 1

[State -3, 1,站轻脚追击(boss)]
Type = ChangeState
Value = ifelse(p2bodydist X >= 14,230,235)
TriggerAll = Var(59) >= 2
TriggerAll = Var(15) = 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = p2bodydist X = [-10,13]
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = random <= 499
trigger1 = stateno = 235 && AnimElemTime(3)>0||stateno = 200 && AnimElemTime(2)>0||stateno = 205 && AnimElemTime(2)>0||stateno = 400 && AnimElemTime(2)>0||stateno = 430 && AnimElemTime(2)>0
trigger1 = movehit = 1

[State -3, 蹲轻拳+蹲轻脚连击]
Type = ChangeState
Value = 430
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = P2BodyDist X = [-5,20]
trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = stateno = 200 && AnimElemTime(2)>0||stateno = 205 && AnimElemTime(2)>0||stateno = 400 && AnimElemTime(2)>0||stateno = 430 && AnimElemTime(2)>0
trigger1 = movehit = 1
;-----------------------------------------------------------------
[State -3, 1,站轻脚追击]
Type = ChangeState
Value = ifelse(p2bodydist X >= 14,230,235)
TriggerAll = Var(59) >= 2
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype = S
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = p2bodydist X = [-10,13]
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[5,7]
Trigger1 = 0
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[5,10]
;-----------------------------------------------------------------
[State -3, 1,站重拳追击]
Type = ChangeState
Value = ifelse(p2bodydist X >= 24,210,215)
TriggerAll = Var(59) >= 2
triggerall = ctrl||stateno = 100
TriggerAll = RoundState = 2
triggerall = statetype != A
Triggerall = p2bodydist X = [-10,20]
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = EnemyNear(floor(fvar(4))),statetype!=A
trigger1 = EnemyNear(floor(fvar(4))),statetype!=L
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[1,2]
trigger2 = EnemyNear(floor(fvar(4))),statetype=S
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=1
trigger3 = EnemyNear(floor(fvar(4))),statetype=C
Trigger3 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger3 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)>=1
Trigger4 = EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger4 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=[1,2]
;-----------------------------------------------------------------------
[State -3, 1,Z斧追击]
Type = ChangeState
Value = 251
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),statetype = S
triggerall = StateType != A
Triggerall = P2BodyDist X < 25
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 205 && movehit = 1
trigger2 = StateNo = 215 && movehit = 1
trigger2 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
trigger3 = StateNo = 235 && movehit = 1
trigger4 = StateNo = 245 && movehit = 1
trigger5 = StateNo = 400 && movehit = 1
trigger6 = StateNo = 410 && movehit = 1
trigger7 = StateNo = 440 && movehit = 1
trigger8 = StateNo = 430 && movehit = 1
trigger9 = StateNo = 210 && movehit = 1

[State -1, 八拾八式追击]
type = ChangeState
value = 450
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 25
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 215 && movehit = 1
trigger1 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
;---------------------------------------------------------------------------------------
[State -1, Z斧+毒咬追击]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = StateType != A
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
Triggerall = P2BodyDist X <=130
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = animelemtime(6)>0
triggerall = StateNo = 251 && movehit = [1,4]
Trigger1 = random<=444||var(50)=1;有低空受身
Trigger1 = var(14)=0 && var(20)=0
trigger2 = var(14)=3 && var(20)>0 && var(56)=[0,60]  ;BC连准备
trigger3 = P2BodyDist X >=40    ;距离远不够75式 

[State -1, Z斧+琴月阳追击（空连）]
type = ChangeState
value = 1601
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = animelemtime(6)>0
triggerall = StateNo = 251 && movehit = [1,4]
Trigger1 = random<=222||var(50)=1 ;有低空受身
Trigger1 = var(14)=0 && var(20)=0
Trigger2 = var(14)=3 && var(20)>300 && var(56)=[60,100]  ;BC连准备

[State -1, Z斧+七挝迨剑ㄖ兀┳坊]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
triggerall = StateType != A
Triggerall = P2BodyDist X <=40
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(50)=0||var(50)=2;无低空受身
trigger1 = StateNo = 251 && movehit = [1,4]
trigger1 = animelemtime(6)>0

[State -3, Z斧+十拳]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)<=300||var(13)=2 && var(20)<=300||var(14)=3 && var(20)<=300
TriggerAll = var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = P2BodyDist X <=100
trigger1 = StateNo = 251 && movehit = [1,4]
trigger1 = animelemtime(6)>0
;---------------------------------------------------------------------------
[State -1, 八拾八式追击]
type = ChangeState
value = 450
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X >=25 && EnemyNear(floor(fvar(4))),statetype = S||EnemyNear(floor(fvar(4))),statetype = C
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = StateNo = 205 && movehit = 1
trigger2 = StateNo = 215 && movehit = 1
trigger3 = StateNo = 235 && movehit = 1
trigger4 = StateNo = 245 && movehit = 1
trigger5 = StateNo = 400 && movehit = 1
trigger6 = StateNo = 410 && movehit = 1
trigger7 = StateNo = 440 && movehit = 1
trigger8 = StateNo = 430 && movehit = 1
trigger9 = StateNo = 210 && movehit = 1

[State -1, 八拾八式追击]
type = ChangeState
value = 450
TriggerAll = Var(59) >= 5
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = ctrl||stateno = 100
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)=1
;---------------------------------------------------------------------------
[State -1, 八拾八式+毒咬追击追击]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = animelemtime(5)<0
triggerall = StateNo = 450 && movehit = [1,4]
Trigger1 = random<=444||var(50)=1 ;有低空受身
Trigger1 = var(14)=0 && var(20)=0
Trigger2 = var(14)=3 && var(20)>300 && var(56)=[0,60]  ;BC连准备
trigger3 = P2BodyDist X >=50    ;距离远不够75式

[State -1, 八拾八式+琴月阳追击（空连）]
type = ChangeState
value = 1601
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = animelemtime(5)<0
triggerall = StateNo = 450 && movehit = [1,4]
Trigger1 = random<=222||var(50)=1 ;有低空受身
Trigger1 = var(14)=0 && var(20)=0
Trigger2 = var(14)=3 && var(20)>300 && var(56)=[60,100]  ;BC连准备

[State -1, 八拾八式+七挝迨剑ㄖ兀┳坊鳎空连）]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(20)=0||var(12)=1 && var(20)>300||var(13)=2 && var(20)>300||var(14)=3 && var(20)>300
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(50)=0||var(50)=2;无低空受身
trigger1 = StateNo = 450 && movehit = [1,4]
trigger1 = animelemtime(5)<0

[State -3, 八拾八式+十拳]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3
TriggerAll = var(12)=1 && var(20)<=300||var(13)=2 && var(20)<=300||var(14)=3 && var(20)<=300
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),ctrl = 0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = P2BodyDist X <=100
trigger1 = StateNo = 450 && movehit = [1,4]
trigger1 = animelemtime(5)<0
;---------------------------------------------------------------------------
[State -1, 灼焉+毒咬追击（空连）(非墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
Triggerall = var(50)=0||var(50)=2;低空受身
trigger1 = numtarget(2151)||numtarget(3151)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,-30]
[State -1, 灼焉+七挝迨阶坊鳎空连）(墙角)]
type = ChangeState
value = 1402
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[0,50]
trigger1 = numtarget(2151)||numtarget(3151)
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*17+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*17*18/2=[-70,0]
[State -1, 灼焉+毒咬追击（空连）(墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[50,70]
trigger1 = numtarget(2151)||numtarget(3151)
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,0]
[State -1, 灼焉+荒咬追击（空连）(墙角)]
type = ChangeState
value = 1100
triggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[70,100]
trigger1 = numtarget(2151)||numtarget(3151)
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*14+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*14*15/2=[-30,0]
;-----------------------------------------------------------------------------------------------------------------------------------------
[State -1, 七挝迨+弱]（空连）]
type = ChangeState
value = 1300
triggerall = var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X <=150
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = var(56)=[0,60]
triggerall = ctrl||stateno = 100
trigger1 = numtarget(1403)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*19+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*19*20/2=[-90,0]
[State -1, 七挝迨+毒咬追击（空连）(墙角)]
type = ChangeState
value = 1200
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[60,100]
trigger1 = numtarget(1403)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*16+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*16*17/2=[-60,0]
[State -1, 七挝迨+荒咬追击（空连）(墙角)AILV2]
type = ChangeState
value = 1100
triggerAll = Var(59) = 2
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1&&var(20)>600||var(13)=2&&var(20)>600||var(14)=3&&var(20)>600
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist<=2||EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
Triggerall = var(50)=0||var(50)=2;低空受身
Triggerall = var(56)=[30,100]
trigger1 = numtarget(1403)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*14+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*14*15/2=[-30,0]
;---------------------------------------------------------------------------------------------------------------------------------------------------------
[State -1, 灼焉/七挝迨+鬼烧追击（空连）]
type = ChangeState
value = 1001
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1 && var(20)>600||var(14)=3 && var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=50
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)
trigger1 = p2bodydist y + 6*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*6*7/2 = [-40,-20]
[State -1, 灼焉/七挝迨+琴月追击（空连）]
type = ChangeState
value = 1600
TriggerAll = Var(59) = [1,2]
TriggerAll = RoundState = 2
TriggerAll = ctrl||stateno = 100
TriggerAll = var(20)=0||var(12)=1 && var(20)>600||var(14)=3 && var(20)>600
triggerall = StateType != A
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*10+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*10*11/2=[-75,-40]
[State -3, 灼焉/七挝迨+十拳（空连）]
type = ChangeState
value = 4400
TriggerAll = Var(59) >= 3 && NumEnemy=1;敌人少
TriggerAll = var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600||var(14)=3 && var(20)<=600
TriggerAll = var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
Triggerall = fvar(2)>=0.4
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype=A
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = P2BodyDist X <=100
Triggerall = ctrl||stateno = 100
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-65,-30]
[State -3, 灼焉/七挝迨+天丛云（空连）(敌人多)]
type = ChangeState
value = 4500
TriggerAll = Var(59) >= 3 && NumEnemy>=2;敌人多 
TriggerAll = var(20)>0
triggerall = statetype!= A
TriggerAll = RoundState = 2
triggerall = p2dist x>0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype=A
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = ctrl||stateno = 100
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*5*6/2=[-65-P2BodyDist X/24,-30-P2BodyDist X/24]
[State -1, 灼焉/七挝迨+火加巨锤追击（空连）]
type = ChangeState
value = 4800
TriggerAll = Var(59) >= 2 && NumEnemy=1;敌人少
TriggerAll = RoundState = 2
triggerall = StateType != A
triggerall = var(12)=1 && var(20)<=600||var(13)=2 && var(20)<=600||var(14)=3 && var(20)<=600
Triggerall = fvar(2)<0.4
triggerall = var(20)>0
Triggerall = P2BodyDist X <=100
triggerall = EnemyNear(floor(fvar(4))),movetype=H
triggerall = EnemyNear(floor(fvar(4))),statetype=A
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = ctrl||stateno = 100
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||NumPartner>=1
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*8+EnemyNear(floor(fvar(4))),const(movement.yaccel)*8*9/2=[-90,-40]

[State -1, 灼焉/七挝迨/神尘/弱烁铁+毒咬/琴月追击前跑（空连）]
type = ChangeState
value = 100
TriggerAll = Var(59) >= 4
TriggerAll = RoundState = 2
TriggerAll = ctrl && stateno!=100
triggerall = StateType != A
Triggerall = P2BodyDist X >=70
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||numtarget(2202)||numtarget(1300)||NumPartner>=1
[State -1, 灼焉/七挝迨/神尘/弱烁铁+毒咬/琴月追击前走（空连）]
type = ChangeState
value = 18
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
TriggerAll = ctrl && stateno!=100
triggerall = StateType != A
Triggerall = P2BodyDist X >=50
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||numtarget(2202)||numtarget(1300)||NumPartner>=1
[State -1, 灼焉/七挝迨/神尘/弱烁铁+毒咬/琴月追击前走停（空连）]
type = ChangeState
value = 0
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
TriggerAll = ctrl && stateno=18 && stateno!=100
triggerall = StateType != A
Triggerall = P2BodyDist X <50
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
trigger1 = numtarget(1403)||numtarget(2151)||numtarget(3151)||numtarget(2202)||numtarget(1300)||NumPartner>=1
;----------------------------------------------------------------------------------------------------------------------
;B
[State -1, 轻攻击+B（空连）无技BUFF]
type = ChangeState
value = 1900
triggerall = var(59)>= 3
triggerall = var(20)=0
triggerall = var(14)=0
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X =[-10,100]
Triggerall = P2BodyDist Y =[-80,10]
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>5
triggerall = EnemyNear(floor(fvar(4))),statetype=A
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = StateNo = 205 && Movehit = 1
trigger2 = StateNo = 215 && Movehit = 1
trigger3 = StateNo = 235 && Movehit = 1
trigger4 = StateNo = 245 && Movehit = 1
trigger5 = StateNo = 400 && Movehit = 1
trigger6 = StateNo = 410 && Movehit = 1
trigger7 = StateNo = 440 && Movehit = 1
trigger8 = StateNo = 251 && Movehit = 1
trigger9 = StateNo = 210 && Movehit = 1
;---------------------------------------------------------------------------------------------------------------------
;大蛇S
[State -1, 七挝迨+大蛇S（空连）]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3000,2000)
triggerall = var(59) >= 3
triggerall = var(13)=2 && var(20)>=600
triggerall = StateType != A
Triggerall = P2BodyDist X =[-10,80]
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Triggerall = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
Triggerall = var(56)=[0,60]
trigger1 = ctrl||stateno = 100
trigger1 = numtarget(1403)
;----------------------------------------------------------------------------------------------------------------------
;空中大蛇S 
[State -1, 空中大蛇SMAX]
type = ChangeState
value = ifelse(var(13)=2 && var(20)>0,3800,2800)
triggerall = var(59) >= 4
triggerall = StateType = A
triggerall = var(13)=2 && var(20)>0
Triggerall =  p2bodydist X-Vel X*7-EnemyNear,Vel X*7<=60
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[5000,5999]
triggerall = ctrl
Trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*7+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*7*8/2=[-80,0]
;-----------------------------------------------------------------
; 外式?砌穿ち{倒地追击）
[State -1,  外式?砌穿ち{倒地追击）]
type = ChangeState
value = 1520
triggerall = var(59) >= 4
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X =[-10,50]
triggerall = numtarget
triggerall = target,statetype=L
trigger1 = ctrl||stateno = 100
Trigger1 = random<=250+var(59)*50
trigger1 = target,time = [0,1]
trigger1 = target,stateno=5110
trigger1 = var(15)=1
trigger2 = ctrl||stateno = 100
trigger2 = target,time = [0,1]
trigger2 = target,stateno=5110
trigger2 = target,life<=50
trigger2 = var(15)=1
trigger3 = stateno=1505
trigger3 = PrevStateNo = 1501
;=====================================================================================================================
;连携
;---------------------------------------------------------------------------------------
[State -3, 蹲轻拳+蹲轻脚连携]
Type = ChangeState
Value = 430
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = P2BodyDist X = [-5,25]
trigger1 = EnemyNear(floor(fvar(4))),stateno=[150,155]
trigger1 = stateno = 400 && AnimElemTime(2)>0||stateno = 430 && AnimElemTime(2)>0
trigger1 = MoveGuarded = 1
trigger1 = random<=555+EnemyNear(floor(fvar(4))),power*0.1

[State -3, 1,站轻脚连携(boss)]
Type = ChangeState
Value = ifelse(p2bodydist X >= 14,230,235)
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = var(15)=1
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = p2bodydist X = [-10,13]
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[150,155]
trigger1 = stateno = 235 && AnimElemTime(3)>0||stateno = 200 && AnimElemTime(2)>0||stateno = 205 && AnimElemTime(2)>0
trigger1 = MoveGuarded = 1
trigger1 = random<=555+EnemyNear(floor(fvar(4))),power*0.1
;-----------------------------------------------------------------------------------
[State -3, 1,Z斧连携]
Type = ChangeState
Value = 251
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,40];距离近
Triggerall = p2statetype = C;对方蹲着
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=666||EnemyNear(floor(fvar(4))),power<1000
trigger1 = StateNo = 205 && MoveGuarded = 1
trigger2 = StateNo = 215 && MoveGuarded = 1
trigger3 = StateNo = 235 && MoveGuarded = 1
trigger4 = StateNo = 245 && MoveGuarded = 1
trigger5 = StateNo = 400 && MoveGuarded = 1 && P2BodyDist X = [-10,20]
trigger6 = StateNo = 410 && MoveGuarded = 1
trigger7 = StateNo = 440 && MoveGuarded = 1
trigger8 = StateNo = 430 && MoveGuarded = 1 && P2BodyDist X = [-10,20]
trigger9 = StateNo = 210 && MoveGuarded = 1
;---------------------------------------------------------------
[State -3, 1,八拾八式连携]
Type = ChangeState
Value = 450
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,55]
Triggerall = p2statetype = S||p2statetype = C
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=666||EnemyNear(floor(fvar(4))),power<1000
trigger1 = StateNo = 205 && MoveGuarded = 1
trigger2 = StateNo = 215 && MoveGuarded = 1
trigger3 = StateNo = 235 && MoveGuarded = 1
trigger4 = StateNo = 245 && MoveGuarded = 1
trigger5 = StateNo = 400 && MoveGuarded = 1
trigger6 = StateNo = 410 && MoveGuarded = 1
trigger7 = StateNo = 440 && MoveGuarded = 1
trigger8 = StateNo = 430 && MoveGuarded = 1
trigger9 = StateNo = 210 && MoveGuarded = 1
trigger10 = StateNo = 290 && MoveGuarded = 1
trigger10 = P2BodyDist X = [-10,35]

[State -3, 1,八拾八式连携]
Type = ChangeState
Value = 450
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X =[40,55];距离过大 
Triggerall = p2statetype = C;;对方蹲着
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=888||EnemyNear(floor(fvar(4))),power<1000
trigger1 = StateNo = 205 && MoveGuarded = 1
trigger2 = StateNo = 215 && MoveGuarded = 1
trigger3 = StateNo = 235 && MoveGuarded = 1
trigger4 = StateNo = 245 && MoveGuarded = 1
trigger5 = StateNo = 400 && MoveGuarded = 1
trigger6 = StateNo = 410 && MoveGuarded = 1
trigger7 = StateNo = 440 && MoveGuarded = 1
trigger8 = StateNo = 430 && MoveGuarded = 1
trigger9 = StateNo = 210 && MoveGuarded = 1
;-----------------------------------------------------------------------------------
[State -3, 1,REDキック连携]
Type = ChangeState
Value = 1500
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,70];距离近
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=999-EnemyNear(floor(fvar(4))),power*0.1
trigger1 = StateNo = 205 && MoveGuarded = 1
trigger2 = StateNo = 215 && MoveGuarded = 1
trigger3 = StateNo = 235 && MoveGuarded = 1
trigger4 = StateNo = 245 && MoveGuarded = 1
trigger5 = StateNo = 400 && MoveGuarded = 1
trigger6 = StateNo = 410 && MoveGuarded = 1
trigger7 = StateNo = 440 && MoveGuarded = 1
trigger8 = StateNo = 430 && MoveGuarded = 1
trigger9 = StateNo = 210 && MoveGuarded = 1

[State -3, 1,超重击+B连携]
Type = ChangeState
Value = 1901
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,70];距离近
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=199+var(59)*50
trigger1 = StateNo = 290 && MoveGuarded = 1
[State -3, 1,超重击+毒咬连携]
Type = ChangeState
Value = 1200
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,100];距离近
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=499-var(59)*50
trigger1 = StateNo = 290 && MoveGuarded = 1
[State -3, 1,超重击+荒咬连携]
Type = ChangeState
Value = 1100
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X = [-10,100];距离近
Triggerall = p2statetype = S||p2statetype = C;对方不在空中
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
trigger1 = StateNo = 290 && MoveGuarded = 1
;-------------------------------------------------------------
[State -3, 1,Z斧+B连携]
Type = ChangeState
Value = 1901
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 100
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=199+var(59)*50
Triggerall = numhelper(1910) = 0
trigger1 = StateNo = 251 && MoveGuarded = [1,4]
trigger1 = animelemtime(6)>0
[State -3, 1,Z斧+毒咬连携]
Type = ChangeState
Value = 1200
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 100
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=499-var(59)*50
trigger1 = StateNo = 251 && MoveGuarded = [1,4]
trigger1 = animelemtime(6)>0
[State -3, 1,Z斧+荒咬连携]
Type = ChangeState
Value = 1100
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 120
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
trigger1 = StateNo = 251 && MoveGuarded = [1,4]
trigger1 = animelemtime(6)>0
;---------------------------------------------------------
[State -3, 1,八拾八式+B连携]
Type = ChangeState
Value = 1901
TriggerAll = Var(59) >= 3
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 100
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=199+var(59)*50
Triggerall = numhelper(1910) = 0
trigger1 = StateNo = 450 && MoveGuarded = [1,4]
trigger1 = animelemtime(5)<0
[State -3, 1,八拾八式+毒咬连携]
Type = ChangeState
Value = 1200
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 100
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
Triggerall = random<=499-var(59)*50
trigger1 = StateNo = 450 && MoveGuarded = [1,4]
trigger1 = animelemtime(5)<0
[State -3, 1,八拾八式+荒咬连携]
Type = ChangeState
Value = 1100
TriggerAll = Var(59) >= 2
TriggerAll = RoundState = 2
triggerall = StateType != A
Triggerall = P2BodyDist X < 100
Triggerall = P2BodyDist X >=0
triggerall = EnemyNear(floor(fvar(4))),movetype=H
Triggerall = EnemyNear(floor(fvar(4))),stateno=[150,155]
trigger1 = StateNo = 450 && MoveGuarded = [1,4]
trigger1 = animelemtime(5)<0
;====================================================================================================== 
;立回 
[State -3,站轻拳低空]
type = ChangeState
value = ifelse(p2bodydist X >= 18,200,205)
triggerall = var(59) >= 2
triggerall = roundstate = 2
triggerall = EnemyNear(floor(fvar(4))),statetype = A
triggerall = EnemyNear(floor(fvar(4))),movetype!=A
triggerall = P2StateNo != [5000,5999]
triggerall = ctrl||stateno = 100
triggerall = statetype != A
triggerall = random<=600
triggerall = !inguarddist||facing =EnemyNear(floor(fvar(4))),facing
trigger1 = EnemyNear(floor(fvar(4))),movetype!=H
trigger1 = p2bodydist X - Vel X * 4 - EnemyNear(floor(fvar(4))),Vel X * 4 = [-10,35]
trigger1 = p2bodydist y + 4*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*4*5/2 =[-30,-20]
trigger1 = EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2

[State -3,蹲重拳低空]
type = ChangeState
value = 410
triggerall = var(59) >= 2
triggerall = roundstate = 2
triggerall = EnemyNear(floor(fvar(4))),statetype = A
triggerall = EnemyNear(floor(fvar(4))),movetype!=A
triggerall = P2StateNo != [5000,5999]
triggerall = facing !=EnemyNear(floor(fvar(4))),facing
triggerall = ctrl||stateno = 100
triggerall = statetype != A
triggerall = !inguarddist
triggerall = EnemyNear(floor(fvar(4))),movetype!=H
triggerall = random<=800
trigger1 = p2bodydist X - Vel X * 4 - EnemyNear(floor(fvar(4))),Vel X * 4 = [-8,30]
trigger1 = p2bodydist y + 4*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*4*5/2 =[-75,-30]
trigger1 = EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2

[State -3,鬼(重)打空]
type = ChangeState
value = 1001
triggerall = var(59) >= 2
triggerall = roundstate = 2
triggerall = EnemyNear(floor(fvar(4))),statetype = A
triggerall = statetype != A
triggerall = ctrl||stateno = 130||stateno = 131||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),movetype != H
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger1 = p2bodydist X - Vel X * 9 - EnemyNear(floor(fvar(4))),Vel X * 9 = [0,35]
trigger1 = p2bodydist y + 9*EnemyNear(floor(fvar(4))),vel y + EnemyNear(floor(fvar(4))),const(movement.yaccel)*9*10/2 = [-95,-40]
trigger1 = p2bodydist y <= -40
trigger1 = EnemyNear(floor(fvar(4))),vel x >=0
trigger1 = EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
trigger2 = facing =EnemyNear(floor(fvar(4))),facing
trigger2 = p2bodydist X  = [-10,35]
trigger2 = p2bodydist y  = [-95,-30]
trigger2 = EnemyNear(floor(fvar(4))),vel x >=0
trigger2 = EnemyNear(floor(fvar(4))),vel y >=0
trigger2 = EnemyNear(floor(fvar(4))),FrontEdgeBodyDist<=2
trigger3 = facing !=EnemyNear(floor(fvar(4))),facing
trigger3 = p2bodydist X  = [-10,35]
trigger3 = p2bodydist y  = [-95,-30]
trigger3 = EnemyNear(floor(fvar(4))),vel x <=0
trigger3 = EnemyNear(floor(fvar(4))),vel y >=0
trigger3 = EnemyNear(floor(fvar(4))),backEdgeBodyDist<=2
;----------------------------------------------------------------------------------------------------------
;回避
[State -1, 受身]
type = ChangeState
value = 5200
triggerall = var(59) >= 3
triggerall = RoundState = 2
triggerall = alive = 1
triggerall = StateNo = 5050 || StateNo = 5071
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
trigger1 = Random <= 100+var(51)*10+var(54)*10
trigger2 = EnemyNear(floor(fvar(4))),movetype = A
trigger2 = EnemyNear(floor(fvar(4))),numtarget

[State -3,跳防投技]
type = ChangeState
value = 47
triggerall = EnemyNear(floor(fvar(4))),hitdefattr = SCA,NT,ST,NT
triggerall = var(59) >=2
triggerall = PrevStateNo!=52
triggerall = statetype !=A
triggerall = ctrl||stateno=131||stateno=130||stateno=18||stateno=19||stateno=100
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing

[State -3, 回避飞道]
type = changestate
value = IfElse(var(59)>=5 && p2bodydist x >150,752,750)
triggerall = var(59) >=1
triggerall = roundstate = 2
triggerall = ctrl
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = statetype !=A
triggerall = stateno = 130||stateno = 131
triggerall = var(55)=0;回避没被破
trigger1 = p2bodydist x >150-EnemyNear(floor(fvar(4))),numproj*30
trigger1 = EnemyNear(floor(fvar(4))),numproj<=2
trigger1 = inguarddist
trigger1 = random <= 200+var(59)*100+p2bodydist x*2+EnemyNear(floor(fvar(4))),numproj*50 && gametime%15
trigger1 = p2dist x > 0 && P2BodyDist X >0

[State -3, 回避A攻击]
type = changestate
value = IfElse(FrontEdgeBodyDist<=50,751,750)
triggerall = var(59) =[1,4]
triggerall = statetype !=A
triggerall = roundstate = 2
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),numproj=0
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = PrevStateNo != 750 && StateNo != 750 && PrevStateNo!=[130,153]
triggerall = var(55)=0;回避没被破
trigger1 = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = !EnemyNear(floor(fvar(4))),Ctrl
trigger1 = inguarddist
trigger1 = random <= 10+var(59)*10 && gametime%50
trigger1 = P2BodyDist y <-60
trigger1 = P2BodyDist X =[-10,30]
trigger1 = BackEdgeBodyDist>=40
trigger2 = EnemyNear(floor(fvar(4))),movetype!=H
trigger2 = P2BodyDist X =[-30,10]
trigger2 = BackEdgeBodyDist<=25||FrontEdgeBodyDist<=40;躲打背 
trigger2 = P2BodyDist y <-60
trigger2 = EnemyNear(floor(fvar(4))),statetype=A
trigger2 = EnemyNear(floor(fvar(4))),vel x >=0
trigger2 = p2dist x <= 0

[State -3, 回避A攻击]
type = changestate
value = IfElse(FrontEdgeBodyDist<=50,752,750)
triggerall = var(59) >=5
triggerall = statetype !=A
triggerall = roundstate = 2
triggerall = ctrl||stateno = 100
triggerall = EnemyNear(floor(fvar(4))),numproj=0
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = PrevStateNo != 750 && StateNo != 750 && PrevStateNo!=[130,153]
triggerall = var(55)=0;回避没被破
trigger1 = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = !EnemyNear(floor(fvar(4))),Ctrl
trigger1 = inguarddist
trigger1 = random <= 10+var(59)*10 && gametime%50
trigger1 = P2BodyDist y <-60
trigger1 = P2BodyDist X =[-10,30]
trigger1 = BackEdgeBodyDist>=40
trigger2 = EnemyNear(floor(fvar(4))),movetype!=H
trigger2 = P2BodyDist X =[-30,10]
trigger2 = BackEdgeBodyDist<=25||FrontEdgeBodyDist<=40;躲打背 
trigger2 = P2BodyDist y <-60
trigger2 = EnemyNear(floor(fvar(4))),statetype=A
trigger2 = EnemyNear(floor(fvar(4))),vel x >=0
trigger2 = p2dist x <= 0

[State -3, 回避抓硬直]
type = changestate
value = IfElse(var(59)>=5 && p2bodydist x >60,752,750)
triggerall = var(59) >=2
triggerall = roundstate = 2
triggerall = statetype !=A
triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = (EnemyNear(floor(fvar(4))),movetype = A && inguarddist)||EnemyNear(floor(fvar(4))),hitdefattr = SCA,HA,HP
triggerall = EnemyNear(floor(fvar(4))),Ctrl=0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = var(55)=0;回避没被破
trigger1 = ctrl||stateno = 100
Trigger1 = P2BodyDist X=[0,85];抓硬直
Trigger1 = EnemyNear(floor(fvar(4))),numproj=0
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-36
trigger1 = random <= 100+var(59)*10+EnemyNear(floor(fvar(4))),time*15 && gametime%5
trigger1 = EnemyNear(floor(fvar(4))),animtime>=-100
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,2000]
trigger2 = StateNo = [150,151];防御中 
trigger2 = var(14)=3 && var(20)>0
Trigger2 = P2BodyDist X=[0,85];抓硬直
Trigger2 = EnemyNear(floor(fvar(4))),numproj=0
trigger2 = EnemyNear(floor(fvar(4))),animtime<=-36
trigger2 = random <= 100+var(59)*10+EnemyNear(floor(fvar(4))),time*15 && gametime%5
trigger2 = EnemyNear(floor(fvar(4))),animtime>=-100
Trigger2 = EnemyNear(floor(fvar(4))),stateno=[200,2000]
trigger3 = ctrl||stateno = 100
Trigger3 = PrevStateNo=100 && P2BodyDist X=[0,95];抓硬直
Trigger3 = EnemyNear(floor(fvar(4))),numproj=0
trigger3 = EnemyNear(floor(fvar(4))),animtime<=-36
trigger3 = random <= 100+var(59)*10+EnemyNear(floor(fvar(4))),time*15 && gametime%5
trigger3 = EnemyNear(floor(fvar(4))),animtime>=-100
Trigger3 = EnemyNear(floor(fvar(4))),stateno=[200,2000]

[State -3, 回避破防技]
type = changestate
value = IfElse(var(59)>=5 && p2bodydist x >60,752,750)
triggerall = var(59) >=2
triggerall = roundstate = 2
triggerall = statetype !=A
triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
triggerall = (EnemyNear(floor(fvar(4))),movetype = A && inguarddist)
triggerall = EnemyNear(floor(fvar(4))),Ctrl=0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = var(55)=0;回避没被破
triggerall = ctrl = 1
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(46)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(47)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(48)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]

[State -3, 回避破防技]
type = changestate
value = IfElse(var(59)>=5 && p2bodydist x >60,752,750)
triggerall = var(59) >=2
triggerall = roundstate = 2
triggerall = statetype !=A
triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
triggerall = (EnemyNear(floor(fvar(4))),movetype = A && inguarddist)
triggerall = EnemyNear(floor(fvar(4))),Ctrl=0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
triggerall = var(55)=0;回避没被破
triggerall = stateno=[150,151]
triggerall = var(14)=3 && var(20)>0
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(46)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(47)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(48)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]

[State -3, 回避普通攻击]
type = changestate
value = 751
triggerall = var(59) >=2
triggerall = roundstate = 2
triggerall = ctrl||stateno = 100
triggerall = statetype !=A
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
triggerall = (EnemyNear(floor(fvar(4))),movetype = A && inguarddist)||EnemyNear(floor(fvar(4))),hitdefattr = SCA,HA,HP
triggerall = EnemyNear(floor(fvar(4))),Ctrl=0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
Triggerall = BackEdgeBodyDist >= 40
triggerall = var(55)=0;回避没被破
Trigger1 = EnemyNear(floor(fvar(4))),stateno=[200,499]
Trigger1 = P2BodyDist X=[10,90];躲闪
trigger1 = random <= 40+var(59)*5+EnemyNear(floor(fvar(4))),time*5 && gametime%20
trigger1 = gametime%10
trigger1 = EnemyNear(floor(fvar(4))),time<=3

[State -3, 回避蓄力攻击]
Type = ChangeState
Value = IfElse(var(59)>=5,752,750)
TriggerAll = Var(59) >= 1
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != A
triggerall = EnemyNear(floor(fvar(4))),statetype != L
triggerall = EnemyNear(floor(fvar(4))),facing!=facing
triggerall = P2BodyDist X >= 0
Triggerall = P2BodyDist X < 120
triggerall = ctrl||stateno = 100
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = time>=40||EnemyNear(floor(fvar(4))),time>=40;抓蓄力招数硬直
trigger1 = stateno = [130,131]
trigger1 = EnemyNear(floor(fvar(4))),ctrl=0
trigger1 = random <= 111+EnemyNear(floor(fvar(4))),time*1 && gametime%20
Trigger1 = EnemyNear(floor(fvar(4))),stateno>=1000

[State -3, 回避强力攻击]
type = changestate
value = IfElse(var(59)>=5 && p2bodydist x >60,752,750)
triggerall = var(59) >=2
triggerall = roundstate = 2
triggerall = ctrl||stateno = 100
triggerall = statetype !=A
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT
triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
triggerall = (EnemyNear(floor(fvar(4))),movetype = A && inguarddist)||EnemyNear(floor(fvar(4))),hitdefattr = SCA,HA,HP
triggerall = EnemyNear(floor(fvar(4))),Ctrl=0
triggerall = EnemyNear(floor(fvar(4))),statetype!=A
Triggerall = BackEdgeBodyDist >= 40
triggerall = var(55)=0;回避没被破
trigger1 = EnemyNear(floor(fvar(4))),stateno>=2000
trigger1 = random <= 150+var(59)*150 && gametime%15
trigger1 = p2bodydist x=[-10,120]
trigger1 = EnemyNear(floor(fvar(4))),time>=25
;====================================================================================================== 
;移动
;------------------------------------------------------------------------------------------------------
;跑
[State -3,跑]
type = ChangeState
value = IfElse(inguarddist,130,100)
triggerall = roundstate = 2
triggerall = var(59) >= 1
triggerall = statetype != A
triggerall = ctrl && stateno!=100 && stateno!=130 && PrevStateNo != 100  && PrevStateNo != 101
triggerall = p2dist x > 0
triggerall = !inguarddist;没事干
triggerall = p2bodydist x >=100
triggerall = EnemyNear(floor(fvar(4))),movetype=I
triggerall = random<=200+numhelper(1910)*50 && gametime%15
trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
trigger2 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x <= 0 && facing !=enemy,facing
trigger3 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x > 0 && facing =enemy,facing
trigger4 = EnemyNear(floor(fvar(4))),statetype=L
trigger4 = EnemyNear(floor(fvar(4))),stateno = [5100,5120]
trigger4 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2

[State -3,跑]
type = ChangeState
value = IfElse(inguarddist,130,100)
triggerall = roundstate = 2
triggerall = var(59) >= 3
triggerall = statetype != A
triggerall = Stateno != 100 && stateno!=130 && PrevStateNo != 100 && PrevStateNo != 101
triggerall = ctrl
triggerall = p2dist x > 0
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
trigger1 = EnemyNear(floor(fvar(4))),movetype=A
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger1 = p2bodydist x > 50
trigger1 = facing = EnemyNear(floor(fvar(4))),facing
trigger1 = EnemyNear(floor(fvar(4))),animtime<=-4 && EnemyNear(floor(fvar(4))),statetype!=A||EnemyNear(floor(fvar(4))),statetype=A
trigger2 = EnemyNear(floor(fvar(4))),movetype=I
trigger2 = EnemyNear(floor(fvar(4))),stateno>=200
trigger2 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger2 = p2bodydist x > 50
trigger2 = !inguarddist
trigger2 = facing != EnemyNear(floor(fvar(4))),facing
trigger2 = EnemyNear(floor(fvar(4))),animtime<=-4 && EnemyNear(floor(fvar(4))),statetype!=A
trigger3 = !inguarddist
trigger3 = EnemyNear(floor(fvar(4))),movetype=I
trigger3 = EnemyNear(floor(fvar(4))),ctrl = 0
trigger3 = p2bodydist x > 50
trigger3 = facing = EnemyNear(floor(fvar(4))),facing
trigger3 = EnemyNear(floor(fvar(4))),animtime<=-4 && EnemyNear(floor(fvar(4))),statetype!=A||EnemyNear(floor(fvar(4))),statetype=A

[State -3,跑(双打)]
type = ChangeState
value = IfElse(inguarddist,130,100)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno!=100 && stateno!=130 && PrevStateNo != 100  && PrevStateNo != 101
triggerall = p2dist x > 0
triggerall = !inguarddist;没事干
triggerall = p2bodydist x >=30
triggerall = NumPartner>=1
triggerall = EnemyNear(floor(fvar(4))),movetype=H
trigger1 = EnemyNear(floor(fvar(4))),statetype=A
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0
;------------------------------------------------------------------------------------------------------
;走路 
[State -3,前走]
type = ChangeState
value = IfElse(inguarddist,130,18)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno!=100
triggerall = p2dist x > 0
triggerall = !inguarddist;没事干
triggerall = p2bodydist x >=30
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
trigger2 = EnemyNear(floor(fvar(4))),movetype=I
trigger2 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x <= 0 && facing !=enemy,facing
trigger3 = EnemyNear(floor(fvar(4))),movetype=I
trigger3 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x > 0 && facing =enemy,facing
trigger4 = EnemyNear(floor(fvar(4))),statetype=L && p2bodydist x >=30 && EnemyNear(floor(fvar(4))),stateno = [5110,5120]
trigger5 = BackEdgeBodyDist < 25
trigger5 = EnemyNear(floor(fvar(4))),movetype!=H

[State -3,前走]
type = ChangeState
value = IfElse(inguarddist,130,18)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno!=100
triggerall = p2dist x > 0
triggerall = !inguarddist;没事干
triggerall = p2bodydist x >=10
triggerall = random<=299 && gametime%15=0
trigger1 = EnemyNear(floor(fvar(4))),movetype=I
trigger1 = EnemyNear(floor(fvar(4))),statetype=S||EnemyNear(floor(fvar(4))),statetype=C
trigger1 = EnemyNear(floor(fvar(4))),ctrl = 0

[State -3,后走]
type = ChangeState
value = IfElse(inguarddist,130,19)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno!=100
triggerall = p2dist x > 0
triggerall = !inguarddist;没事干
trigger1 = p2bodydist x =[-1,20]
trigger1 = EnemyNear(floor(fvar(4))),statetype = L
trigger1 = EnemyNear(floor(fvar(4))),stateno = [5110,5120];打背准备
trigger2 = p2bodydist x =[-1,20]
trigger2 = EnemyNear(floor(fvar(4))),statetype = S||EnemyNear(floor(fvar(4))),statetype = C
trigger2 = EnemyNear(floor(fvar(4))),stateno = [0,199]
trigger2 = EnemyNear(floor(fvar(4))),movetype = I
trigger3 = p2bodydist x =[-1,120]
trigger3 = EnemyNear(floor(fvar(4))),statetype = A
trigger3 = EnemyNear(floor(fvar(4))),movetype!=H
trigger3 = EnemyNear(floor(fvar(4))),vel x > 0
trigger3 = facing !=enemy,facing
trigger3 = BackEdgeBodyDist>25
trigger4 = p2bodydist x =[-1,20]
trigger4 = EnemyNear(floor(fvar(4))),statetype = S||EnemyNear(floor(fvar(4))),statetype = C
trigger4 = EnemyNear(floor(fvar(4))),movetype = I
trigger4 = EnemyNear(floor(fvar(4))),stateno=[var(52)-10,var(52)+10];不可投回避动作
trigger5 = p2bodydist x =[-1,20]
trigger5 = EnemyNear(floor(fvar(4))),statetype = S||EnemyNear(floor(fvar(4))),statetype = C
trigger5 = EnemyNear(floor(fvar(4))),movetype = I
trigger5 = EnemyNear(floor(fvar(4))),stateno=[5200,5201];受身stateno
trigger6 = FrontEdgeBodyDist < 40
trigger6 = EnemyNear(floor(fvar(4))),movetype!=H
;------------------------------------------------------------------------------------------------------
;站立 
[State -3,前走站立]
type = ChangeState
value = IfElse(inguarddist,130,0)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno=18 && Stateno != 100
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
trigger1 = inguarddist
trigger2 = EnemyNear(floor(fvar(4))),movetype=A
trigger3 = EnemyNear(floor(fvar(4))),movetype!=A
trigger3 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x > 0 && facing !=enemy,facing
trigger4 = facing =enemy,facing
trigger5 = p2dist x <= 0
[State -3,前走站立]
type = ChangeState
value = IfElse(inguarddist,130,0)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno=18 && Stateno != 100
trigger1 = p2bodydist x <30
trigger1 = EnemyNear(floor(fvar(4))),movetype=I||EnemyNear(floor(fvar(4))),statetype=L
trigger2 = FrontEdgeBodyDist < 40
trigger3 = roundstate = 3

[State -3,跳跃限制]
type = ChangeState
value = IfElse(inguarddist && (EnemyNear(floor(fvar(4))),hitdefattr!= SCA,AT,ST,NT,HT),130,0)
triggerall = var(59)>=2
triggerall = statetype != A 
triggerall = roundstate = 2
trigger1 = stateno = 40
trigger2 = stateno = 10
ctrl = 1
IgnoreHitPause = 1

[State -3,后走站立]
type = ChangeState
value = IfElse(inguarddist,130,0)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno=19 && Stateno != 100
triggerall = EnemyNear(floor(fvar(4))),statetype!=L
trigger1 = inguarddist
trigger2 = EnemyNear(floor(fvar(4))),movetype=A
trigger3 = EnemyNear(floor(fvar(4))),movetype!=A
trigger3 = EnemyNear(floor(fvar(4))),statetype=A && EnemyNear(floor(fvar(4))),vel x < 0 && facing !=enemy,facing
trigger4 = facing =enemy,facing
trigger5 = p2dist x <= 0
[State -3,后走站立]
type = ChangeState
value = IfElse(inguarddist,130,0)
triggerall = roundstate = 2
triggerall = var(59) >= 2
triggerall = statetype != A
triggerall = ctrl && stateno=19 && Stateno != 100
trigger1 = p2bodydist x >=100
trigger1 = EnemyNear(floor(fvar(4))),statetype=L
trigger2 = p2bodydist x >20
trigger2 = EnemyNear(floor(fvar(4))),movetype=I
trigger2 = EnemyNear(floor(fvar(4))),ctrl = 1
trigger3 = p2bodydist x >20
trigger3 = EnemyNear(floor(fvar(4))),statetype = S||EnemyNear(floor(fvar(4))),statetype = C
trigger3 = EnemyNear(floor(fvar(4))),movetype = I
trigger3 = EnemyNear(floor(fvar(4))),stateno=[var(52)-10,var(52)+10];不可投回避动作 
trigger4 = BackEdgeBodyDist<=25
trigger5 = roundstate = 3
;------------------------------------------------------------------------------------------------------
[State -3,后跳]
Type = ChangeState
Value = 48
TriggerAll = var(59) >=1
triggerall = roundstate = 2
TriggerAll = StateType != A
Triggerall = P2BodyDist X = [0,90]
triggerall = ctrl||Stateno = 100
trigger1 = p2bodydist x =[-1,120]
trigger1 = EnemyNear(floor(fvar(4))),statetype = A
trigger1 = EnemyNear(floor(fvar(4))),movetype!=H
trigger1 = EnemyNear(floor(fvar(4))),vel x > 2
trigger1 = facing !=enemy,facing
trigger1 = BackEdgeBodyDist>=50
Trigger1 = Random <= 100+var(59)*50 && gametime%15=0

[State -3,后跳]
Type = ChangeState
Value = IfElse(random<=299,48,105)
TriggerAll = var(59) >=1
triggerall = roundstate = 2
TriggerAll = StateType != A
Triggerall = P2BodyDist X = [0,90]
triggerall = ctrl||Stateno = 100
Triggerall = EnemyNear(floor(fvar(4))),statetype=L
Triggerall = BackEdgeBodyDist >= 30
Trigger1 = EnemyNear(floor(fvar(4))),StateNo = 5100
Trigger1 = EnemyNear(floor(fvar(4))),time = 1
Trigger1 = Random <= 100+var(59)*50
Trigger2 = EnemyNear(floor(fvar(4))),vel x !=0
Trigger2 = EnemyNear(floor(fvar(4))),StateNo = 5120

[State -3,后跳拉开距离]
Type = ChangeState
Value = IfElse(random<=299,105,48)
TriggerAll = var(59) >=1
triggerall = roundstate = 2
TriggerAll = StateType != A
triggerall = ctrl||Stateno = 100
Triggerall = P2BodyDist X = [0,120]
Triggerall = BackEdgeBodyDist >= 30
Trigger1 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)<3 && EnemyNear(floor(fvar(4))),stateno=[150,155]
Trigger1 = EnemyNear(floor(fvar(4))),movetype=H
Trigger1 = random<=444-var(59)*100
Trigger1 = EnemyNear(floor(fvar(4))),statetype!=A && EnemyNear(floor(fvar(4))),statetype!=L
Trigger2 = EnemyNear(floor(fvar(4))),GetHitVar(hittime)<3 && EnemyNear(floor(fvar(4))),stateno=[5000,5999]
Trigger2 = EnemyNear(floor(fvar(4))),movetype=H
Trigger2 = random<=444-var(59)*100
Trigger2 = EnemyNear(floor(fvar(4))),statetype!=A && EnemyNear(floor(fvar(4))),statetype!=L
Trigger3 = EnemyNear(floor(fvar(4))),movetype=I
Trigger3 = EnemyNear(floor(fvar(4))),statetype!=A
Trigger3 = P2BodyDist X = [40,120]
Trigger3 = EnemyNear(floor(fvar(4))),stateno=[0,199]
Trigger3 = EnemyNear(floor(fvar(4))),vel x =[2,6]
trigger3 = p2dist x > 0
Trigger3 = facing!=EnemyNear(floor(fvar(4))),facing
Trigger3 = random<=99 && gametime%20
;====================================================================================================== 
;聚气+爆气 
;------------------------------------------------------------------------------
;防MAX
[State -1, 防MAX]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,900)
triggerall = roundstate = 2
triggerall = var(59) > 0
triggerall = life>lifemax*0.3 && random>=life*0.75+200 && numtarget!
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = ctrl||stateno=130||stateno=131||stateno = 100
;------------------------------------------------------------------------------
;技MAX
[State -1, 技MAX不连段中]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,902)
triggerall = roundstate = 2
triggerall = var(59) > 0
triggerall = random<=life*0.75+200 && numtarget!
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = ctrl||stateno = 100
[State -1, 技MAX连段中]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,902)
triggerall = roundstate = 2
triggerall = var(59) > 0
triggerall = numtarget && EnemyNear(floor(fvar(4))),life>200
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = ctrl||stateno = 100
[State -1, 技MAX连段中(灼焰)]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,902)
triggerall = roundstate = 2
triggerall = var(59) >= 4
triggerall = numtarget && EnemyNear(floor(fvar(4))),life>200
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = numtarget(2151)||numtarget(3151)
trigger1 = target,pos y =[-150,-100]
trigger1 = ctrl||stateno = 100
;------------------------------------------------------------------------------
;力MAX
[State -1, 力MAX不连段中]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,901)
triggerall = roundstate = 2
triggerall = var(59) > 0
triggerall = random<=299 && numtarget!
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = ctrl||stateno = 100
[State -1, 力MAX连段中]
type = ChangeState
value = ifelse(var(17)+var(18)+var(19)<=-1,903,901)
triggerall = roundstate = 2
triggerall = var(59) > 0
triggerall = numtarget && EnemyNear(floor(fvar(4))),life<200
triggerall = statetype != A
triggerall = power=powermax||life<lifemax*0.25 && power>=1000
trigger1 = var(20) = 0
trigger1 = ctrl||stateno = 100
;----------------------------------------------------------------------------
[State -1, 集气]
type = ChangeState
value = 700
triggerall = var(59) = [1,2]
Triggerall = RoundState = 2
Triggerall = p2StateNo != 5120
triggerall = ctrl||stateno = 100
triggerall = statetype!=A
triggerall = power < powermax
triggerall = PrevStateNo!=700 && PrevStateNo!=701
triggerall = random<=33
trigger1 = EnemyNear(floor(fvar(4))),numproj=0
trigger1 = stateno != 700
trigger1 = P2StateType = L
trigger1 = BackEdgeBodyDist>20||P2BodyDist X>=40

[State -1, 集气]
type = ChangeState
value = 700
triggerall = var(59) >= 3
Triggerall = RoundState = 2
triggerall = ctrl||stateno = 100
triggerall = statetype!=A
triggerall = power < powermax
triggerall = PrevStateNo!=700 && PrevStateNo!=701
trigger1 = numtarget
trigger1 = target,stateno=[5700,5703]
trigger2 = numtarget
trigger2 = target,stateno=5710
trigger3 = NumPartner>=1
trigger3 = Partner,numtarget
trigger3 = EnemyNear(floor(fvar(4))),movetype=H
trigger3 = EnemyNear(floor(fvar(4))),stateno!=[5000,5210]
trigger4 = numtarget(1230)
trigger4 = var(56)=[0,30]
trigger4 = target(1230),stateno=[5000,5050]
;---------------------------------------------------------------------------
;====================================================================================================== 
;防御
[State -3,蹲防]
type = ChangeState
value = 131
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT,ST,NT
triggerall = var(59) >=2
triggerall = statetype !=A
triggerall = p2statetype = C
triggerall = ctrl||stateno = 18||stateno = 19||stateno = 20||stateno = 100 && var(59)>=4
triggerall = p2statetype !=A
trigger1 = inguarddist
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger2 = p2bodydist x < 0 && p2movetype = A

[State -3,蹲防]
type = ChangeState
value = 131
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT,ST,NT
triggerall = var(59) >=4
triggerall = statetype !=A
triggerall = p2statetype = C
triggerall = ctrl||stateno = 18||stateno = 19||stateno = 20||stateno = 100
triggerall = p2statetype !=A
triggerall = numhelper(90000)
trigger1 = helper(90000),inguarddist

[State -3,立防]
type = ChangeState
value = 130
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT,ST,NT
triggerall = var(59) >=2
triggerall = statetype !=A
triggerall = p2statetype != C
triggerall = ctrl||stateno = 18||stateno = 19||stateno = 20||stateno = 100 && var(59)>=4
trigger1 = inguarddist
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
trigger2 = facing = EnemyNear(floor(fvar(4))),facing
trigger2 = p2dist x > 0
trigger2 = p2bodydist x = [-10,60]
trigger2 = p2movetype = A
trigger3 = p2bodydist x < 0 && p2movetype = A

[State -3,立防]
type = ChangeState
value = 130
triggerall = !EnemyNear(floor(fvar(4))),hitdefattr = SCA,AT,ST,NT
triggerall = var(59) >=4
triggerall = statetype !=A
triggerall = p2statetype != C
triggerall = ctrl||stateno = 18||stateno = 19||stateno = 20||stateno = 100
triggerall = numhelper(90000)
trigger1 = helper(90000),inguarddist

[State -3,空防]
type = ChangeState
value = 132
triggerall = var(59) >=2
triggerall = var(11)=1
triggerall = var(12)=1 && var(20)>0
triggerall = statetype =A
triggerall = ctrl
trigger1 = inguarddist

[State -3,立防AILV1]
type = ChangeState
value = 130
triggerall = var(59) =1
triggerall = statetype !=A
triggerall = ctrl
triggerall = Random<=300 && gametime%30
trigger1 = inguarddist
trigger1 = facing !=EnemyNear(floor(fvar(4))),facing
;======================================================================================================
;防御反击 
[State -3,no MAX]
Type = ChangeState
value = 291
triggerall = var(59) >= 2
Triggerall = P2BodyDist X <= 70
triggerall = EnemyNear(floor(fvar(4))),Pos Y-Vel Y*5-const(movement.yaccel)*5*6/2+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),const(movement.yaccel)*5*6/2>-70
triggerall = BackEdgeBodyDist < 60
Triggerall = statetype != A
triggerall = var(20)>0 && var(12)=1
triggerall = stateno = [150,151]
triggerall = EnemyNear(floor(fvar(4))),animtime<=-5
triggerall = time = [0,1]
Trigger1 = Random <=20+var(20)/100+var(59)*5+NumEnemy*50

[State -3,MAX]
Type = ChangeState
value = 291
triggerall = var(59) >= 2
Triggerall = P2BodyDist X <= 70
triggerall = EnemyNear(floor(fvar(4))),Pos Y-Vel Y*5-const(movement.yaccel)*5*6/2+EnemyNear(floor(fvar(4))),Vel Y*5+EnemyNear(floor(fvar(4))),const(movement.yaccel)*5*6/2>-70
triggerall = var(16)=1
Triggerall = statetype != A
triggerall = var(20)>0 && var(12)=1
triggerall = stateno = [150,151]
triggerall = EnemyNear(floor(fvar(4))),animtime<=-5
triggerall = time = [0,1]
Trigger1 = Random <=20+var(20)/100+var(59)*5+NumEnemy*50

[State -3,破防技]
Type = ChangeState
value = 291
triggerall = var(59) >= 2
Triggerall = facing !=enemy,facing && p2dist x > 0 && P2BodyDist X >0
Triggerall = statetype != A
triggerall = var(20)>0 && var(12)=1
triggerall = stateno = [150,151]
triggerall = numhelper(90000)
trigger1 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(46)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger2 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(47)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
trigger3 = (EnemyNear(floor(fvar(4))), StateNo = Helper(90000), var(48)) && EnemyNear(floor(fvar(4))), Time = [(Helper(90000), var(49) - 5),(Helper(90000), var(49) - 2)]
;==================================================================================================
;挑衅 
[State -1,挑衅]
type = ChangeState
value = 195
triggerall = var(59)=[2,4]
triggerall = statetype != A
triggerall = ctrl||stateno = 100
triggerall = inguarddist!
triggerall = stateno != 195
triggerall = prevstateno != 195
triggerall = life>=lifemax*0.75||roundstate = 3
triggerall = P2Life*1.6 < Life
triggerall = roundstate = [2,3]
triggerall = random <= 100-var(59)*20
triggerall = gametime%50
Trigger1 = P2BodyDist X = [70,200]
Trigger1 = EnemyNear(floor(fvar(4))),power<1000
Trigger1 = EnemyNear(floor(fvar(4))),stateno = [0,39]
trigger2 = p2statetype=L
trigger2 = p2stateno!=5120

[State -1,挑衅AILV1]
type = ChangeState
value = 195
triggerall = var(59)=1
triggerall = statetype != A
triggerall = ctrl||stateno = 100
triggerall = inguarddist!
triggerall = stateno != 195
triggerall = prevstateno != 195
triggerall = life>=lifemax*0.55||roundstate = 3
triggerall = P2Life*1.3 < Life
triggerall = roundstate = [2,3]
triggerall = random <= 100-var(59)*20
triggerall = gametime%50
Trigger1 = P2BodyDist X = [50,200]
Trigger1 = EnemyNear(floor(fvar(4))),stateno = [0,39]
trigger2 = p2statetype=L
trigger2 = p2stateno!=5120
