;---------------------------------------------------------------------------
;超必⒓
;---------------------------------------------------------------------------
;大蛇S
[Statedef 2000]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2000
ctrl = 0
poweradd = -1000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 4
anim = -1
time = 20
movetime = 20
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17000
pos = 6,-64
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17010
pos = 6,-64
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 0
;----------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s2000,0
channel = 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
ID = 2000
StateNo = 2010
pos = 0,0
postype = p1
SuperMoveTime = 9999
ownpal = 1
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(59)<=0
trigger1 = Command = "hold_x" || Command = "hold_y"
trigger2 = var(59)>0
trigger2 = win!
trigger2 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*19+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*19*(19+1)/2<=-65
value = 2002

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(59)<=0
trigger1 = Command = "hold_c"
trigger2 = var(59)>0
trigger2 = win
value = 2005

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(59)<=0
trigger2 = var(59)>0
trigger2 = win!
trigger2 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*19+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*19*(19+1)/2>-65
value = 2001
;---------------------------------------------------------------------------
;大蛇S-攻
[Statedef 2001]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 2001
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 3,<= 0
value = SCA

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 12

[State 0, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
trigger1 = AnimElem = 5,>= 0
x = -0.8

[State 0, VelSet]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = s2500,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2010
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
ID = 3000
StateNo = 2006
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;大蛇S(蓄力)
[Statedef 2002]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 2002
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 40
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 80
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 40
trigger2 = time = 80
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(59)<=0
trigger1 = time = 0
trigger1 = Command = "hold_y"
value = 2003

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = Command = "c"
trigger2 = var(59)>0
trigger2 = win
value = 2005

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)<=0
trigger1 = Command != "hold_x"
trigger1 = Command != "hold_y"
trigger2 = time >= 90
value = 2004

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)>0
trigger1 = win!
trigger1 = EnemyNear(floor(fvar(4))),Pos Y+EnemyNear(floor(fvar(4))),Vel Y*19+EnemyNear(floor(fvar(4))),gethitvar(yaccel)*19*(19+1)/2>-65
trigger2 = time >= 90
value = 2004
;---------------------------------------------------------------------------
;大蛇S(蓄力攻)
[Statedef 2004]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 2004
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 3,<= 0
value = SCA

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 13

[State 0, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
trigger1 = AnimElem = 5,>= 0
x = -0.8

[State 0, VelSet]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2500,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2011
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
ID = 2006
StateNo = 2006
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;大蛇S停止挑衅 
[Statedef 2005]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 500
anim = 2005
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2000,2
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;大蛇S炎0
[Statedef 2006]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = root,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
trigger1 = var(8)=1||var(8)=2
ID = 2007
StateNo = 2007
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [2000,2099]
time = 1
facing = 1
pos = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 300,30
getpower = 0,0
;givepower = 160,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;大蛇S炎20
[Statedef 2007]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,NumHelper(2006)
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
trigger1 = var(8)=2
ID = 2008
StateNo = 2008
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [2000,2099]
time = 1
facing = 1
pos = 20,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 150,10
getpower = 0,0
;givepower = 60,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;大蛇S炎40
[Statedef 2008]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,NumHelper(2007)
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [2000,2099]
time = 1
facing = 1
pos = 40,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = NumPartner
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 100,10
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;手炎
[Statedef 2010]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 182;9999
ctrl = 0
;-----------------------------------------------------
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 2
trigger1 = Root,StateNo = 2000||Root,StateNo = 3000
time = -1
facing = 1
pos = 44*root,floor(Const(size.xscale)),-95*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 3
trigger1 = Root,StateNo = 2000||Root,StateNo = 3000
time = -1
facing = 1
pos = 28*root,floor(Const(size.xscale)),-112*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 4
trigger1 = Root,StateNo = 2000||Root,StateNo = 3000
time = -1
facing = 1
pos = 28*root,floor(Const(size.xscale)),-112*root,floor(Const(size.yscale))
;------------------------------------------------------
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 1
trigger1 = Root,StateNo = 3002
time = -1
facing = 1
pos = 18*root,floor(Const(size.xscale)),-60*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 2
trigger1 = Root,StateNo = 3002
time = -1
facing = 1
pos = 17*root,floor(Const(size.xscale)),-63*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 3
trigger1 = Root,StateNo = 3002
time = -1
facing = 1
pos = -28*root,floor(Const(size.xscale)),-106*root,floor(Const(size.yscale))
;------------------------------------------------------
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 1
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004
time = -1
facing = 1
pos = 6*root,floor(Const(size.xscale)),-60*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 2
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004
time = -1
facing = 1
pos = 9*root,floor(Const(size.xscale)),-63*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 3
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004
time = -1
facing = 1
pos = -28*root,floor(Const(size.xscale)),-106*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 4
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
time = -1
facing = 1
pos = -25*root,floor(Const(size.xscale)),-110*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 5
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
time = -1
facing = 1
pos = -24*root,floor(Const(size.xscale)),-98*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 6
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
time = -1
facing = 1
pos = 38*root,floor(Const(size.xscale)),-58*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 7
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
time = -1
facing = 1
pos = -30*root,floor(Const(size.xscale)),-106*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 8
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
time = -1
facing = 1
pos = -26*root,floor(Const(size.xscale)),-110*root,floor(Const(size.yscale))
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Root,AnimElemTime(10) = 9
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
value = 183
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Root,AnimElemTime(9) = 22
trigger1 = Root,StateNo = 2001||Root,StateNo = 2004||Root,StateNo = 3002
trigger1 = Root,StateNo = 2052
value = 183
;--------------------------------------------------------------------------
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Root,StateNo = 2005
trigger1 = Root,AnimElemTime(1) = 0
value = 183
;--------------------------------------------------------------------------
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElem = 1
trigger1 = Root,StateNo = 4800
time = -1
facing = 1
pos = 22*root,floor(Const(size.xscale)),-120*root,floor(Const(size.yscale))
[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElemTime(2) = 0
trigger1 = Root,StateNo = 4800
time = -1
facing = 1
pos = 8*root,floor(Const(size.xscale)),-58*root,floor(Const(size.yscale))
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Root,StateNo = 4800
trigger1 = Root,AnimElemTime(2) = 0
value = 183
;--------------------------------------------------------------------------
[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 1
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger1 = Anim = 183;火焰消失anim 
trigger2 = Root,MoveType = H
trigger3 = root,stateno!=[2000,2099];大蛇S
trigger3 = root,stateno!=[3000,3099];大蛇SMAX
trigger3 = root,stateno!=[4800,4803];火加具锤 
;===========================================================================
;百八r式99LV1
[Statedef 2050]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2050
ctrl     = 0
sprpriority = 3
facep2 = 1
poweradd = -1000



[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17000
pos = 7,-53
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17010
pos = 7,-53
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1950,0
channel = 0
;----------------------------------------------
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 92
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 130
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 92
trigger2 = time = 130
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, ChangeState]
type = ChangeState
triggerall =  AnimElemTime(3)>=0
trigger1 = var(59)<=0
trigger1 = Command != "hold_a"
trigger1 = Command != "hold_b"
trigger2 = animtime = 0
value = 2051
;---------------------------------------------------------------------------
; 百八r式99LV1
[Statedef 2051]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2051
ctrl     = 0
sprpriority = 3

[State 2051, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
trigger2 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10
trigger3 = AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 2051, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1950,1
channel = 0

[State 2051,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1950,2

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)<2
trigger1 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 150,15
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -2
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -2,-4
air.hittime = 12
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 1
palfx.add = 0,0,0
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)<2
trigger1 = AnimElem = 15
attr = S, HA
animtype = up
damage    = 150,15
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = MA
pausetime = 30,30
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = High
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -5,-8
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -5,-8
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 1
palfx.add = 0,0,0
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)>=2
trigger1 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 150+var(8)*50,10
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = 
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -2
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -2,-4
air.hittime = 12
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 1
palfx.add = 0,0,0
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)>=2
trigger1 = AnimElem = 15
attr = S, HA
animtype = up
damage    = 300+var(8)*50,15
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = 
pausetime = 30,30
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = High
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -5,-8
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -5,-8
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 1
palfx.add = 0,0,0
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2051

[State 2051, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 百八r式
[Statedef 2100]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2100
ctrl = 0
poweradd = -1000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 6
anim = -1
time = 27
movetime = 27
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 6
anim = 17000
pos = -4,-52
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 6
anim = 17010
pos = -4,-52
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = s29, 0
;---------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 2100,1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command = "hold_a"||Command = "hold_b"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2<=-65
value = 2102

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command != "hold_a"
trigger1 = Command != "hold_b"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-65
value = 2105
;---------------------------------------------------------------------------
; 百八r式(溜め)
[Statedef 2102]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 2102
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2100,4
Channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 12
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 23
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 12
trigger2 = AnimElem = 23
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2110
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = Command != "hold_a"
trigger1 = Command != "hold_b"
trigger2 = AnimTime = 0
trigger3 = var(59)>0
trigger3 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-55
value = 2105
;---------------------------------------------------------------------------
; 百八r式(フィニッシュ)
[Statedef 2105]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 2105
ctrl = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2111
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
id = var(7) := 1102
stateno = 6000
pos = 97*floor(Const(size.xscale)),-73*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
Channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2100,3
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2100,5

[State 1400, PosAdd]
type = PosAdd
trigger1 = animelem = 8
trigger2 = animelem = 9
trigger3 = animelem = 10
trigger4 = animelem = 11
trigger5 = animelem = 12
trigger6 = animelem = 13
trigger7 = animelem = 17
trigger8 = animelem = 18
x = 8

[State 0, Width]
type = Width
trigger1 = 1
edge = 30,0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
trigger1 = var(8) = [0,1]
attr = S,HA
animtype = Hard
damage = 300,30
getpower = 0,0
;givepower = 180+var(8)*40,0
guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -6,-8
air.velocity = -6,-8
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
palfx.time = 75
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 18
envshake.freq = 120
envshake.ampl = 8
envshake.phase = 120

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
trigger1 = var(8) >= 2
attr = S,HA
animtype = Hard
damage = 300,30
getpower = 0,0
;givepower = 180+var(8)*40,0
;guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -8,-10
air.velocity = -8,-10
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
palfx.time = 75
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 18
envshake.freq = 120
envshake.ampl = 8
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.ampl = -4
fall.envshake.freq = 92
fall.envshake.phase = 92

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 70,70,70
mul = 256,256,256
sinadd = -70,-70,-70,15
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 百r拾参式灼焉lv1
[Statedef 2150]
type = S
movetype = A
physics = N
juggle = 8
velset = 0,0
anim = 2150
ctrl = 0
poweradd = IfElse(var(20)=0,-1000,0)

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElemtime(4) = 3
time = 30
movetime = 30
anim = -1
p2defmul = 1.0
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = PrevStateNo >= 1000
stateno = 8200
ID = 8200
postype = left
supermovetime = 9999
pos = 0,0
ownpal = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(4) = [3,33]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1
;----------------------------------------
[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 3
time = 2
value = 255,255,255
under = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 5
time = 28
value = 0,0,0
under = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6100
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = -2
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6103
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = 10
scale = Const(size.xscale),Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(4) = 3
value = s29, 0
;----------------------------------------------------
[State 810,]
type = EnvShake
trigger1 = AnimElem = 5
time = 10
ampl = -12
freq = 95
phase = 95

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s193,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,1
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,2

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 6505
sprpriority = 4
postype = p2
pos = 0 ,-40*floor(Const(size.yscale))
bindtime = 1
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 3200 , 1]
type = Projectile
trigger1 = AnimElem = 5
ProjID = 2151
projanim = 2151
projshadow = 128,128,128
projremove = 1
projremovetime = 30
velocity = 0,0
guardflag = M
hitflag = MAF
offset = 0,0
postype = P2
ProjHits = 1
attr = S, SP
animtype = up
getpower = 0,0
;givepower = 60,0
damage = 150,15
guardflag = M
pausetime = 0,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = 15,-70
hitsound = -1
guardsound = s26,1
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,-7
air.velocity = 0,-7.5
air.cornerpush.veloff = 0
yaccel = 0.45
fall = 1
fall.recover = 0
fall.yvelocity = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
id = 2151
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, AllPalFX]
type = AllPalFX
trigger1 = AnimElem = 5
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 神尘LV1
[Statedef 2200]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 2200
ctrl = 0
poweradd = -1000
facep2 = 1



[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 3
anim = -1
time = 28
movetime = 28
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17000
pos = 8,-57
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17010
pos = 8,-57
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1



[state a]
type = varadd
trigger1 = AnimElem = 3
trigger1 = var(20)>0
v = 20
value = -600



[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s29, 0
;---------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2200,0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = s2200,3
channel = 0

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 2200

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 2200

[State 0, TargetBind]
type = TargetBind
trigger1 = numtarget(2200)
trigger1 = movehit = 1
time = 1
id = 2200
pos = 37,0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 2201
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 2200

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 2201
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 2200

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;  神尘爆LV1
[Statedef 2201]
type = S
movetype = A
physics = S
velset = 0,0
anim = 2201
sprpriority = 4
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s25,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,2

[State 0, 锁定对方State]
type = TargetState
trigger1 = numtarget
trigger1 = target,stateno!=3310
trigger1 = target,movetype=H
value = 3310
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 37,0

[State 0, 点燃(保持对方色表)火花出现]
type = Projectile
trigger1 = AnimElem = 5
projid = 2201
projanim = 1912
projedgebound = 400
projhitanim = -1
projremanim = -1
projremovetime = 1
projhits = 1
postype = p2
offset = 0,0
attr = S,HP
hitflag = MAFDP+
hitsound = -1
guardsound = -1
sparkno = -1
guard.sparkno = -1
ground.type = None
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
numhits = 0
kill = 0
getpower = 0,0
;givepower = 0,0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, 背景]
type = AllPalFX
trigger1 = AnimElem = 5
time = 20
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,70
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 6021
sprpriority = 5
postype = p1
pos = 36*floor(Const(size.xscale)),-77*floor(Const(size.yscale))
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)
;------------------------------
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=199
trigger4 = AnimElemTime(5) = 0 && random<=199
trigger5 = AnimElemTime(5) = 0 && random<=199
anim = 6504
ID = 6504
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=399
trigger4 = AnimElemTime(5) = 0 && random<=399
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6503
ID = 6503
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=499
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6502
ID = 6502
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=699
trigger5 = AnimElemTime(5) = 0 && random<=599
anim = 6501
ID = 6501
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=599
trigger5 = AnimElemTime(5) = 0 && random<=499
anim = 6500
ID = 6500
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
;------------------------------
[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(5) = 0
time = 30
ampl = -12
freq = 95
phase = 95

[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElemTime(5) = 0
value = 40
[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(5) = 0
value = -150
kill = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2202
;---------------------------------------------------------------------------
; 神尘]LV1
[Statedef 2202]
type = S
movetype = A
physics = N
juggle = 0
poweradd = 0
velset = 0,0
anim = 2202
ctrl = 0

[State 0, 走不进墙角]
type = Width
trigger1 = 1
edge = 35,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1310,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s20,4

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 6
id = var(7) := 1112
stateno = 6000
pos = 52*floor(Const(size.xscale)),-75*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HA
animtype = Hard
priority = 7,Hit
damage = 150,15
getpower = 0,0
;givepower = 72,0
guardflag = M
pausetime = 5,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -10,-82
hitsound = s25,7
guardsound = s26,1
ground.type = High
guard.velocity = -10
air.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -3,-15
air.velocity = -3,-15
yaccel = .49
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 65
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2202

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 8
trigger1 = MoveContact = 0
attr = S,HA
animtype = Hard
priority = 7,Hit
damage = 150,15
getpower = 0,0
;givepower = 72,0
hitflag = AF
guardflag = M
pausetime = 5,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -10,-82
hitsound = s24,2
guardsound = s26,1
ground.type = High
guard.velocity = -10
air.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -3,-15
air.velocity = -3,-15
yaccel = .49
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 65
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 2202

[State 0, TargetState]
type = TargetState
trigger1 = numtarget(2202)
trigger1 = movehit = 1
trigger1 = target(2202),statetype!=L
value =  5640
ID = 2202
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎豹连击LV1
[Statedef 2300]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 2300
ctrl = 0
sprpriority = 5
poweradd = -1000
facep2 = 1


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 32
movetime = 32
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17000
pos = 6,-70
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17010
pos = 6,-70
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600




[State 2300, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 0
;----------------------------------------------------
[State 2300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s20, 4

[State 2300, hitdef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage    = 75,7
getpower  = 0
;givepower = 80,80
animtype  = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 16,16
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 19
ground.velocity = 0
guard.velocity = -9
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1facing = 1
p2facing = 1
envshake.time = 16
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id = 2300

[State 2300, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 2301
ctrl = 0

[State 2300, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget(2300)
value = 2431
ID = 2300
ignorehitpause = 1

[State 2300, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
movetype = I

[State 2300, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎豹连击击中LV1
[Statedef 2301]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 2301
ctrl = 0
sprpriority = 2
poweradd = 0
facep2 = 1

[State 2301, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2301, TargetBind]
type = TargetBind
Trigger1 = time = 0
pos = 60, 0
[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElemtime(7)>=0 && AnimElemtime(8)<0
pos = 39, -125
[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElemtime(8)>=0 && AnimElemtime(9)<0
pos = 27, -132
[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElem = 9
pos = 27, -20

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemtime(7)>=0 && AnimElemtime(9)<0
value = 2302
ID = 2301
[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 9
value = 5050
ID = 2301

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s200,0
channel = 0

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s200,1
channel = 0

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = s210,2
channel = 0

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 6 || AnimElem = 11
value = s20,4

[State 2301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s25,5

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 6021
sprpriority = 5
postype = p1
pos = 39*floor(Const(size.xscale)),-125*floor(Const(size.yscale))
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 2301, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 8

[State 2301, VelMul]
type = VelMul
trigger1 = AnimElemTime(9) >= 0
x = .9

[State 2301, VelSet]
type = VelSet
trigger1 = AnimElem = 15
x = 0

[State 2301, hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage    = 75,7
getpower  = 0
;givepower = 40,40
animtype  = Hard
air.animtype = back
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -70
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 27
ground.velocity = 0
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id = 2301

[State 2301,  HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage    = 75,7
getpower  = 0
;givepower = 40,40
animtype  = Hard
air.animtype = back
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 27
ground.velocity = -6
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
id = 2301

[State 2301,  HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage    = 75,7
getpower  = 0
;givepower = 60,60
animtype = Diagup
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 32,32
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 19
ground.velocity = -9,-6
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -9,-6
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 32
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
id = 2301

[State 2301, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;虎豹连击被举起 
[Statedef 2302]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 3
facep2 = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2302

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time>=500
value = -2
kill = 1
absolute = 1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 0, PosSet]
type = PosSet
trigger1 = animtime = 0
y = -20
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = time>=1000
trigger2 = animtime = 0
value = 5020
;---------------------------------------------------------------------------
; o式?抑段
[Statedef 2400]
type = S
movetype = A
physics = S
juggle = 0
velset = 0,0
anim = 2400
ctrl = 0
sprpriority = 5
poweradd = -1000



[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 3
anim = -1
time = 22
movetime = 22
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17000
pos = -17,-58
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17010
pos = -17,-58
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 0
;-------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = s24,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2400,3
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
value = s2400,4
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 19
value = s20,4

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 21
id = var(7) := 2405
stateno = 6000
pos = 30,-16
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = Animelem = 8
id = 3207
stateno = 3207
pos = 80,0
postype = p1
ownpal = 1

[State 0, Width]
type = Width
trigger1 = AnimElem = 8
edge = 40*floor(Const(size.xscale)),0

[State 0, Width]
type = Width
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(14) < 0
edge = 30*floor(Const(size.xscale)),0

[State 0, Width]
type = Width
trigger1 = AnimElemTime(14) >= 0 && AnimElemTime(21) < 0
edge = 20*floor(Const(size.xscale)),0

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 12 | AnimElem = 14 | AnimElem = 15 | AnimElem = 16
trigger2 = AnimElem = 18 | AnimElem = 20 | AnimElem = 21 | AnimElem = 25
x = 10

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 18
x = 20

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 13
x = 30

[State 0, Targetbind]
type = Targetbind
triggerall = PrevStateNo = [1000,2900]
trigger1 = ProjHit2400 = 1
pos = 50,0

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 8
ampl = 8
freq = 95
time = 20

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(11) = 0
trigger2 = AnimElemTime(11) = 10
trigger3 = AnimElemTime(11) = 20
ID = 2410
StateNo = 2410
pos = 0,0
postype = p1
ownpal = 1
ignorehitpause = 1
size.xscale=1*Const(size.xscale)
size.yscale=1*Const(size.yscale)

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 0, Projectile]
type = Projectile
trigger1 = AnimElem = 8
projID = 2400
projanim = 2451
projremove = 0
projpriority = 5
projsprpriority = 10
projedgebound = 400
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 20
getpower = 0
ownpal = 1
offset = 80,0
velocity = 0,0
attr = S,HP
animtype = Hard
damage = 70,7
getpower = 0,0
;givepower = 120,0
hitflag = MAFP
guardflag = M
hitsound = s24,0
guardsound = s26,2
pausetime = 0,2
sparkno = s30002
guard.sparkno = s30040
sparkxy = -45+(floor(P2BodyDist X)),-65+(floor(P2BodyDist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -3,-8
yaccel = .6
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 21
attr = S,HA
damage = 70,7
getpower = 0,0
;givepower = 20,0
animtype = Diagup
guardflag = M
priority = 3,Hit
pausetime = 24,26
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-70
hitsound = s25,10
guardsound = s26,2
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -7,-9
air.velocity = -7,-9
air.cornerpush.veloff = 0
yaccel = .6
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 60
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time =30
envshake.freq =180
envshake.ampl =6
envshake.phase =120

[State 0, TargetState]
type = TargetState
trigger1 = moveguarded
trigger1 = numtarget
trigger1 = var(15)=1
trigger1 = AnimElemtime(21)>=0
trigger1 = target,stateno=[150,155]
value = 160
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = s1000,1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 0

[State 0, Varadd]
type = Varadd
triggerall = AnimElemTime(21) > 0
trigger1 = Command = "236236X" ||Command = "236236Y"
trigger1 = var(59)<=0
trigger2 = var(59)>0
trigger2 = win
var(8) = 1

[State 0, ChangeState]
type = ChangeState
triggerall = Movehit
trigger1 = var(8) >= 8
trigger1 = AnimTime = 0
value = 2420

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimTime = 0
x = 20

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; o式?抑段ヘルパ`
[Statedef 2410]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
velset = 0,0
anim = 2410
ctrl = 0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Width]
type = Width
trigger1 = AnimElemTime(3) < 0
edge = 30*root,floor(Const(size.xscale)),0

[State 0, Width]
type = Width
trigger1 = AnimElemTime(3) >= 0
edge = 20*root,floor(Const(size.xscale)),0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 0, ParentVarAdd]
type = null;ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
Palcolor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = s20,4

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 3 | AnimElem = 4 | AnimElem = 5
trigger2 = AnimElem = 7 | AnimElem = 9 | AnimElem = 10
x = 10

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 8
x = 20

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 2
x = 30

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = null;AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S,HA
damage = 70,7
getpower = 0,0
;givepower = 20,0
animtype = Hard
guardflag = M
priority = 3,Hit
pausetime = 8,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-70
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 22
ground.hittime = 23
ground.velocity = 0
air.velocity = -5,-8
air.cornerpush.veloff = 0
yaccel = .6
air.type = Low
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 50
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Anim != 2400
;---------------------------------------------------------------------------
; 特殊挑k
[Statedef 2420]
type = S
movetype = I
physics = S
anim = 2415
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2400,2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 1
id = var(7) := 183
stateno = 6000
pos = 8*floor(Const(size.xscale)),-100*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手幼(上段やられ)
[Statedef 2430]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, Hitfallset]
type = Hitfallset
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim!=2490
value = 2490

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time>=300
value = -1
ignorehitpause = 0

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
trigger2 = time>=600
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手幼(下段やられ)
[Statedef 2431]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0
facep2 = 1

[State 0, Hitfallset]
type = Hitfallset
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim!=2491
value = 2491

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time>=300
value = -1
ignorehitpause = 0

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
trigger2 = time>=600
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手幼(击退)
[Statedef 2432]
type = S
movetype = H
physics = S
velset = -10,0
ctrl = 0
facep2 = 1

[State 0, Hitfallset]
type = Hitfallset
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim!=2490
value = 2490

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time>=300
value = -1
ignorehitpause = 0

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
trigger2 = time>=600
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;朱天祓1
[Statedef 2500]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2500
ctrl     = 0
sprpriority = 3
poweradd = -1000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17000
pos = 16,-45
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17010
pos = 16,-45
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600


[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1000,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2500,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(6) = 24
value = s2500,1

[State 1000, PlaySnd]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4
trigger2 = AnimElem = 5
x = 10

[State 1000, PlaySnd]
type = Posadd
trigger1 = AnimElem = 8 | AnimElem = 10
trigger2 = AnimTime = 0
x = -10

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2500
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2500
projanim = 2600
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 35
getpower = 0,0
;givepower = 80,0
ownpal = 1
offset = 0, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 150,15
hitflag = MAFD
guardflag = MA
hitsound = s24,0
guardsound = s26,2
pausetime = 0,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-65 + (floor(p2bodydist Y))
ground.type = Low
ground.hittime = 22
ground.slidetime = 22
ground.velocity = -4,-5
air.velocity = -4, -5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = 3
envshake.freq = 90
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2610
projanim = 2610
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 60
getpower = 0,0
;givepower = 60,0
ownpal = 1
offset = 0, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 150,15
hitflag = MAFD
guardflag = MA
hitsound = s24,0
guardsound = s26,2
pausetime = 0,18
guard.pausetime = 0,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-65 + (floor(p2bodydist Y))
ground.type = High
ground.hittime = 24
ground.slidetime = 24
ground.velocity = -4,-5
air.velocity = -4, -5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = 3
envshake.freq = 90
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1000, changestate]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;朱天祓2
[Statedef 2550]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2550
ctrl     = 0
sprpriority = 3
poweradd = IfElse(var(20)=0,-1000,0)

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 170, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 55

[State 0, PalFx]
type = PalFx
trigger1 = gametime%2 = 0 && time <= 14
trigger1 = PrevStateNo >= 1000
time = 1
add = 255,255,255
ignorehitpause = 1

[State 2000, SuperPause]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30
p2defmul = 1.0
darken = 0

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1
;-----------------------------------------------
[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
time = 2
value = 255,255,255
under = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 2
time = 28
value = 0,0,0
under = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6100
pos = 0,-55*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = -2
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 6103
pos = 0,-55*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = 10
scale = Const(size.xscale),Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 0
;-----------------------------------------------
[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = PrevStateNo >= 1000
stateno = 8200
ID = 8200
postype = left
supermovetime = 9999
pos = 0,0
ownpal = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1000,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2500,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(6) = 24
value = s2500,1

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4
trigger2 = AnimElem = 5
x = 10

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 8 | AnimElem = 10
trigger2 = AnimTime = 0
x = -10

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2600
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2550
projanim = 2600
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 35
getpower = 0
;givepower = 80,0
ownpal = 1
offset = 0, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 200,30
hitflag = MAFD
guardflag = MA
hitsound = s24,0
guardsound = s26,2
pausetime = 0,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-65 + (floor(p2bodydist Y))
ground.type = Low
ground.hittime = 38
ground.slidetime = 38
ground.velocity = -10
air.velocity = -4, -5
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = 3
envshake.freq = 90
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2610
projanim = 2610
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 60
getpower = 0
;givepower = 60,0
ownpal = 1
offset = 0, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 150,20
hitflag = MAFD
guardflag = MA
hitsound = s24,0
guardsound = s26,2
pausetime = 0,18
guard.pausetime = 0,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-65 + (floor(p2bodydist Y))
ground.type = High
ground.hittime = 38
ground.slidetime = 38
ground.velocity = -10
air.velocity = -4, -5
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = 3
envshake.freq = 90
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1000, changestate]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------------------------
;空中大蛇S
[Statedef 2800]
type     = A
movetype = A
physics  = N
juggle   = 0
velset   = 0,0
anim     = 2800
ctrl     = 0
sprpriority = 2
poweradd = -1000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17000
pos = 3,-76
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17010
pos = 3,-76
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 0

[State 3000, ]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2800, Width]
type = Width
trigger1 = 1
edge = 25,0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2100,1
channel = 0

[State 2800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2100,3
channel = 0

[State 2800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2500,1

[State 1]
type = velset
trigger1 = animelem=5,=1
x = -4
y = -4

[State 1]
type = veladd
trigger1 = animelem=5,>1
y = .55

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2010
stateno = 6000
pos = 0*floor(Const(size.xscale)),-15*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(3) = 0
id = 2801
stateno = 2801
pos = -50*floor(Const(size.xscale)),-55*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State  2800, Helper]
type = Helper
trigger1 = AnimElemTime(5)=0
ID = 2802
StateNo = 2802
pos = 0*floor(Const(size.xscale)),-15*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 2800, ChangeState]
type = ChangeState
trigger1 = animelem = 8,>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1505
;---------------------------------------------------------------------------
;空中大蛇S手炎
[Statedef 2801]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 1010
ctrl = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -60
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
;空中大蛇S炎
[Statedef 2802]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 300,30
getpower = 0,0
;givepower = 160,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 5
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;----------------------------------------------------------------------------------------
; MAX大蛇S
[Statedef 3000]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 3000
ctrl = 0
poweradd = -2000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 3
anim = -1
time = 20
movetime = 20
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17100
pos = 6,-63
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17110
pos = 6,-63
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1
;-----------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 2050,0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
ID = 2000
StateNo = 2010
pos = 0,0
postype = p1
SuperMoveTime = 9999
ownpal = 1
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(59)<=0
trigger1 = Command = "hold_x" || Command = "hold_y"
trigger2 = var(59)>0
value = 3001

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3002
;---------------------------------------------------------------------------
; MAX大蛇S(蓄力) 
[Statedef 3001]
type = S
movetype = A
physics = N
velset = 0,0
juggle = IfElse(var(14)=3 && var(20)>0,0,8)
poweradd = 0
anim = 3001
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 40
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 80
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 40
trigger2 = time = 80
time = 5
add = 120,-80,-80
mul = 256,256,256

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 1
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time%12=0
attr = S,HA
animtype = up
damage = 112,12
getpower = 0,0
;givepower = 20,0
guardflag = M
hitflag = MAFP
pausetime = 0,8
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s24,0
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6,-8
air.velocity = -6,-8
air.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 80
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
id = 3001
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)<=0
trigger1 = time != 0
trigger1 = Command != "hold_x" && Command != "hold_y"
trigger2 = time >= 90
value = 3002

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)>0
trigger1 = EnemyNear,Pos Y-Vel Y*22-const(movement.yaccel)*22*23/2+EnemyNear,Vel Y*22+EnemyNear,const(movement.yaccel)*22*23/2>-125
trigger1 = time >= 45
trigger2 = time >= 90
trigger3 = EnemyNear,statetype!=A
trigger4 = EnemyNear,movetype!=H
trigger5 = EnemyNear,Pos Y-Vel Y*22-const(movement.yaccel)*22*23/2+EnemyNear,Vel Y*22+EnemyNear,const(movement.yaccel)*22*23/2>-125
trigger5 = EnemyNear(floor(fvar(4))),BackEdgeBodyDist>2 && EnemyNear(floor(fvar(4))),FrontEdgeBodyDist>2
trigger6 = p2bodydist x >= 20
trigger6 = EnemyNear,Pos Y-Vel Y*22-const(movement.yaccel)*22*23/2+EnemyNear,Vel Y*22+EnemyNear,const(movement.yaccel)*22*23/2>-125
value = 3002
;---------------------------------------------------------------------------
; MAX大蛇S(攻)
[Statedef 3002]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 3002
ctrl = 0

[State 0, 幻影时间控制]
type = AfterImageTime
trigger1 = time = 0
time = 30
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 3,<= 0
value = SCA

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 14

[State 0, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
trigger1 = AnimElem = 5,>= 0
x = -0.8

[State 0, VelSet]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2050,1
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = s2500,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2010
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
ID = 3003
StateNo = 3003
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, AfterImagetime]
type = AfterImagetime
trigger1 = AnimTime = 0
time = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;MAX大蛇S炎0
[Statedef 3003]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = root,var(8)>0
v = 8
value = root,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
ID = 3004
StateNo = 3004
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [3000,3010]
trigger2 = root,stateno = 4204
time = 1
facing = 1
pos = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HA
animtype = Hard
damage = 112,11
getpower = 0,0
;givepower = 120,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;MAX大蛇S炎20
[Statedef 3004]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = root,NumHelper(3003)
trigger1 = Parent,var(8)>0
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
ID = 3005
StateNo = 3005
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [3000,3010]
trigger2 = root,stateno = 4204
time = 1
facing = 1
pos = 20,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 112,11
getpower = 0,0
;givepower = 60,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;MAX大蛇S炎40
[Statedef 3005]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = root,NumHelper(3004)
trigger1 = Parent,var(8)>0
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
trigger1 = var(8)=1||var(8)=2
ID = 3006
StateNo = 3006
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [3000,3010]
trigger2 = root,stateno = 4204
time = 1
facing = 1
pos = 40,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 112,12
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;MAX大蛇S炎60
[Statedef 3006]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = root,NumHelper(3005)
trigger1 = Parent,var(8)>0
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, next]
type = Helper
trigger1 = time = 10
trigger1 = var(8)=2
ID = 3007
StateNo = 3007
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [3000,3010]
trigger2 = root,stateno = 4204
time = 1
facing = 1
pos = 60,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 100,10
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;MAX大蛇S炎80
[Statedef 3007]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VarSet]
type = VarSet
trigger1 = root,NumHelper(3006)
trigger1 = Parent,var(8)>0
v = 8
value = Parent,var(8)
ignorehitpause = 1

[State 0, BindToroot]
type = BindToroot
triggerall = root,movetype = A
trigger1 = root,stateno = [3000,3010]
trigger2 = root,stateno = 4204
time = 1
facing = 1
pos = 80,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HA
animtype = Hard
damage = 100,10
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 14
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;===========================================================================
;百八r式99LV2
[Statedef 3050]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 3050
ctrl     = 0
sprpriority = 3
facep2 = 1
poweradd = -2000



[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17100
pos = 5,-53
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17110
pos = 5,-53
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1950,0
channel = 0
;----------------------------------------------
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 92
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 130
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 92
trigger2 = time = 130
time = 5
add = 120,-80,-80
mul = 256,256,256

[State 0, HitDef]
type = HitDef
trigger1 = AnimElemTime(3)>=0
trigger1 = time%12=0
attr = S,HA
animtype = up
damage = 225,22
getpower = 0,0
;givepower = 20,0
guardflag = M
hitflag = MAFP
pausetime = 0,8
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s24,0
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6,-8
air.velocity = -6,-8
air.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 80
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
id = 3050
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, 沸腾]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "ft"
ID = 3052
stateno = 3052
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall =  AnimElemTime(3)>=0
trigger1 = var(59)<=0
trigger1 = Command != "hold_z"
trigger2 = animtime = 0
value = 3051
;---------------------------------------------------------------------------
; 百八r式99LV2
[Statedef 3051]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3051
ctrl     = 0
sprpriority = 3

[State 2051, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
trigger2 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10
trigger3 = AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 15
id = var(7) := 1112
stateno = 6000
pos = 40*floor(Const(size.xscale)),-65*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 2051, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1950,1
channel = 0

[State 2051,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s1950,2

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)<2
trigger1 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 225,22
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -2
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -2,-4
air.hittime = 12
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 3051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)<2
trigger1 = AnimElem = 15
attr = S, HA
animtype = up
damage    = 225,22
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = MA
pausetime = 30,30
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = High
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -5,-8
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -5,-8
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 3051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)>=2
trigger1 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 225,22
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = 
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -2
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -2,-4
air.hittime = 12
yaccel = .5
air.fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 3051

[State 2051, HitDef]
type = HitDef
trigger1 = var(8)>=2
trigger1 = AnimElem = 15
attr = S, HA
animtype = up
damage    = 225,22
getpower  = 0
;givepower = 10,10
hitflag = MAF
guardflag = 
pausetime = 30,30
sparkno = s30002
guard.sparkno = s30040
hitsound = s25,7
guardsound = s26,2
sparkxy = -15,-60
ground.type = High
ground.slidetime = 18
ground.hittime   = 18
ground.velocity  = -5,-8
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -5,-8
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
id = 3051

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(15)>=0
trigger1 = movehit = 1
trigger1 = numtarget(3051)
value = S24,2
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = animelemtime(15)>=0
trigger1 = movehit = 1
trigger1 = numtarget(3051)
time = 3
add = 80,80,80
mul = 256,256,256
sinadd = -80,-80,-80,15
ignorehitpause = 1
persistent = 0

[State 1100, Explod]
type = Explod
trigger1 = animelemtime(15)>=0
trigger1 = movehit = 1
trigger1 = numtarget(3051)
anim = 6505
postype = P2
pos = -10,-65
sprpriority = 10
scale = 1,1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 2051, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;沸腾(helper)
[Statedef 3052]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3052
SprPriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 4000,Afterimage]
type = Afterimage
trigger1 = time = 0
time = 999
trans = add1
timegap = 2
framegap = 3
length = 6
palbright = 8,8,8
palcontrast = 150,150,150
PalColor = root,var(36)
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno!=3050
ignorehitpause = 1
;---------------------------------------------------------------------------
; LV2百八r式
[Statedef 3100]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 3100
ctrl = 0
poweradd = -2000
facep2 = 1


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 8
anim = -1
time = 31
movetime = 31
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 8
anim = 17100
pos = -6,-52
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 8
anim = 17110
pos = -6,-52
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = s29, 1
;---------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s2100,0

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(5) = 0
id = 3101
stateno = 3101
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command = "hold_z"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2<=-65
value = 3102

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command != "hold_z"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-65
value = 3105
;---------------------------------------------------------------------------
;182拳头火焰1
[Statedef 3101]
ctrl = 0
anim = 9999
sprpriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim!=2112
value = 2112

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 120,120,120
palcolor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno!=3100
trigger1 = root,stateno!=3102
trigger1 = root,stateno!=4100
trigger1 = root,stateno!=4102
trigger2 = root,movetype=H
;---------------------------------------------------------------------------
; LV2百八r式(溜め)
[Statedef 3102]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 3102
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2100,4
Channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 12
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 23
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 12
trigger2 = AnimElem = 23
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2110
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = Command != "hold_z"
trigger1 = Command != "hold_z"
trigger2 = AnimTime = 0
trigger3 = var(59)>0
trigger3 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-55
value = 3105
;---------------------------------------------------------------------------
;182拳头火焰2
[Statedef 3103]
ctrl = 0
anim = 9999
sprpriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, miss]
type = ChangeAnim
trigger1 = time = 0
value = 2113
persistent = 0

[State 0, hit1]
type = ChangeAnim
trigger1 = root,Movecontact
trigger1 = root,animelemtime(7)>=0
trigger1 = root,animelemtime(9)<0
trigger1 = anim!=2114
value = 2114
ignorehitpause = 1
[State 0, hit2]
type = ChangeAnim
trigger1 = root,Movecontact
trigger1 = root,animelemtime(9)>=0
trigger1 = root,animelemtime(10)<0
trigger1 = anim!=2115
value = 2115
ignorehitpause = 1
[State 0, hit3]
type = ChangeAnim
trigger1 = root,Movecontact
trigger1 = root,animelemtime(10)>=0
trigger1 = root,animelemtime(11)<0
trigger1 = anim!=2116
value = 2116
ignorehitpause = 1

[State 0, hit1over]
type = ChangeAnim
trigger1 = root,HitPauseTime=0
trigger1 = root,animelemtime(7)>=0
trigger1 = root,animelemtime(8)<0
trigger1 = anim=2114
value = 2117
ignorehitpause = 1
[State 0, hit2over]
type = ChangeAnim
trigger1 = root,HitPauseTime=0
trigger1 = root,animelemtime(9)>=0
trigger1 = root,animelemtime(10)<0
trigger1 = anim=2115
value = 2118
ignorehitpause = 1
[State 0, hit3over]
type = ChangeAnim
trigger1 = root,HitPauseTime=0
trigger1 = root,animelemtime(10)>=0
trigger1 = root,animelemtime(11)<0
trigger1 = anim=2116
value = 2119
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 120,120,120
palcolor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno!=3105
trigger1 = root,stateno!=4105
trigger2 = root,movetype=H
trigger3 = animtime = 0
;---------------------------------------------------------------------------
; LV2百八r式(フィニッシュ)
[Statedef 3105]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 3105
ctrl = 0

[State 0, Width]
type = Width
trigger1 = AnimElem = 8
player = 20,0
edge = 20,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = AnimElem = 9
player = 30,0
edge = 30,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = AnimElem = 10
player = 40,0
edge = 40,0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = 3103
stateno = 3103
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2111
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
id = var(7) := 1102
stateno = 6000
pos = 97,-73
postype = p1
ownpal = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
Channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2100,2
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2100,5

[State 1400, PosAdd]
type = PosAdd
trigger1 = animelem = 8
trigger2 = animelem = 9
trigger3 = animelem = 10
trigger4 = animelem = 11
trigger5 = animelem = 12
trigger6 = animelem = 17
trigger7 = animelem = 18
x = 15

[State 1400, PosAdd]
type = PosAdd
trigger1 = animelem = 13
x = 8

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
trigger1 = var(8) = [0,1]
attr = S,HA
animtype = Hard
damage = 450,45
getpower = 0,0
;givepower = 180+var(8)*40,0
guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -6,-8
air.velocity = -6,-8
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
palfx.time = 75
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.ampl = -10
envshake.freq = 120
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.ampl = -4
fall.envshake.freq = 92
fall.envshake.phase = 92
id = 3105

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
trigger1 = var(8) >= 2
attr = S,HA
animtype = Hard
damage = 450,45
getpower = 0,0
;givepower = 180+var(8)*40,0
;guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -8,-10
air.velocity = -8,-10
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
palfx.time = 75
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 30
envshake.ampl = -10
envshake.freq = 120
envshake.phase = 120
fall.envshake.time = 10
fall.envshake.ampl = -4
fall.envshake.freq = 92
fall.envshake.phase = 92
id = 3105

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = numtarget(3105)
value = S24,2
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
trigger1 = numtarget(3105)
time = 3
add = 80,80,80
mul = 256,256,256
sinadd = -80,-80,-80,15
ignorehitpause = 1
persistent = 0

[State 1100, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = numtarget(3105)
anim = 6505
postype = P2
pos = 15,-80
sprpriority = 10
scale = 1,1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 百r拾参式灼焉lv2
[Statedef 3150]
type = S
movetype = A
physics = N
juggle = 8
velset = 0,0
anim = 3150
ctrl = 0
poweradd = IfElse(var(20)=0,-1000,0)

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElemtime(4) = 3
time = 30
movetime = 30
anim = -1
p2defmul = 1.0
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = PrevStateNo >= 1000
stateno = 8200
ID = 8200+(PrevStateNo >= 2000)
postype = left
supermovetime = 9999
pos = 0,0
ownpal = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(4) = [3,33]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1
;----------------------------------------
[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 3
time = 2
value = 255,255,255
under = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 5
time = 28
value = 0,0,0
under = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6101
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = -2
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6104
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = 10
scale = Const(size.xscale),Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(4) = 3
value = s29, 1
;----------------------------------------------------
[State 810,]
type = EnvShake
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%5 = 0
ampl = 5
freq = 95
time = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s193,0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%5 = 0
value = s24,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%5 = 0
trigger1 = random <= 500
value = s1000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%5 = 0
trigger1 = random <= 300
value = s2500,1
;-------------------------------------------------------------------------
[State 0, 大爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%10 = 0
anim = 6505
sprpriority = 4
postype = p2
pos = 0 ,-40*floor(Const(size.yscale))
random = 80,80
bindtime = 1
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 0, 小爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time % 2
anim = 6504
ID = 6504
sprpriority = 5
postype = p2
pos = 0,-50*floor(Const(size.yscale))
random = 80,80
ignorehitpause = 1
ownpal = 1
facing = -1

[State 0, 小爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time % 2
anim = 6503
ID = 6503
sprpriority = 5
postype = p2
pos = 0,-50*floor(Const(size.yscale))
random = 80,80
ignorehitpause = 1
ownpal = 1
facing = -1

[State 0, 小爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time % 2
anim = 6502
ID = 6502
sprpriority = 5
postype = p2
pos = 0,-50*floor(Const(size.yscale))
random = 80,80
ignorehitpause = 1
ownpal = 1
facing = -1

[State 0, 小爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time % 2
anim = 6501
ID = 6501
sprpriority = 5
postype = p2
pos = 0,-50*floor(Const(size.yscale))
random = 80,80
ignorehitpause = 1
ownpal = 1
facing = -1

[State 0, 小爆炸火花]
type = Explod
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time % 2
anim = 6500
ID = 6500
sprpriority = 5
postype = p2
pos = 0,-50*floor(Const(size.yscale))
random = 80,80
ignorehitpause = 1
ownpal = 1
facing = -1
;--------------------------------------------------------------------------
[State 3200 , 1]
type = Projectile
trigger1 = AnimElemtime(5)>= 0 && AnimElemtime(6)< 0
trigger1 = time%5 = 0
ProjID = 3151
projanim = 3151
projshadow = 128,128,128
projremove = 1
projremovetime = 30
velocity = 0,0
guardflag = M
hitflag = MAF
offset = 0,0
postype = P2
ProjHits = 1
attr = S, SP
animtype = up
getpower = 0,0
;givepower = 24,0
damage = 60,6
guardflag = M
pausetime = 0,3
sparkno = s30002
guard.sparkno = s30040
sparkxy = 15,-70
hitsound = -1
guardsound = s26,1
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = 0,-7
air.velocity = 0,-7.5
air.cornerpush.veloff = 0
yaccel = 0.45
fall = 1
fall.recover = 0
fall.yvelocity = 0
palfx.time = 58
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
id = 3151
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, AllPalFX]
type = AllPalFX
trigger1 = AnimElem = 5
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;==========================================================================
;MAX无式发动 
[Statedef 3200]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2401
ctrl     = 0
sprpriority = 5
poweradd = -2000
facep2 = 1



[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 3
anim = -1
time = 22
movetime = 22
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17100
pos = -16,-58
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17110
pos = -16,-58
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


;---------------------------------------------------
[State 0, Helper]
type = Helper
trigger1 = numhelper(77779)=0
trigger1 = time = 0
helpertype = normal
ID = 77779
stateno = 77779
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
persistent = 0

[State 0, HitBy]
type = HitBy
trigger1 = numhelper(77779)
trigger1 = var(11)!=1
value = SCA,AT,HP,HA
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = numhelper(77779)
trigger1 = var(11)=1
value = SCA,AT
time = 1
ignorehitpause = 1
;---------------------------------------------------------
[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1
;---------------------------------------------------------
[State 810,]
type = EnvShake
trigger1 = AnimElem = 7
ampl = 8
freq = 95
time = 20

[State 0, Helper]
type = Helper
trigger1 = Animelem = 7
id = 3207
stateno = 3207
pos = 80,0
postype = p1
ownpal = 1

[State 0, Width]
type = Width
trigger1 = AnimElem = 7
edge = 40,0

[State 0, Projectile]
type = Projectile
trigger1 = AnimElem = 7
projID = 3200
projanim = 2451
projremove = 0
projpriority = 5
projsprpriority = 10
projedgebound = 400
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 20
getpower = 0,0
;givepower = 40,0
ownpal = 1
offset = 80,0
velocity = 0,0
attr = S,HP
animtype = Hard
damage = 33,3
hitflag = MAFP
guardflag = M
hitsound = s24,0
guardsound = s26,2
pausetime = 0,2
sparkno = s30002
guard.sparkno = s30040
sparkxy = -45+(floor(P2BodyDist X)),-65+(floor(P2BodyDist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -3,-8
yaccel = .6
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 2430
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s24,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2400,0
channel = 0
volume = 255

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3201
;------------------------------------------------------------------
;MAX无式1
[Statedef 3201]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2402
ctrl     = 0
sprpriority = 5
poweradd = 0

[State 0, Width]
type = Width
trigger1 = 1
player = 20,0
edge = 20,0
;--------------------------------------------------------------
[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 4 | AnimElem = 5 | AnimElem = 6
trigger2 = AnimElem = 8 | AnimElem = 10 | AnimElem = 11
x = 10

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 9
x = 20

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 3
x = 30
;--------------------------------------------------------------
[State 1000, Helper]
type = Helper
trigger1 = AnimElemtime(1) = 0
trigger2 = AnimElemtime(1) = 8
trigger3 = AnimElemtime(1) = 16
name = "01"
stateno = 3204
ID = 3204
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2400,1
channel = 0
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = s20,4

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 11
id = var(7) := 2405
stateno = 6000
pos = 30,-16
postype = p1
ownpal = 1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = 33,3
getpower = 0,0
;givepower = 40,0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 24,26
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-60
hitsound = s25,10
guardsound = s26,2
ground.type = Low
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = 0
air.velocity = -5,-6
air.type = Low
air.hittime = 12
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time =5
envshake.freq =180
envshake.ampl =5
envshake.phase =120

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = target,stateno!=2431
value = 2431
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = s1000,1
persistent = 0
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3202
;------------------------------------------------------------------
;MAX无式2
[Statedef 3202]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2403
ctrl     = 0
sprpriority = 5
poweradd = 0

[State 0, Width]
type = Width
trigger1 = 1
player = 15,0
edge = 15,0

[State 1000, pos]
type = Posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
x = 8

[State 1000, Helper]
type = Helper
trigger1 = AnimElemtime(1) = 0
trigger2 = AnimElemtime(1) = 7
trigger3 = AnimElemtime(1) = 14
name = "02"
stateno = 3205
ID = 3205
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 1112
stateno = 6000
pos = 84,-72
postype = p1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s20,4

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 200, Hitdef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage = 33,3
getpower = 0,0
;givepower = 8,0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 14,20
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-67
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = 0
air.velocity = -3,-7
air.type = High
air.hittime = 12
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time =5
envshake.freq =180
envshake.ampl =5
envshake.phase =120

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = target,stateno!=2430
value = 2430
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = s1000,1
persistent = 0
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3203
;------------------------------------------------------------------
;MAX无式3
[Statedef 3203]
type     = A
movetype = A
physics  = N
juggle   = 0
velset   = 0,0
anim     = 2404
ctrl     = 0
sprpriority = 5
poweradd = 0

[State 0, Width]
type = Width
trigger1 = 1
player = 10,0
edge = 10,0
;--------------------------------------------
[State 1404, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 36
y = -5

[State 1402, VelSet]
type = VelSet
trigger1 = animelemtime(3) > 0 && animelemtime(6) < 0
x = 3

[State 1402, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0
persistent = 0

[State -2, Accel]
type = VelSet
trigger1 = animelem = 3
y = -7.787109375
[State -2, Accel]
type = VelSet
trigger1 = animelem = 6
y = 0
[State -2, Accel]
type = VelSet
trigger1 = animelemtime(6) = 1
y = -1.787109375

[State -2, VelAdd]
type = VelAdd
trigger1 = animelemtime(3) > 0 && animelemtime(6) < 0
trigger2 = animelemtime(6) > 1
y = 0.42578125
;--------------------------------------------
[State 1000, Helper]
type = Helper
trigger1 = AnimElemtime(1) = 0
trigger2 = AnimElemtime(1) = 6
trigger3 = AnimElemtime(1) = 12
name = "03"
stateno = 3206
ID = 3206
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 6
id = var(7) := 1010
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1
[State 0, Helper]
type = Helper
trigger1 = AnimElem = 9
id = var(7) := 1011
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 200, hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, HA
damage = 33,3
getpower = 0,0
;givepower = 8,0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,6
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-77
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -3,-8
air.velocity = -3,-8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 50
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time =3
envshake.freq =180
envshake.ampl =3
envshake.phase =120

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = A, HA
damage = 33,3
getpower = 0,0
;givepower = 40,0
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 42,43
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-77
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -3,-7
guard.velocity = -4
air.velocity = -3,-7
yaccel = .4
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 100
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 30
envshake.ampl = 5
envshake.freq = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = s1000,1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S20,4
ignorehitpause = 1

[State 1000, changestate]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3208
;---------------------------------------------------------------------------
; MAX无式一 helper
[Statedef 3204]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
velset = 0,0
anim = 2410
ctrl = 0
sprpriority = 5

[State 0, Width]
type = Width
trigger1 = 1
player = 20,0
edge = 20,0
;---------------------------------------------------------------
[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 3 | AnimElem = 4 | AnimElem = 5
trigger2 = AnimElem = 7 | AnimElem = 9 | AnimElem = 10
x = 10

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 8
x = 20

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 2
x = 30
;------------------------------------------------------------------
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, ParentVarAdd]
type = null;ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 0, PlaySnd]
type = PlaySnd
triggerall = AnimElem = 10
trigger1 = root,numtarget = 0
trigger2 = EnemyNear,statetype = L;以免覆盖招式语音
value = s20,4

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = null;AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S,HA
damage = 33,3
getpower = 0,0
;givepower = 12,0
animtype = Hard
guardflag = M
priority = 3,Hit
pausetime = 12,18
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-60
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 22
ground.hittime = 23
ground.velocity = 0
air.velocity = -5,-8
air.cornerpush.veloff = 0
yaccel = .6
air.type = Low
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 50
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;envshake.time =3
;envshake.freq =180
;envshake.ampl =3
;envshake.phase =120
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno!=[3200,3203]
;---------------------------------------------------------------------------
; MAX无式二 helper
[Statedef 3205]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
velset = 0,0
anim = 2411
ctrl = 0
sprpriority = 5

[State 0, Width]
type = Width
trigger1 = 1
player = 15,0
edge = 15,0

[State 1000, pos]
type = Posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
x = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 0, ParentVarAdd]
type = null;ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = AnimElem = 4
trigger1 = root,numtarget = 0
trigger2 = EnemyNear,statetype = L;以免覆盖招式语音
value = s20,4

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = null;AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S,HA
damage = 33,3
getpower = 0,0
;givepower = 8,0
animtype = Hard
guardflag = M
priority = 3,Hit
pausetime = 12,18
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-67
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = 0
air.velocity = -5,-8
air.cornerpush.veloff = 0
yaccel = .6
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 50
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time =3
envshake.freq =180
envshake.ampl =3
envshake.phase =120

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno!=[3200,3203]
;---------------------------------------------------------------------------
; MAX无式三 helper
[Statedef 3206]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
velset = 0,0
anim = 2412
ctrl = 0
sprpriority = 5

[State 0, Width]
type = Width
trigger1 = 1
player = 10,0
edge = 10,0
;---------------------------------------------------
[State 1402, VelSet]
type = VelSet
trigger1 = animelemtime(2) > 0
x = 3

[State -2, Accel]
type = VelSet
trigger1 = animelem = 2
y = -7.787109375

[State -2, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = 0.42578125
;---------------------------------------------------
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 0, ParentVarAdd]
type = null;ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S20,4
ignorehitpause = 1

[State -2,攻袅ρa正]
Type = null;AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S,HA
damage = 30,5
getpower = 0,0
;givepower = 8,0
animtype = Hard
guardflag = M
priority = 3,Hit
pausetime = 12,6
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-77
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 22
ground.hittime = 23
ground.velocity = 0
air.velocity = -5,-8
air.cornerpush.veloff = 0
yaccel = .6
air.type = Low
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 50
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time =3
envshake.freq =180
envshake.ampl =3
envshake.phase =120

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno!=[3200,3203]
;---------------------------------------------------------------------------
;大火柱 
[Statedef 3207]
ctrl = 0
anim = 6510
sprpriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 1000, 小火花飘散]
type = Explod
trigger1 = time = 30
anim = 4412
pos = 0,0
postype = p1
bindtime = 1
facing = 1
scale = 0.35*Const(size.xscale),0.5*Const(size.yscale)
sprpriority = 99
ontop = 1
ownpal = 1

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 1
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -10,-10,-10
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;落地
[Statedef 3208]
type = S
movetype = I
physics = S
anim = 2419
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s27,3

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 神尘LV2
[Statedef 3300]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 3300
ctrl = 0
poweradd = -2000
facep2 = 1


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 4
anim = -1
time = 24
movetime = 24
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17100
pos = 8,-58
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17110
pos = 8,-58
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = AnimElem = 3
trigger1 = var(20)>0
v = 20
value = -600



[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 3
value = s29, 1
;---------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 3
value = s2200,0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = s2200,3
channel = 0

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 3300

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 3300

[State 0, TargetBind]
type = TargetBind
trigger1 = numtarget(3300)
trigger1 = movehit = 1
time = 1
id = 3300
pos = 37,0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 3301
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 3300

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 3301
p2StateNo = 3310
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 3300

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 神尘爆LV2 
[Statedef 3301]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3301
sprpriority = 5
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s25,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,2

[State 0, 锁定对方State]
type = TargetState
trigger1 = numtarget
trigger1 = target,stateno!=3310
trigger1 = target,movetype=H
value = 3310
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 37,0

[State 0, 点燃(保持对方色表)火花出现]
type = Projectile
trigger1 = AnimElem = 5
projid = 3301
projanim = 1912
projedgebound = 400
projhitanim = -1
projremanim = -1
projremovetime = 1
projhits = 1
postype = p2
offset = 0,0
attr = S,HP
hitflag = MAFDP+
hitsound = -1
guardsound = -1
sparkno = -1
guard.sparkno = -1
ground.type = None
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
numhits = 0
kill = 0
getpower = 0,0
;givepower = 0,0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, 背景]
type = AllPalFX
trigger1 = AnimElem = 5
time = 20
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,70
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 6021
sprpriority = 5
postype = p1
pos = 36*floor(Const(size.xscale)),-77*floor(Const(size.yscale))
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 6505
sprpriority = 10
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
bindtime = 1
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)
;------------------------------
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=399
trigger4 = AnimElemTime(5) = 0 && random<=299
trigger5 = AnimElemTime(5) = 0 && random<=199
anim = 6504
ID = 6504
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=399
trigger4 = AnimElemTime(5) = 0 && random<=399
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6503
ID = 6503
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=499
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6502
ID = 6502
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=699
trigger5 = AnimElemTime(5) = 0 && random<=599
anim = 6501
ID = 6501
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=599
trigger5 = AnimElemTime(5) = 0 && random<=499
anim = 6500
ID = 6500
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
;------------------------------
[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(5) = 0
time = 30
ampl = -12
freq = 95
phase = 95

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(5) = 0
value = -56
kill = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3302
;---------------------------------------------------------------------------
;神尘连击LV2
[Statedef 3302]
type = S
movetype = A
physics = N
velset = 0,0
anim = 3302
sprpriority = 5
ctrl = 0
;毒罪荒荒毒罪P鬼
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2200,1
channel = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 66
value = s2200,2
channel = 0
;---------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10,>= 0
trigger1 = AnimElem = 11,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 52,>= 0
trigger1 = AnimElem = 53,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 16,>= 0
trigger1 = AnimElem = 17,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 58,>= 0
trigger1 = AnimElem = 59,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 26,>= 0
trigger1 = AnimElem = 27,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 40,>= 0
trigger1 = AnimElem = 41,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 64,>= 0
trigger1 = AnimElem = 65,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 66,>= 0
trigger1 = AnimElem = 67,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1
;----------------------------------------------------------------
[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 8

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 85
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(52) < 0
pos = 45,0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 46
trigger8 = AnimElem = 47
trigger9 = AnimElem = 48
trigger10 = AnimElem = 49
x = 8
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 50
trigger4 = AnimElem = 51
x = 16
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 14
trigger3 = AnimElem = 15
trigger4 = AnimElem = 16
trigger5 = AnimElem = 55
trigger6 = AnimElem = 56
trigger7 = AnimElem = 57
trigger8 = AnimElem = 58
x = 8
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 18
trigger2 = AnimElem = 19
trigger3 = AnimElem = 20
trigger4 = AnimElem = 21
x = 8
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 32
trigger2 = AnimElem = 33
trigger3 = AnimElem = 34
trigger4 = AnimElem = 35
x = 8
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 59
x = 16
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 60
x = -16
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 61
trigger2 = AnimElem = 62
trigger3 = AnimElem = 63
x = 8
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 63
x = 4
y = -6
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 66
x = 16

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 63
x = 6
y = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 63,>= 0
y = 0.4
[State 0, VelAdd]
type = VelAdd
trigger1 = Vel X >= 0
x = -0.4

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 63
value = A

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
trigger2 = AnimElem = 52
id = var(7) := 1102
stateno = 6000
pos = 96 ,-76
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 16
trigger2 = AnimElem = 58
id = var(7) := 1112
stateno = 6000
pos = 84 ,-72
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 26
trigger2 = AnimElem = 40
id = var(7) := 1102
stateno = 6000
pos = 96 ,-68
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 66
id = var(7) := 1010
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(68) = 0
id = var(7) := 1011
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 20,0
guardflag = M
pausetime = 4,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,0
air.velocity = -3,-3.5
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 52
attr = S,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 4,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,0
air.velocity = -3,-3.5
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 16
attr = S,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 8,0
guardflag = M
pausetime = 4,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-77
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -3.5,0
air.velocity = -3,-3.5
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 58
attr = S,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 4,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-77
hitsound = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -3.5,0
air.velocity = -3,-3.5
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 26
trigger2 = AnimElem = 40
attr = S,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 20,0
guardflag = M
pausetime = 4,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-67
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,0
air.velocity = -3,-3.5
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 64
attr = A,NA
animtype = Hard
damage = 56,5
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 11,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-77
hitsound = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -1,-8
air.velocity = -1,-8
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
palfx.time = 29
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 66
attr = A,NA
animtype = DiagUp
damage = 56,5
getpower = 0,0
;givepower = 60,0
guardflag = M
pausetime = 28,29
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-62
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-9.5
air.velocity = -5,-9.5
air.cornerpush.veloff = 0
air.juggle = 15
yaccel = .6
fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 20
envshake.ampl = -5
envshake.freq = 92
envshake.phase = 92
fall.envshake.time = 11
fall.envshake.ampl = -5
fall.envshake.freq = 92
fall.envshake.phase = 92
air.fall = 1
air.hittime = 0
id=3302

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1005
;-------------------------------------------------------------------------------
;投げられている相手
[Statedef 3310]
type = S
movetype = H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2210

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5000
;---------------------------------------------------------------------------
;击退 
[Statedef 3320]
type    = S
movetype= H
physics = S
velset = -10,0

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2220

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Mukai Freeze
[StateDef 3400]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2700
poweradd = -2000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 0
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17100
pos = -15,-56
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17110
pos = -15,-56
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 3020, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6600
id = 6600
sprpriority = -5
postype = back
pos = 0,0
scale = 1.06,1.075
bindtime = -1
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 9999
pausemovetime = 9999

[State 3400, PalFX]
type = PalFX
trigger1 = animelem =4
add = var(33),var(34),var(35)
sinadd = var(30),var(31),var(32),16
color = var(36)
time = 34
ignorehitpause = 1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2300,1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2500,3

[State 1112, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "colicion"
ID = 3401
stateno = 3401
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 0

[State 3200 , 1]
type = Projectile
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
trigger5 = animelem = 13
ProjID = 3400
projanim = 9998
projshadow = 128,128,128
projremove = 0
projremovetime = 6
projmisstime = 6
velocity = 0,0
hitflag = MAFP
offset = 0,0
postype = P2
ProjHits = 1
attr = S, HP
animtype = Med
getpower = 0,0
;givepower = 16,0
damage = 80,8
guardflag = M
pausetime = 0,0
sparkno = s30002
guard.sparkno = s30040
sparkxy = 10,-55
hitsound  = s25,2
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = 0
fall.recover = 0
air.fall = 1
yaccel = .42
palfx.time = 210
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 4100, 1]
type = TargetState
trigger1 = projhit3400 = 1
value = 3402

[State 4100, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
;当身效果 
[StateDef 3401]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 9998
poweradd = 0

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP
time = -1
ignorehitpause = 1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 3401
ignorehitpause = 1

[state 1000]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,AA,HP,AT
numhits = 0
sparkno = -1
hitsound = -1
p2stateno = 3402
ignorehitpause = 1

[state 1000, destroyself]
type = destroyself
Trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = parent,stateno != 3400 && parent,stateno !=4350
;-------------------------------------------------------------------------------
;击中定住 
[Statedef 3402]
type    = S
movetype= H
physics = S
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 1000, Pause]
type = Pause
trigger1 = winko = 0
trigger1 = time = [0,25]
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2620, lifeadd]
type = lifeadd
trigger1 = timemod = 30,0
trigger1 = time >= 1
Trigger1 = time <= 290
value = -15*enemynear,Const(data.defence)/100*enemynear,Const(data.life)/1000

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = 1
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5820

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper

[State 1830]
type = ChangeState
trigger1 = Animtime = 0
trigger2 = !life && !alive
trigger2 = time>=100
trigger3 = time>=1000
value = 817
;---------------------------------------------------------------------------
; 神威LV2发动 
[Statedef 3500]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 3500
ctrl = 0
poweradd = -2000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 3
anim = -1
time = 25
movetime = 25
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17100
pos = -9,-60
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17110
pos = -9,-60
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1
;------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s2600,0
Channel = 30

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Command = "hold_x"||Command = "hold_y"
value = 3501

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3502
;---------------------------------------------------------------------------
; 神威LV2蓄力 
[Statedef 3501]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 3501
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 60
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 110
v = 8
value = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2110
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1
size.xscale=Const(size.xscale)*1.1
size.yscale=Const(size.yscale)*1.1

[State 0, PalFX]
type = PalFX
trigger1 = time = 60
trigger2 = time = 110
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2100,4
Channel = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)<=0
trigger1 = time != 0
trigger1 = Command != "hold_a"
trigger1 = Command != "hold_b"
trigger1 = Command != "hold_c"
trigger1 = Command != "hold_x"
trigger1 = Command != "hold_y"
trigger1 = Command != "hold_z"
trigger2 = time >= 120
value = 3502

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)>0
trigger1 = time != 0
trigger2 = time >= 120
value = 3502
;---------------------------------------------------------------------------
; 神威LV2攻击 
[Statedef 3502]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 3502
ctrl = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 4
time = 25
ampl = -8
freq = 95
phase = 95

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 7,<= 0
value = SCA

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
Channel = 0
[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 4
Channel = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1600,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s2300,2

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2111
stateno = 6000
pos = 10*floor(Const(size.xscale)),0
postype = p1
ownpal = 1
size.xscale = 1.1*Const(size.xscale)
size.yscale = 1.1*Const(size.yscale)

[State 0, Fire]
type = Helper
trigger1 = AnimElem = 4
ID = 3510
stateno = 3510
ownpal = 1
postype = p1
pos = 78,0
size.xscale = 1.5*Const(size.xscale)
size.yscale = 1.5*Const(size.yscale)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 神威MAX(helper)
[Statedef 3510]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 3510
ctrl = 0
SprPriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 3000]
type = Projectile
triggerall = root,var(8)=[0,1]
trigger1 = animelemtime(2) >=0
trigger1 = animelemtime(8) <0
projID = 3510
projanim = 3511
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projremovetime = 15
projmisstime = 0
ProjHits = 1
getpower = 0,0
velocity = 3,0
;givepower = 40+root,var(8)*8,0
ownpal = 1
postype = P1
offset = 0, 0
attr = S, HP
animtype = Hard
damage = 55,4
hitflag = MAFD
guardflag = MA
hitsound = -1
guardsound = -1
pausetime = 0,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = 30+floor(p2bodydist x),-60 + (floor(p2bodydist Y))
ground.type = Low
ground.hittime = 15
ground.slidetime = 15
ground.velocity = -10
air.velocity = -7, -5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 3000]
type = Projectile
triggerall = root,var(8)>=2
trigger1 = animelemtime(2) >=0
trigger1 = animelemtime(8) <0
projID = 3510
projanim = 3511
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projremovetime = 15
projmisstime = 0
ProjHits = 1
getpower = 0,0
velocity = 3,0
;givepower = 40+root,var(8)*8,0
ownpal = 1
postype = P1
offset = 0, 0
attr = S, HP
animtype = Hard
damage = 55,4
hitflag = MAFD
guardflag = 
hitsound = -1
guardsound = -1
pausetime = 0,5
sparkno = s30002
guard.sparkno = s30040
sparkxy = 30+floor(p2bodydist x),-60 + (floor(p2bodydist Y))
ground.type = Low
ground.hittime = 15
ground.slidetime = 15
ground.velocity = -10
air.velocity = -7, -5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.ampl = 6; or 7

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 1
value = 20

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
; 虎豹连击LV2
[Statedef 3700]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 3700
ctrl = 0
sprpriority = 5
poweradd = -2000
facep2 = 1


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 32
movetime = 32
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17100
pos = 8,-67
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17110
pos = 8,-67
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600



[State 3700, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1
;----------------------------------------------------
[State 3700, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s20, 4

[State 3700, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 8

[State 3700, VelMul]
type = Veladd
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
x = -0.5

[State 3700, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3700, hitdef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 80,80
animtype  = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 16,16
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 19
ground.velocity = 0
guard.velocity = -9
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
p1facing = 1
p2facing = 1
envshake.time = 16
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id = 3700

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 3701
ctrl = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget(3700)
value = 2431
ID = 3700
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
movetype = I

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎豹连击击中LV2
[Statedef 3701]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 3701
ctrl = 0
sprpriority = 5
poweradd = 0
facep2 = 1

[State 3701, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3701, TargetBind]
type = TargetBind
Trigger1 = time = 0
pos = 60, 0

[State 3701, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s200,0
channel = 0

[State 3701, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s200,1
channel = 0

[State 3701, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = s210,1
channel = 0

[State 3701, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 6 || AnimElem = 15
value = s20,4

[State 2301, VelSet]
type = VelSet
trigger1 = AnimElem = 13
x = 7

[State 2301, VelMul]
type = VelMul
trigger1 = AnimElemTime(13) >= 0
x = .95

[State 2301, VelSet]
type = VelSet
trigger1 = AnimElem = 17
x = 0

[State 3701, hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 40,40
animtype  = Hard
air.animtype = back
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -70
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 27
ground.velocity = 0
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id = 3701

[State 3701,  HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 40,40
animtype  = Hard
air.animtype = back
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 17
ground.hittime = 27
ground.velocity = -6
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
id = 3701

[State 3701,  HitDef]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 40,40
animtype  = Hard
air.animtype = back
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 40
ground.hittime = 40
ground.velocity = -10
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 1
palfx.add = 0,0,0
id = 3701

[State 0, ChangeState]
type = ChangeState
triggerall = numtarget(3701)
triggerall = target(3701),alive = 0
trigger1 = AnimElemtime(6)>0 && AnimElemtime(7)<0
trigger2 = AnimElemtime(15)>0 && AnimElemtime(16)<0
value = 3703
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = roundstate = 2
trigger1 = animtime = 0 
value = 3702

[State 0, ChangeState]
type = ChangeState
trigger1 = roundstate!= 2
trigger1 = animtime = 0 
value = 0
;---------------------------------------------------------------------------
; 虎豹连击终结LV2
[Statedef 3702]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 3702
ctrl = 0
sprpriority = 5
poweradd = 0
facep2 = 1

[State 3702, Helper]
type = Helper
trigger1 = AnimElem = 8
id = var(7) := 1102
stateno = 6000
pos = 97,-70
postype = p1
ownpal = 1

[State 3702, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3702, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s210,2
channel = 0

[State 3702, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = s20,4

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 8

[State 3702, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 8

[State 3702, VelMul]
type = VelMul
trigger1 = AnimElemTime(6) >= 0
x = .9

[State 3702, VelSet]
type = VelSet
trigger1 = AnimElem = 12
x = 0

[State 3702,  HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 120,120
animtype = Diagup
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 32,32
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 19
ground.velocity = -9,-6
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -9,-6
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 32
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
palfx.time = 1
palfx.add = 0,0,0
id = 3702

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = numtarget(3702)
value = S24,2
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
trigger1 = numtarget(3702)
time = 3
add = 80,80,80
mul = 256,256,256
sinadd = -80,-80,-80,15
ignorehitpause = 1
persistent = 0

[State 1100, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = numtarget(3702)
anim = 6505
postype = P2
pos = -15,-60
sprpriority = 10
scale = 1,1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3702, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------------------------
; 虎豹连击KOLV2
[Statedef 3703]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
anim = 3703
ctrl = 0
sprpriority = 2
poweradd = 0
facep2 = 1

[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElemtime(1)>=0 && AnimElemtime(2)<0
pos = 39, -125
[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElemtime(2)>=0 && AnimElemtime(3)<0
pos = 27, -132
[State 2301, TargetBind]
type = TargetBind
Trigger1 = AnimElem = 3
pos = 27, -20

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemtime(1)>=0 && AnimElemtime(3)<0
value = 2302
ID = 3701
[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 3
value = 5050
ID = 3701

[State 3702, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 1102
stateno = 6000
pos = 97,-70
postype = p1
ownpal = 1

[State 3702, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3702, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s210,2
channel = 0

[State 3702, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s20,4

[State 3702, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 3702, VelMul]
type = VelMul
trigger1 = AnimElemTime(3) >= 0
x = .9

[State 3702, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 3702,  HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage    = 90,9
getpower  = 0
;givepower = 120,120
animtype = Diagup
guardflag = 
hitflag = MAF
priority = 4, Hit
pausetime = 32,32
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 17
ground.hittime = 19
ground.velocity = -9,-6
guard.velocity = -10
airguard.velocity = -4,-1
air.type = High
air.velocity = -9,-6
air.hittime = 12
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 32
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
palfx.time = 1
palfx.add = 0,0,0
id = 3703

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s25,5

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 6021
sprpriority = 5
postype = p1
pos = 39*floor(Const(size.xscale)),-125*floor(Const(size.yscale))
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
trigger1 = numtarget(3703)
value = S24,2
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
trigger1 = numtarget(3703)
time = 3
add = 80,80,80
mul = 256,256,256
sinadd = -80,-80,-80,15
ignorehitpause = 1
persistent = 0

[State 1100, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = numtarget(3703)
anim = 6505
postype = P2
pos = -15,-60
sprpriority = 10
scale = 1,1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3702, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------------------------
;空中大蛇SMAX
[Statedef 3800]
type     = A
movetype = A
physics  = N
juggle   = 0
velset   = 0,0
anim     = 3800
ctrl     = 0
sprpriority = 2
poweradd = -2000


[State 863, 1]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
time = 30
movetime = 30
darken = 0

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17100
pos = 4,-80
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17110
pos = 4,-80
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 70
under = 1
supermove = 1

[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -600


[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 1

[State 3000, ]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2800, Width]
type = Width
trigger1 = 1
edge = 25,0

[State 2800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2600,0
channel = 0

[State 2800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2600,1
channel = 0

[State 2800, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2500,1

[State 1]
type = velset
trigger1 = animelem=5,=1
x = -4
y = -4

[State 1]
type = veladd
trigger1 = animelem=5,>1
y = .55

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2010
stateno = 6000
pos = 0*floor(Const(size.xscale)),-15*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(3) = 0
id = 2801
stateno = 2801
pos = -50*floor(Const(size.xscale)),-55*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State  2800, Helper]
type = Helper
trigger1 = AnimElemTime(5)=0
ID = 3801
StateNo = 3801
pos = 0*floor(Const(size.xscale)),-15*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 2800, ChangeState]
type = ChangeState
trigger1 = animelem = 8,>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1505
;---------------------------------------------------------------------------
;空大蛇S炎MAX0
[Statedef 3801]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, next]
type = Helper
trigger1 = time = 10
ID = 3802
StateNo = 3802
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HA
animtype = Hard
damage = 200,20
getpower = 0,0
;givepower = 120,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 5
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;空大蛇S炎MAX20
[Statedef 3802]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, next]
type = Helper
trigger1 = time = 10
ID = 3803
StateNo = 3803
pos = 20,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HA
animtype = Hard
damage = 175,17
getpower = 0,0
;givepower = 120,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 5
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;空大蛇S炎MAX40
[Statedef 3803]
type = S
movetype = A
sprpriority = 4
physics = N
velset = 0,0
anim = 2015
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, Fire]
type = Helper
triggerall = root,numhelper(6001)=0
trigger1 = movehit = 1
ID = 6001
stateno = 6001
ownpal = 1
postype = p2
ignorehitpause = 1
persistent = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,HA
animtype = Hard
damage = 150,15
getpower = 0,0
;givepower = 120,0
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s24,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = MoveHit = 1
v = 1
value = 5
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -1
ignorehitpause = 1

[State 0, Pause]
type = Pause
triggerall = var(1) >= 1
triggerall = GameTime%2
trigger1 = roundstate = 2
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; LV3百八r式
[Statedef 4100]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4100
ctrl = 0
poweradd = -3000
facep2 = 1




[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 8
time = 31
movetime = 31
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 8
anim = 17200
pos = -6,-53
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 8
anim = 17210
pos = -6,-53
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1



[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = s29, 2
;---------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s2100,0

[State 0, Helper]
type = Helper
trigger1 = AnimElemTime(5) = 0
id = 3101
stateno = 3101
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command = "hold_s"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2<=-65
value = 4102

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = AnimTime = 0
trigger1 = Command != "hold_s"
trigger2 = var(59)>0
trigger2 = AnimTime = 0
trigger2 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-65
value = 4105
;------------------------------------------------------------------------------------------------------------------------------
; LV3百八r式(溜め)
[Statedef 4102]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 4102
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2100,4
Channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 12
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 23
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 12
trigger2 = AnimElem = 23
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -50,-50,-50,15

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2110
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = Command != "hold_s"
trigger2 = AnimTime = 0
trigger3 = var(59)>0
trigger3 = EnemyNear,Pos Y-Vel Y*7-const(movement.yaccel)*7*8/2+EnemyNear,Vel Y*7+EnemyNear,const(movement.yaccel)*7*8/2>-65
value = 4105
;---------------------------------------------------------------------------
; LV3百八r式(フィニッシュ)
[Statedef 4105]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 4105
ctrl = 0

[State 0, Width]
type = Width
trigger1 = AnimElem = 8
player = 20,0
edge = 20,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = AnimElem = 9
player = 30,0
edge = 30,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = AnimElem = 10
player = 40,0
edge = 40,0
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 1
time = 10
length = 6
timegap = 1
framegap = 1
palbright = 1,1,1
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1,1,1
trans = Add1

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = 3103
stateno = 3103
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2111
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
id = var(7) := 1102
stateno = 6000
pos = 97,-73
postype = p1
ownpal = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
Channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = s2100,2
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2100,5

[State 1400, PosAdd]
type = PosAdd
trigger1 = animelem = 8
trigger2 = animelem = 9
trigger3 = animelem = 10
trigger4 = animelem = 11
trigger5 = animelem = 12
trigger6 = animelem = 17
trigger7 = animelem = 18
x = 15

[State 1400, PosAdd]
type = PosAdd
trigger1 = animelem = 13
x = 8

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 7
attr = S,HA
animtype = Hard
damage = 100,10
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,4
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-8
air.velocity = -4,-8
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
envshake.time = 35
envshake.ampl = 10
envshake.freq = 270
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id=4102

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 9
attr = S,HA
animtype = Hard
damage = 100,10
getpower = 0,0
;givepower = 40,0
guardflag = M
pausetime = 44,45
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,4
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -4,-8
air.velocity = -4,-8
guard.hittime = 17
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
envshake.time = 35
envshake.ampl = 10
envshake.freq = 270
palfx.time = 1
palfx.add = 0,0,0
kill = 0
id=4102
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
trigger1 = var(8)=[0,1]
attr = S,HA
animtype = diagup
damage = 800+var(8)*200,70
getpower = 0,0
;givepower = 320+var(8)*80,0
guardflag = M
pausetime = 0,10
guard.pausetime = 10,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -14,-6
air.velocity = -14,-6
guard.hittime = 24
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
envshake.time = 35
envshake.ampl = 10
envshake.freq = 270
fall.envshake.time = 10
fall.envshake.ampl = -4
fall.envshake.freq = 92
fall.envshake.phase = 92
palfx.time = 80
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
kill = 1
id=4105

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
trigger1 = var(8)>=2
attr = S,HA
animtype = diagup
damage = 800+var(8)*200,70
getpower = 0,0
;givepower = 320+var(8)*80,0
guardflag = 
pausetime = 0,10
guard.pausetime = 10,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-80
hitsound = s25,6
guardsound = s26,2
ground.type = Low
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -14,-6
air.velocity = -14,-6
guard.hittime = 24
guard.velocity = -10
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
yaccel = .6
envshake.time = 35
envshake.ampl = 10
envshake.freq = 270
fall.envshake.time = 10
fall.envshake.ampl = -4
fall.envshake.freq = 92
fall.envshake.phase = 92
palfx.time = 80
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
kill = 1
id=4105

[State 0, TargetState]
type = TargetState
trigger1 = movehit
trigger1 = numtarget(4105)
trigger1 = target(4105),stateno!=[5700,5703]
value = 5700
ID = 4105
ignorehitpause = 1
persistent = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = movehit = 1
trigger1 = numtarget(4105)
time = 3
add = 80,80,80
mul = 256,256,256
sinadd = -80,-80,-80,15
ignorehitpause = 1
persistent = 0

[State 1100, Explod]
type = Explod
trigger1 = movehit = 1
trigger1 = numtarget(4105)
anim = 6505
postype = P1
pos = 85,-65
sprpriority = 10
scale = 1,1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, 减慢] 
type = VarSet
trigger1 = numtarget(4105)
trigger1 = target(4105),stateno = 5702
v = 1
value = 20
ignorehitpause = 1
persistent = 0

[State 4000, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;神尘LV3
[Statedef 4200]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4200
ctrl = 0
poweradd = -3000
facep2 = 1
sprpriority = 5



[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 3
time = 28
movetime = 28
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17200
pos = 6,-55
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17210
pos = 6,-55
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = AnimElem = 3
trigger1 = var(20)>0
v = 20
value = -1500


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s29, 2
;---------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2250,0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = s2250,3
channel = 0

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 4215
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 4200

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 2
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p2StateNo = 4215
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 4200

[State 0, TargetBind]
type = TargetBind
trigger1 = numtarget(4200)
trigger1 = movehit = 1
time = 1
id = 4200
pos = 37,0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo != [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo != [150,159]
attr = S,HT
hitflag = M
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 4201
p2StateNo = 4215
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 4200

[State 0, HitDef]
type = HitDef
triggerall = PrevStateNo = [2000,4999]
trigger1 = animelem = 5
trigger1 = p2StateNo = 5000||p2StateNo = 5020||p2StateNo = 5640||p2StateNo = 3310||p2StateNo = 4215
trigger1 = p2StateNo != [150,159]
attr = S,HT
damage = 0,0
priority = 1,Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1StateNo = 4201
p2StateNo = 4215
guard.dist = 0
kill = 0
forcestand = 1
numhits = 0
id = 4200

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;神尘爆LV3
[Statedef 4201]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4201
sprpriority = 5
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s25,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s24,2

[State 0, 锁定对方State]
type = TargetState
trigger1 = numtarget
trigger1 = target,stateno!=4215
trigger1 = target,movetype=H
trigger1 = AnimElemTime(5)<0
value = 4215
ignorehitpause = 1

[State 0, 锁定对方State击退]
type = TargetState
trigger1 = numtarget
trigger1 = target,movetype=H
trigger1 = AnimElemTime(5)=0
value = 3320
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(5)<0
pos = 37,0

[State 0, 点燃(保持对方色表)火花出现]
type = Projectile
trigger1 = AnimElem = 5
projid = 4201
projanim = 1912
projedgebound = 400
projhitanim = -1
projremanim = -1
projremovetime = 1
projhits = 1
postype = p2
offset = 0,0
attr = S,HP
hitflag = MAFDP+
hitsound = -1
guardsound = -1
sparkno = -1
guard.sparkno = -1
ground.type = None
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
numhits = 0
kill = 0
getpower = 0,0
;givepower = 0,0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, 背景]
type = AllPalFX
trigger1 = AnimElem = 5
time = 20
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,70
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 6021
sprpriority = 5
postype = p1
pos = 36*floor(Const(size.xscale)),-77*floor(Const(size.yscale))
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 6505
sprpriority = 10
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
bindtime = 1
supermove = 1
under = 0
scale = Const(size.xscale),Const(size.yscale)
;------------------------------
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=399
trigger4 = AnimElemTime(5) = 0 && random<=299
trigger5 = AnimElemTime(5) = 0 && random<=199
anim = 6504
ID = 6504
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0 && random<=399
trigger4 = AnimElemTime(5) = 0 && random<=399
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6503
ID = 6503
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=499
trigger5 = AnimElemTime(5) = 0 && random<=399
anim = 6502
ID = 6502
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=699
trigger5 = AnimElemTime(5) = 0 && random<=599
anim = 6501
ID = 6501
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
[State 3691, 2]
type = Explod
trigger1 = AnimElemTime(5) = 0
trigger2 = AnimElemTime(5) = 0
trigger3 = AnimElemTime(5) = 0
trigger4 = AnimElemTime(5) = 0 && random<=599
trigger5 = AnimElemTime(5) = 0 && random<=499
anim = 6500
ID = 6500
sprpriority = 5
postype = p1
pos = 55*floor(Const(size.xscale)),-70*floor(Const(size.yscale))
random = 60,60
ignorehitpause = 1
ownpal = 1
facing = -1
;------------------------------
[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(5) = 0
time = 30
ampl = -12
freq = 95
phase = 95

[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElemTime(5) = 0
value = 40
[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(5) = 0
value = -Ceil(100*Const(data.attack)/100*fvar(2)*enemynear,Const(data.defence)/100*enemynear,Const(data.life)/1000)
kill = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4202
;---------------------------------------------------------------------------
;神尘连击LV3
[Statedef 4202]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 4202
ctrl     = 0
sprpriority = 5

[State 0, 第二种]
type = ChangeAnim
triggerall = time = 0
triggerall = anim!=4204
trigger1 = var(59)< 0
trigger1 = Command = "hold_s"
trigger2 = var(59)> 0
trigger2 = power<=2000
trigger2 = var(20)=0
trigger2 = random<=499
value = 4204
ignorehitpause = 1

[State 170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 10
time = 60
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 20
trigger3 = AnimElem = 30
trigger4 = AnimElem = 40
trigger5 = AnimElem = 47
trigger6 = AnimElem = 55
trigger7 = AnimElem = 60
trigger8 = AnimElem = 64
value = s20,3

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2250,1
channel = 0
;---------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10,>= 0
trigger1 = AnimElem = 11,< 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 20,>= 0
trigger1 = AnimElem = 21,< 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 30,>= 0
trigger1 = AnimElem = 31,< 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 40,>= 0
trigger1 = AnimElem = 41,< 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 47,>= 0
trigger1 = AnimElem = 48,<= 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 55,>= 0
trigger1 = AnimElem = 56,< 0
trigger1 = MoveHit = 1
value = s24,0
persistent = 0
channel = 10
ignorehitpause = 1
;-------------------------------------------------------------
[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(52) < 0
pos = 45,0

[State 210, Width]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (4) <= 0
trigger2 = AnimElemTime (19) >= 0 && AnimElemTime (21) <= 0
edge = 50,0

[State 210, Width]
type = Width
trigger1 = AnimElemTime (4) >= 0 && AnimElemTime (12) <= 0
trigger2 = AnimElemTime (21) >= 0 && AnimElemTime (29) <= 0
trigger3 = AnimElemTime (36) >= 0 && AnimElemTime (53) <= 0
edge = 30,0

[State 210, Width]
type = Width
trigger1 = AnimElemTime (12) >= 0 && AnimElemTime (14) <= 0
edge = 25,0

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 49 | AnimElem = 50
x = 5

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 4 | AnimElem = 5 | AnimElem = 6
trigger2 = AnimElem = 8 | AnimElem = 10 | AnimElem = 11 | AnimElem = 12
trigger3 = AnimElem = 13 | AnimElem = 14 | AnimElem = 15 | AnimElem = 16
trigger4 = AnimElem = 21 | AnimElem = 22 | AnimElem = 23 | AnimElem = 25
trigger5 = AnimElem = 27 | AnimElem = 28 | AnimElem = 29 | AnimElem = 30
trigger6 = AnimElem = 31 | AnimElem = 32 | AnimElem = 33 | AnimElem = 37
trigger7 = AnimElem = 39 | AnimElem = 40 | AnimElem = 42 | AnimElem = 43
trigger8 = AnimElem = 44 | AnimElem = 45 | AnimElem = 52
x = 5

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 3
trigger2 = AnimElem = 19 | AnimElem = 20
x = 15

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 26
x = 20

[State 1000, Velset]
type = Velset
trigger1 = anim = 4202
trigger1 = AnimElemtime(56) > 0
x = 2.6

[State 1000, Velset]
type = Velset
trigger1 = anim = 4202
trigger1 = AnimElem = 60
y = -3.7

[State 1000, VelAdd]
type = VelAdd
trigger1 = anim = 4202
trigger1 = AnimElemtime(60) > 0
x = -.07
y = .3

[State 6000, 3]
type = StateTypeSet
trigger1 = anim = 4202
trigger1 = AnimElem = 60
statetype = A

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 19
trigger2 = AnimElem = 39
id = var(7) := 1102
stateno = 6000
pos = 96*floor(Const(size.xscale)),-68*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 46
id = var(7) := 1112
stateno = 6000
pos = 72*floor(Const(size.xscale)),-80*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
trigger2 = AnimElem = 30
id = var(7) := 1102
stateno = 6000
pos = 96*floor(Const(size.xscale)),-76*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 55
id = var(7) := 1122
stateno = 6000
pos = 72*floor(Const(size.xscale)),-64*floor(Const(size.yscale))
postype = p1
ownpal = 1

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
getpower = 0
damage = 80,8
;givepower = 32,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-65
hitsound = s25,2
guardsound = s26,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 80,8
;givepower = 32,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-70
hitsound = s25,2
guardsound = s26,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 30
attr = S, HA
getpower = 0
damage = 80,8
;givepower = 32,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-65
hitsound = s25,2
guardsound = s26,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 40
attr = S, HA
getpower = 0
damage = 80,8
;givepower = 32,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-70
hitsound = s25,2
guardsound = s26,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 47
attr = S, HA
getpower = 0
damage = 50,5
;givepower = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-70
hitsound = s25,2
guardsound = s26,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 55
attr = S, HA
getpower = 0
damage = 50,5
;givepower = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25,-60
hitsound = s25,2
guardsound = s26,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
palfx.time = 40
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 0, HitDef]
type = HitDef
trigger1 = anim = 4202
trigger1 = AnimElem = 60
attr = A,SA
animtype = Hard
getpower = 0
;givepower = 28,0
damage = 70,10
guardflag = M
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-70
hitsound = s25,4
guardsound = s26,1
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .45
guard.hittime = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = -7
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 0, HitDef]
type = HitDef
trigger1 = anim = 4202;第一种
trigger1 = AnimElem = 64
attr = A,SA
animtype = Hard
getpower = 0
;givepower = 28,0
damage = 70,10
guardflag = M
pausetime = 12,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-70
hitsound = s25,4
guardsound = s26,1
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -2.3,-9
guard.velocity = -10
air.velocity = -2.2,-9
yaccel = .5
guard.hittime = 16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 15
envshake.ampl = -7
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4202

[State 0, HitDef]
type = HitDef
trigger1 = anim = 4204;第二种
trigger1 = AnimElem = 62
attr = A,SA
animtype = Hard
getpower = 0
;givepower = 60,0
damage = 150,15
guardflag = M
pausetime = 10,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = -15,-70
hitsound = s25,7
guardsound = s26,2
guard.velocity = -10
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -14,-6
air.velocity = -14,-6
yaccel = .6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 4
envshake.ampl = -4
envshake.freq = 92
envshake.phase = 92
kill = 0
id = 4204

[State 0, TargetState]
type = TargetState
trigger1 = anim = 4204
trigger1 = movehit
trigger1 = numtarget(4204)
trigger1 = target(4204),stateno!=[5700,5703]
value = 5705
ID = 4204
persistent = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = anim = 4202
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 4203

[State 1000, ChangeState]
type = ChangeState
trigger1 = anim = 4204
trigger1 = animtime = 0
value = 4205
;---------------------------------------------------------------------------
;神尘连击落地LV3
[Statedef 4203]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 4203
ctrl     = 0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, 1]
type = PlaySnd
trigger1 = time = 0
value = s27,3

[State 170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4204
ctrl = 0
;---------------------------------------------------------------------------
; 神尘大蛇Slv3
[Statedef 4204]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 3002
ctrl = 0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 1
FrameGap = 1
trans = Add
length = 10
time = 30
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 14

[State 0, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
trigger1 = AnimElem = 5,>= 0
x = -0.8

[State 0, VelSet]
type = VelSet
trigger1 = Vel X <= 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2250,2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = s2500,1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
id = var(7) := 2010
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
ID = 3003
StateNo = 3003
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 2

[State 0, AfterImagetime]
type = AfterImagetime
trigger1 = AnimTime = 0
time = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 神尘灼焉lv3
[Statedef 4205]
type = S
movetype = A
physics = N
juggle = 8
velset = 0,0
anim = 4205
ctrl = 0
poweradd = IfElse(var(20)=0,-3000,0)

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElemtime(4) = 3
time = 30
movetime = 30
anim = -1
p2defmul = 1.0
darken = 0
;----------------------------------------
[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 3
time = 2
value = 255,255,255
under = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemtime(4) = 5
time = 28
value = 0,0,0
under = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6102
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = -2
scale = Const(size.xscale),Const(size.yscale)

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(4) = 3
anim = 6105
pos = 1*floor(Const(size.xscale)),-131*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = 10
scale = Const(size.xscale),Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(4) = 3
value = s29, 2
;----------------------------------------------------
[State 810,]
type = EnvShake
trigger1 = animelem = 5
ampl = 10
freq = 80
time = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2250,2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(5)= 0
value = s24,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemtime(5)= 5
value = s24,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
ID = 4210
StateNo = 4210
pos = 0,0
postype = p2
ownpal = 1

[State 0, 爆炸背景]
type = AllPalFX
trigger1 = animelem = 5
time = 20
add = 200,200,200
mul = 256,256,256
sinadd = -256,-256,-256,150
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;大火柱(跟踪) 
[Statedef 4210]
ctrl = 0
anim = 6510
sprpriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add1
alpha = 100,250

[State 1000, 小火花飘散]
type = Explod
trigger1 = time = 30
anim = 4412
pos = 0,0
postype = p1
bindtime = 1
facing = 1
scale = 0.35*Const(size.xscale),0.5*Const(size.yscale)
sprpriority = 99
ontop = 1
ownpal = 1

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 1
FrameGap = 1
trans = Add
length = 10
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -10,-10,-10
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 0, 爆发project]
type = Projectile
trigger1 = time = 0
projID = 4803
projanim = 2451
projremove = 0
projpriority = 5
projsprpriority = 10
projedgebound = 400
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 999
projremovetime = 35
getpower = 0,0
;givepower = 160,0
ownpal = 1
offset = 0,0
velocity = 0,0
attr = S,HP
hitflag = MAFDP
animtype = Hard
damage = 300,30
guardflag = 
hitsound = s24,0
guardsound = s26,2
pausetime = 0,0
sparkno = s30002
guard.sparkno = s30040
sparkxy = 20+(floor(P2BodyDist X)),-65+(floor(P2BodyDist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -2.4,-32
yaccel = .5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 160
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 5710
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
;投げられている相手
[Statedef 4215]
type = S
movetype = H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2215

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5000
;---------------------------------------------------------------------------
; 伍百伍拾伍式-神威
[Statedef 4300]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4300
ctrl = 0
poweradd = -3000
facep2 = 1
sprpriority = 5



[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 3
time = 25
movetime = 25
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17200
pos = -10,-59
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 3
anim = 17210
pos = -10,-59
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500

[State 0, 蓄力清空]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, 走不进墙角]
type = Width
trigger1 = 1
edge = 60,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s2300,0
channel = 30

[State 1605,3]
type = helper
trigger1 = animelem = 3
stateno = 4303
ID = 4303
pos = 8,0
postype = p1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)<=0
triggerall = AnimTime = 0
trigger1 = Command = "hold_a"
trigger2 = Command = "hold_b"
trigger3 = Command = "hold_c"
trigger4 = Command = "hold_x"
trigger5 = Command = "hold_y"
trigger6 = Command = "hold_z"
value = 4301

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4302
;---------------------------------------------------------------------------
; 伍百伍拾伍式-神威?ため
[Statedef 4301]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
poweradd = 0
anim = 4301
ctrl = 0
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 60
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 110
v = 8
value = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 60
trigger2 = time = 110
time = 5
add = 120,-80,-80
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2100,4
Channel = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2110
stateno = 6000
pos = 0,0
postype = p1
ownpal = 1
size.xscale=Const(size.xscale)*1.1
size.yscale=Const(size.yscale)*1.1

[State 1605,3]
type = helper
trigger1 = animelem = 1
stateno = 4304
ID = 4304
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)<=0
trigger1 = time != 0
trigger1 = Command != "hold_a"
trigger1 = Command != "hold_b"
trigger1 = Command != "hold_c"
trigger1 = Command != "hold_x"
trigger1 = Command != "hold_y"
trigger1 = Command != "hold_z"
trigger2 = time >= 120
value = 4302

[State 0, ChangeState]
type = ChangeState
triggerall = var(59)>0
trigger1 = EnemyNear,Pos Y-Vel Y*12-const(movement.yaccel)*12*13/2+EnemyNear,Vel Y*12+EnemyNear,const(movement.yaccel)*12*13/2>-65
trigger2 = time >= 120
value = 4302
;---------------------------------------------------------------------------
; 伍百伍拾伍式-神威(フィニッシュ)
[Statedef 4302]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
poweradd = 0
anim = 4302
ctrl = 0
sprpriority = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 4
time = 20
ampl = -8
freq = 95
phase = 95

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 5,<= 0
value = SCA

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 6
Channel = 0
[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 4
Channel = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s2300,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s2300,2

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 4
v = 1
value = 45

[State 0, Helper]
type = Helper
trigger1 = time = 0
id = var(7) := 2111
stateno = 6000
pos = 10*floor(Const(size.xscale)),0
postype = p1
ownpal = 1
size.xscale=Const(size.xscale)*1.1
size.yscale=Const(size.yscale)*1.1

[State 1605,3]
type = helper
trigger1 = animelem = 1
stateno = 4320
ID = 4320
pos = 15*floor(Const(size.xscale)),0
postype = p1
keyctrl = 0
ownpal = 1
size.xscale= 0.9*Const(size.xscale)
size.yscale= 0.9*Const(size.yscale)

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;=====================================================
;神威火焰 
[Statedef 4303]
type = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 4303
sprpriority = 6

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 8,0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 4
time = 9999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 1020, 0]
type = afterimagetime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 1010, 0]
type = destroyself
trigger1 = root,stateno != 4300
ignorehitpause = 1
persistent = 0
;=========================================================
;神威火焰
[Statedef 4304]
type = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 4304
sprpriority = 6

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 8,0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 4
time = 9999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 1020, 0]
type = afterimagetime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 4000, 0]
type = HitOverride
trigger1 = Time = 0
attr = SCA,AA,AP,AT
slot = 0
Time = -1

[State 1010, 0]
type = destroyself
trigger1 = root,stateno != 4301
ignorehitpause = 1
persistent = 0
;============================================================
;神威火焰喷射 
[Statedef 4320]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 4320
sprpriority = 6

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = AnimElemTime(3) < 0
time = 1
pos = 15,0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 35,0

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 4
time = 9999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -8,-8,-8
PalMul = .9,.9,.9
sprpriority = 10
ignorehitpause = 1

[State 1020, 0]
type = Afterimagetime
trigger1 = 1
time = 999999
ignorehitpause = 1

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 3200 , 1]
type = Projectile
triggerall = root,var(8)=[0,1]
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(18) <= 0
trigger1 = time%2 = 0
ProjID = 4320
projanim = 4321
projshadow = 0,0,0
projremove = 0
projcancelanim = -1
projhitanim = -1
projremanim = -1
projremovetime = 12
projmisstime = 0
velocity = 5,0
hitflag = MAFDP
offset = 40, 0
postype = P1
ProjHits = 1
attr = S, HP
animtype = hard
getpower = 0,0
;givepower = 30+root,var(8)*6,0
damage = 75+root,var(8)*15,7
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-55 + (floor(p2bodydist Y))
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -12,-7
air.velocity = -12,-7
down.velocity = -3,-5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -12
fall.recover = 0
fall = 1
air.fall = 1
yaccel = .54
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 4
envshake.freq = 180
envshake.ampl = 4
fall.envshake.time = 12
fall.envshake.freq = 180
fall.envshake.ampl = 4
hitonce = 0

[State 3200 , 1]
type = Projectile
triggerall = root,var(8)>=2
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(18) <= 0
trigger1 = time%2 = 0
ProjID = 4320
projanim = 4321
projshadow = 0,0,0
projremove = 0
projcancelanim = -1
projhitanim = -1
projremanim = -1
projremovetime = 12
projmisstime = 0
velocity = 5,0
hitflag = MAFDP
offset = 40, 0
postype = P1
ProjHits = 1
attr = S, HP
animtype = hard
getpower = 0,0
;givepower = 30+root,var(8)*6,0
damage = 75+root,var(8)*15,7
guardflag = 
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = floor(p2bodydist x),-55 + (floor(p2bodydist Y))
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -12,-7
air.velocity = -12,-7
down.velocity = -3,-5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -12
fall.recover = 0
fall = 1
air.fall = 1
yaccel = .54
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 4
envshake.freq = 180
envshake.ampl = 4
fall.envshake.time = 12
fall.envshake.freq = 180
fall.envshake.ampl = 4
hitonce = 0

[State 1010, 0]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 0
;-------------------------------------------------------------------------------
;Mukai Freeze MAX
[StateDef 4350]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4350
poweradd = -3000




[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 1
time = 40
;movetime = 20
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17200
pos = -16,-55
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 17210
pos = -16,-55
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 3020, Explod]
type = Explod
trigger1 = animelem = 4
anim = 4351
id = 4351
sprpriority = -5
postype = back
pos = 0,0
scale = 1.06,1.075
bindtime = -1
ownpal = 1
removeongethit = 1
supermove = 1
supermovetime = 9999
pausemovetime = 9999

[State 3400, PalFX]
type = PalFX
trigger1 = animelem =4
add = var(33),var(34),var(35)
sinadd = var(30),var(31),var(32),16
color = var(36)
time = 115
ignorehitpause = 1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2300,1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2500,3

[State 1112, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "colicion"
ID = 3401
stateno = 3401
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 0

[State 3200 , 1]
type = Projectile
trigger1 = time%3 = 0
trigger1 = animelemtime(4)>=0
trigger1 = animelemtime(6)<0
ProjID = 4350
projanim = 9998
projshadow = 128,128,128
projremove = 0
projremovetime = 1
projmisstime = 1
velocity = 0,0
hitflag = MAFDP
offset = 0,0
postype = P2
ProjHits = 1
attr = S, HP
animtype = diagup
getpower = 0,0
;givepower = 16,0
damage = 40,1
guardflag = M
pausetime = 0,10
sparkno = s30002
guard.sparkno = s30040
sparkxy = 10,-55
hitsound  = s25,2
guardsound = s26,2
ground.type = High
ground.slidetime = 18
ground.hittime = 20
ground.velocity = -10,-10
air.velocity = -10,-10
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .42
palfx.time = 70
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 4100, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;十拳发动 
[Statedef 4400]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4400
ctrl = 0
poweradd = -3000
facep2 = 1



[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
movetime = 40
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17200
pos = -18,-59
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 17210
pos = -18,-59
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 2

[State 0, neomax黑背景]
type = Helper
trigger1 = time = 0
stateno = 8151
ID = 8151
pos = 0,0
postype = left
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State 0, 手焰]
type = Explod
trigger1 = animelem = 3
anim = 4406
pos = 4*floor(Const(size.xscale)),0*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
sprpriority = 6
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)

[State 0, 火焰]
type = Explod
trigger1 = animtime = -6
anim = 4405
pos = -10*floor(Const(size.xscale)),-10*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 7
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = s4400,5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = s4400,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = s4400,0
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4401
ctrl = 0
;---------------------------------------------------------------------------
;十拳-攻击 
[Statedef 4401]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4401
ctrl = 0
facep2 = 1

[State 0, 冲刺火焰]
type = Explod
trigger1 = animelem = 2
anim = 4411
pos = 0,0
postype = p1
bindtime = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 10
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(2)>=0
x = 30
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(1)=0
value = S4400,6
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(1)=0
value = S4400,7
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(2)=0
value = S24,4
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = animelemtime(2)>=0
trigger1 = MoveContact!
attr = S, HA
damage = 900+abs(var(15)*9099),9
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = s30002
guard.sparkno = s30040
sparkxy = -25, -70
hitsound = s25,7
guardsound = s26,2
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = 0
air.hittime = 12
air.fall = 1
fall.recovertime = 60
air.cornerpush.veloff = 0
envshake.time = 20
envshake.ampl = -20
envshake.freq = 170
getpower = 0,0
;givepower = 360,0
palfx.time = 165
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, Helper]
type = Helper
trigger1 = numhelper(4405)=0
trigger1 = animelemtime(2)>=0
trigger1 = movehit = 1
trigger1 = numtarget
helpertype = normal
name = "hy"
ID = 4405
stateno = 4405
pos = 0,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale=Const(size.xscale)
size.yscale=Const(size.xscale)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 0, TargetState]
type = TargetState
trigger1 = animelemtime(2)>=0
trigger1 = movehit = 1
trigger1 = numtarget
value = 4404
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
trigger1 = animelemtime(2)>=0
trigger1 = movehit = 1
trigger1 = numtarget
value = 4403
ctrl = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 20
value = 4402
ctrl = 0
;---------------------------------------------------------------------------
;十拳miss
[Statedef 4402]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 0
anim = 4402
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = S4400,2
channel = 0

[state 33]
type = velset
trigger1 = time = 0
x = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;十拳-击中 
[Statedef 4403]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4403
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nokoslow
flag2 = nomusic

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1 
value = SCA

[State 0, 黑背景]
type = Helper
trigger1 = time = 0
stateno = 8100
ID = 8110
pos = 0,0
postype = left
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State 0, Helper]
type = Helper
trigger1 = numhelper(4405)=0
trigger1 = time = 0
helpertype = normal
name = "hy"
ID = 4405
stateno = 4405
pos = 0,0
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale=0.5*Const(size.xscale)
size.yscale=0.5*Const(size.yscale)

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 30
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S4400,1
abspan = 0
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;十拳被击中 
[Statedef 4404]
type = L
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 4404

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, selfState]
type = selfState
trigger1 = animtime = 0
trigger1 = alive
value = 5120
ctrl = 0
[State 0, selfState]
type = selfState
trigger1 = animtime = 0
trigger1 = alive!
value = 5150
ctrl = 0
;-------------------------------------------------------------------------------
;十拳(爆炸helper) 
[Statedef 4405]
type = S
movetype = I
physics = N
velset = 0,0
juggle = 0
anim = 4407
ctrl = 0
SprPriority = 7

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = [0,20]
time = 89
add = time*2,time*2,time*2
mul = 256,256,256

[state a]
type = varset
trigger1 = time = 0
v = 10
value = 0

[state a]
type = varadd
trigger1 = time >=1
v = 10
value = 2

[state a]
type = angledraw
trigger1 = time >=0
trigger1 = time <16
scale = Const(size.xscale)*0.5+var(10)*0.025,Const(size.xscale)*0.5+var(10)*0.025

[state a]
type = angledraw
trigger1 = time >=16
scale = Const(size.xscale)*0.5+30*0.025,Const(size.xscale)*0.5+30*0.025

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S4400,8
abspan = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S4400,3
abspan = 0

[State 0, Trans]
type = Trans
trigger1 = time<=40
trans = add
alpha = 256,256
ignorehitpause = 1
[State 0, Trans]
type = Trans
trigger1 = time>40
trans = addalpha
alpha = 0,256
ignorehitpause = 1

[State 1000, 一屏幕火]
type = Explod
trigger1 = time = 15
anim = 4408
pos = 0,-17
postype = left
bindtime = 1
scale = 0.5*Const(size.xscale),1.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
;------------------------------------------------------------------
[State 1000, 着火一1]
type = Explod
trigger1 = time = 110
anim = 4409
pos = -30,0
postype = p2
bindtime = 1
facing = 1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
[State 1000, 着火二2]
type = Explod
trigger1 = time = 110
anim = 4410
pos = 30,0
postype = p2
bindtime = 1
facing = -1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
[State 1000, 着火一3]
type = Explod
trigger1 = time = 110
anim = 4410
pos = -60,0
postype = p2
bindtime = 1
facing = 1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
[State 1000, 着火二4]
type = Explod
trigger1 = time = 110
anim = 4409
pos = 60,0
postype = p2
bindtime = 1
facing = -1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
[State 1000, 小火花飘散]
type = Explod
trigger1 = time = 110
anim = 4412
pos = -45,0
postype = p2
bindtime = 1
facing = 1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1
[State 1000, 小火花飘散]
type = Explod
trigger1 = time = 110
anim = 4412
pos = 45,0
postype = p2
bindtime = 1
facing = -1
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99
ontop = 1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = root,stateno!=4403
;---------------------------------------------------------------------------
; 天丛云发动 
[Statedef 4500]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4500
ctrl = 0
poweradd = -3000
facep2 = 1



[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 6
time = 40
;movetime = 20
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 6
anim = 17200
pos = -6,-73
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 6
anim = 17210
pos = -6,-73
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s4500,0
channel = 0

[State 0, 火圈]
type = Explod
trigger1 = animelem = 2
anim = 4503
pos = 8*floor(Const(size.xscale)),7*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
ownpal = 1
sprpriority = 5

[State 0, ChangeState]
type = ChangeState
trigger1 = animelemtime(9)>=2
value = 4502
ctrl = 0
;---------------------------------------------------------------------------
; 天丛云MISS结束
[Statedef 4501]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4501
ctrl = 0
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4400,2
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天丛云攻击 
[Statedef 4502]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4502
ctrl = 0
poweradd = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4504
pos = 50*floor(Const(size.xscale)),-95*floor(Const(size.yscale))
postype = p1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5*Const(size.xscale),0.5*Const(size.yscale)
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "4510"
ID = 4510
stateno = 4510
pos = 50*floor(Const(size.xscale)),-95*floor(Const(size.yscale))
postype = p1
facing = 1
ownpal = 1
size.xscale=0.5*Const(size.xscale) 
size.yscale=0.5*Const(size.yscale) 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4500,2

[State 0, ChangeState]
type = ChangeState
trigger1 = projhit4511 = 1
trigger1 = numtarget
value = 4503
ctrl = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 4501
;---------------------------------------------------------------------------
; 天丛云攻击命中 
[Statedef 4503]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4502
ctrl = 0
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S4500,1
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 82
value = 4504
;---------------------------------------------------------------------------
; 天丛云命中结束
[Statedef 4504]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4501
ctrl = 0
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天丛云火球helper
[Statedef 4510]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 4505
ctrl = 0
poweradd = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 7
ignorehitpause = 1

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[state a]
type = velset
trigger1 = 1
x = 24

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1
;----------------------------------------
;boss 
[State 0, AngleDraw]
type = AngleDraw
trigger1 = root,var(15)=1
ignorehitpause = 1
[State 0, AngleSet]
type = AngleSet
trigger1 = root,var(15)=1
trigger1 = Vel x != 0
value = Atan(fvar(1)/Vel x)*(-180.0/pi)+((Vel x<0)*180)
ignorehitpause = 1
[State 0, 上下速度]
type = VarSet
trigger1 = root,var(15)=1
fv = 1
value = (p2bodydist Y-95)/3
ignorehitpause = 1
[state b,低于/上浮] 
type = velset
trigger1 = time>=1
trigger1 = root,var(15)=1
trigger1 = p2bodydist Y < 95
y = -abs(fvar(1))
[state b,高于/下落] 
type = velset
trigger1 = time>=1
trigger1 = root,var(15)=1
trigger1 = p2bodydist Y > 95
y = abs(fvar(1))
;-------------------------------------------------------
[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
trigger1 = EnemyNear,MoveType = H
Trigger1 = root,fvar(2)>0.3
Trigger1 = EnemyNear,StateNo = [5000,5999]
fv = 2
value = -0.05

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = time = 0
attr = A, HP
animtype  = hard
damage    = 150,15
priority = 4, Hit
getpower = 0,0
;givepower = 60,0
guardflag = M
pausetime = 0,0
sparkno = s30002
sparkxy = -20,0
hitsound   = s24,3
guard.sparkno = s30040
guardsound = s26,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.1,-7.2
air.velocity = -4.7,-6.2
yaccel = 0.52
fall = 1
fall.recover = 0
kill = 0
palfx.time =30
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 12
envshake.ampl = 6; or 7

[State 710,SHADOW]
type = AfterImage 
trigger1 = time = 0
TimeGap = 2
FrameGap = 1
trans = Add
length = 8
time = 999
PalBright = 18,18,18
PalContrast = 96,96,96
PalColor = root,var(36)
PalAdd = -12,-12,-12
PalMul = .85,.85,.85
sprpriority = 10
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 99999
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "4511"
ID = 4511
stateno = 4511
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 
persistent = 0

[State 200, 7]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 天丛云火柱helper
[Statedef 4511]
type = S
movetype = A
physics = N
velset = 0,0
juggle = 0
anim = 9999
ctrl = 0
poweradd = 0

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[state a]
type = posset
trigger1 = time = 0
trigger1 = facing = 1
x = -160
y = 0

[state a]
type = posset
trigger1 = time = 0
trigger1 = facing = -1
x = 160
y = 0

[State -2,攻袅ρa正]
Type = AttackMulSet
Trigger1 = 1
value = root,fvar(2)
ignorehitpause = 1

[State 3200 , 1]
type = Projectile
trigger1 = time%6 = 0
trigger1 = time<=48
ProjID = 4511
projanim = 9998
projshadow = 0,0,0
projremove = 0
projremovetime = 20
projmisstime = 0
velocity = 0,0
guardflag = 
hitflag = MAFDP
offset = 0, 0
postype = P2
ProjHits = 1
attr = A, HP
animtype = hard
getpower = 0,0
;givepower = 40,0
damage = 100,10
guardflag = M
pausetime = 0,4
sparkno = s30002
guard.sparkno = s30040
sparkxy = 5,-70
hitsound = s24,3
guardsound = s26,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.1,-7.2
air.velocity = -4.7,-5.2
yaccel = 0.42
fall.recover = 0
fall = 1
air.fall = 1
palfx.time = 58
palfx.sinadd = root,var(30),root,var(31),root,var(32),16
palfx.add = root,var(33),root,var(34),root,var(35)
palfx.color = root,var(36)
envshake.time = 8
envshake.freq = 75
envshake.ampl = -9
envshake.phase = 75

[State 0, 击中]
type = PlaySnd
trigger1 = time%10 = 0
trigger1 = time<=60
trigger1 = random<=499
value = S24,5

[State 0, 火柱声]
type = PlaySnd
trigger1 = time%30 = 0
trigger1 = time<=60
value = S24,4

[State 0, 火花]
type = Explod
trigger1 = time%5 = 0
trigger1 = time<=60
anim = 4507
pos = -180,-90
postype = p1
bindtime = -1
ownpal = 1
sprpriority = 8
random = 15,15
scale = 1.5*Const(size.xscale),1.5*Const(size.yscale) 
trans = addalpha
alpha = 256,256

[State 0, 火柱]
type = Explod
trigger1 = time%10 = 0
trigger1 = time<=60
anim = 4506
pos = 0,40
postype = p1
bindtime = 1
ownpal = 1
sprpriority = 7
random = 15,15
scale = 1.5*Const(size.xscale),1.5*Const(size.yscale) 
trans = addalpha
alpha = 256,256

[State 0, 火柱向前移动]
type = VelSet
trigger1 = 1
x = 7

[State 200, 7]
type = destroyself
trigger1 = time >= 61
;-------------------------------------------------------------------------------
; 火加巨锤
[Statedef 4800]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 4800
ctrl     = 0
sprpriority = 3
poweradd = -3000
facep2 = 1




[State 2000, 2]
type = SuperPause
trigger1 = AnimElem = 2
time = 31
movetime = 31
anim = -1

[State 1700, 3]
type = PlaySnd
trigger1 = time = 1
value = 17000,1

[State 1700, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 17000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = nofg

[State 210, Hyper bg Explod]
type = Explod
trigger1 = !time
removetime = 109
id =6090
anim = 16090
pos = 0,0
postype = Left
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
scale = .5,.5

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = time <= 40
value = SCA,NA,SA,HA,NP,SP,HP

[State 863, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 17200
pos = -14,-56
postype = p1
sprpriority = -2
supermove = 1
bindtime = 1
scale = .5,.5

[State 863, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 17210
pos = -14,-56
postype = p1
sprpriority = 9
persistent = 0
supermove = 1
bindtime = 1
scale = .5,.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3000,黑色底色]
type = Envcolor
trigger1 = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 109
under = 1
supermove = 1


[state a]
type = varadd
trigger1 = time = 0
trigger1 = var(20)>0
v = 20
value = -1500



[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s29, 2
;========================================================
[State 0, Helper]
type = Helper
trigger1 = Time = 0
ID = 2000
StateNo = 2010
pos = 22,-120
postype = p1
supermovetime = 999999
pausemovetime = 999999
ownpal = 1
sprpriority = 2

[State 0, Afterimage]
type = Afterimage
trigger1 = AnimElem = 5
time = 25
length = 8
palbright = 0,0,0
palcontrast = 128,128,128
PalColor = var(36)
paladd = 0,0,0
palmul = 1,1,1
framegap = 2
trans = add1

[State 810, Width]
type = Width
trigger1 = 1
edge = 50,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s28,0
loop = 1
channel = 6

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1600,0
channel = 0

[State 1000, Velset]
type = Velset
trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(18) <= 0
x = 9

[State 1000, Velset]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(18) < 0
trigger1 = p2bodydist X < 40
trigger1 = EnemyNear,Pos Y-Vel Y*2-const(movement.yaccel)*2*3/2+EnemyNear,Vel Y*2+EnemyNear,const(movement.yaccel)*2*3/2>-60
value = 4801

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;火加巨锤撞击 
[Statedef 4801]
type     = S
movetype = A
physics  = S
juggle   = 1
poweradd = 0
ctrl     = 0
anim     = 4801
sprpriority = 5

[State -2, AfterImage]
type = AfterImage
trigger1 = AnimTime = 0
time = 1

[State 810, Width]
type = Width
trigger1 = 1
edge = 30,0

[State 1000, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s20,4

[State 1000, Velset]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 0, 背景]
type = AllPalFX
trigger1 = Movehit = 1
time = 3
add = 50,50,50
mul = 256,256,256
sinadd = -50,-50,-50,15
ignorehitpause = 1
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 100, 10
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -60
hitsound = s25,7
guardsound = s26,2
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,0
air.type = High
air.velocity = -5,-5
air.hittime = 12
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = 3
envshake.freq = 90
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)
kill = 0
id=4801
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = target,stateno!=2430;站立硬直动作2430
value = 2430
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimElemtime(2) >= 0
trigger1 = movehit = 1
value = SCA
time = 50
ignorehitpause = 1

[State 210, ChangeState]
type = ChangeState
trigger1 = Movecontact
value = 4802

[State 210, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;火加巨锤抓取 
[Statedef 4802]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 4802
sprpriority = 5

[State 810, Width]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 50,0

[State 1000, Velset]
type = Velset
trigger1 = AnimElem = 4
x = 9

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 5 || AnimElem = 9 || AnimElem = 11
x = 10

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 4
x = 20

[State 1000, Posadd]
type = Posadd
trigger1 = AnimElem = 10
x = 30

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
damage = 50,5
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11,12
sparkno = s30002
guard.sparkno = s30040
sparkxy = -20, -60
hitsound = s25,3
guardsound = s26,2
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -5
air.type = High
air.velocity = -5,-5
air.hittime = 30
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = 3
envshake.freq = 90
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)
kill = 0
snap = 20,0
id=4802
envshake.time = 12
envshake.ampl = 6; or 7

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HT
damage = 0
animtype = hard
hitflag = MAF
guardflag = M
sparkno = s6021
guard.sparkno = s30040
sparkxy = -35,-90
hitsound = S25,5
guardsound = s26,2
pausetime = 0,0
guard.pausetime = 1,5
ground.hittime = 10
ground.type = low
ground.slidetime = 10
ground.velocity = -5
air.velocity = -4,-4
air.fall = 1
air.juggle = 10
air.hittime = 30
p1stateno = 4803
p2stateno = 4805
kill = 0
palfx.time = 350
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
guard.cornerpush.veloff = -5
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -20
snap = 45,-90
hitonce = 0
id=4802
envshake.time = 12
envshake.ampl = 6; or 7

[State x]
type = PosAdd
trigger1 = AnimElem = 8
trigger1 = FrontEdgeBodyDist < 80
X = -80 + FrontEdgeBodyDist

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 210, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;火加巨锤爆发 
[Statedef 4803]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 4803
sprpriority = 5

[State ]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State ]
type = Width
trigger1 = 1
edge = 50,0

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
pos = 45*Const(size.xscale), -90*Const(size.yscale) 

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(4) < 0
pos = 40*Const(size.xscale), -120*Const(size.yscale) 

[State 0, 锁定对方State]
type = ReversalDef
trigger1 = AnimElemtime(4) < 0
reversal.attr = S,NA
sparkno = -1
hitsound = -1
ignorehitpause = 1

[State 0, 锁定对方State]
type = TargetState
trigger1 = numtarget
trigger1 = target,stateno!=4805;火加巨锤被抓取
trigger1 = target,movetype=H
trigger1 = AnimElemtime(4) < 0
value = 4805
ignorehitpause = 1

[State 0, 唔唔唔唔唔!!!]
type = PlaySnd
trigger1 = AnimElemtime(3) = 0
value = S2600,0

[State 0, 燃烧]
type = PlaySnd
trigger1 = AnimElemtime(3) = 3
value = S2500,3

[State 0, 燃烧吧！]
type = PlaySnd
trigger1 = AnimElemtime(3) = 150;160
value = S2600,1

[State 0, 爆炸]
type = PlaySnd
trigger1 = AnimElemtime(4) = 0
value = S24,2
[State 0, 爆炸]
type = PlaySnd
trigger1 = AnimElemtime(4) = 5
value = S24,1

[State 0,减慢] 
type = VarSet
trigger1 = AnimElemtime(4) = 10
v = 1
value = 0
ignorehitpause = 1
persistent = 0

[State 0, 沸腾]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "ft"
ID = 4804
stateno = 4804
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale=1*Const(size.xscale) 
size.yscale=1*Const(size.yscale) 
ignorehitpause = 1

[State 0, 爆炸大火柱]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "bz"
ID = 3207
stateno = 3207
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale=1.3*Const(size.xscale) 
size.yscale=1.3*Const(size.yscale) 
ignorehitpause = 1

[State 0, 点燃(保持对方色表)无需ID]
type = Projectile
trigger1 = AnimElemtime(3) >= 0
trigger1 = AnimElemtime(4) < 0
trigger1 = numtarget
trigger1 = time%16 = 0
projanim = 1912
projedgebound = 400
projhitanim = -1
projremanim = -1
projremovetime = 1
projhits = 1
postype = p2
offset = 0,40
attr = S,HP
hitflag = MAFDP+
hitsound = -1
guardsound = -1
sparkno = -1
guard.sparkno = -1
ground.type = None
palfx.time = 60
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
numhits = 0
kill = 0
getpower = 0,0
;givepower = 0,0
envshake.time = 12
envshake.ampl = 6; or 7

[State 0, 爆发project]
type = Projectile
trigger1 = AnimElem = 4
projID = 4803
projanim = 2451
projremove = 0
projpriority = 5
projsprpriority = 10
projedgebound = 400
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 999
projremovetime = 35
getpower = 0,0
;givepower = 144,0
ownpal = 1
offset = 0,0
velocity = 0,0
attr = S,HP
hitflag = MAFDP
animtype = Hard
damage = 300,30
guardflag = 
hitsound = s24,6
guardsound = s26,2
pausetime = 0,0
sparkno = s30002
guard.sparkno = s30040
sparkxy = 20+(floor(P2BodyDist X)),-65+(floor(P2BodyDist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -2.4,-32
yaccel = .5
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 160
palfx.sinadd = var(30),var(31),var(32),16
palfx.add = var(33),var(34),var(35)
palfx.color = var(36)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 5710
envshake.time = 12
envshake.ampl = 6; or 7

[State 810,]
type = EnvShake
trigger1 = AnimElemtime(3) >= 0
trigger1 = AnimElemtime(4) < 0
trigger1 = time%3 = 0
ampl = 2
freq = 100
time = 185

[State 810,]
type = EnvShake
trigger1 = animelem = 4
ampl = 10
freq = 80
time = 40

[State 0, Explod]
type = Explod
trigger1 = AnimElemtime(3) >= 0
trigger1 = AnimElemtime(4) < 0
trigger1 = time%3=0
anim = 6501
ID = 6501
pos = 0,30
postype = p2
random = 60,60
removetime = -2
scale = 1*Const(size.xscale) ,1*Const(size.yscale) 
sprpriority = 10
ownpal = 1
ignorehitpause = 1

[State 0, 背景]
type = AllPalFX
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = random <= 60
time = 3
add = 70,70,70
mul = 256,256,256
sinadd = -70,-70,-70,15
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
value = -1
kill = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(4) = 10
value = 5710
ignorehitpause = 1

[State ]
type = PlayerPush
trigger1 = 1
value = 0

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;沸腾(helper)
[Statedef 4804]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 4804
SprPriority = 10

[State 1993]
Type = SelfState
Trigger1 = !IsHelper
Value = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 4000,Afterimage]
type = Afterimage
trigger1 = time = 0
time = 999
trans = add1
timegap = 2
framegap = 3
length = 6
palbright = 8,8,8
palcontrast = 150,150,150
PalColor = root,var(36)
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(3) = 96
value = 4805
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(3) = 144
value = 4806
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(3) = 160
value = 4807
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 4803
trigger1 = root,animelem = 5
trigger2 = root,stateno!=4803
ignorehitpause = 1
;---------------------------------------------------------------------------
;火加巨锤被抓取 
[Statedef 4805]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4808

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time>=500
value = -2
kill = 1
absolute = 1
ignorehitpause = 1

[State 1830]
type = changestate
trigger1 = time >= 1000
value = 5710
