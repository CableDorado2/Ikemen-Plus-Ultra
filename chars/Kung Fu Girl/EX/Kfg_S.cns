[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2
poweradd = 120

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 1

[State 1000]
type = Helper
trigger1 = animelem = 1
stateno = 1055
id = 1055
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 1051

;---------------------------------------------------------------------------
[Statedef 1051]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 2

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 1056
id = 1056
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;±ÕΩ≈-∞≠
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1070
ctrl = 0
sprpriority = 2
poweradd = 120

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 1

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 10550
id = 1055
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1050, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1053

;---------------------------------------------------------------------------
[Statedef 1053]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1080
ctrl = 0
sprpriority = 2

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 1057
id = 1057
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;±ÕΩ≈º“»Ø-æ‡
[Statedef 1055]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 3

[State 1000]
type = Explod
trigger1 = AnimElem = 4
anim = 1095
pos = 0,0
;postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 0

[STate 1055]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;±ÕΩ≈º“»Ø-∞≠
[Statedef 10550]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1011
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000]
type = Explod
trigger1 = AnimElem = 4
anim = 1095
pos = 0,0
;postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 0

[STate 1055]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;±ÕΩ≈πﬂªÁ-æ‡
[Statedef 1056]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[STate 1056]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[STate 1056]
type = HitOverRide
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 1059

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 65
trans = add1
timegap = 2
framegap = 4
length = 15
palbright = 12,12,12
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 0,0,5
palmul = 1,1,1

[State 3000, 2]
type = VelSet
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 7
trigger4 = Animelem = 8
trigger5 = Animelem = 9
trigger6 = Animelem = 10
trigger7 = Animelem = 11
trigger8 = Animelem = 12
x = 7

[State 1056, 1]
type = hitDef
trigger1 = time = 0
attr = A, SP
animtype  = Hard
damage    = 120, 12
guardflag = MA
pausetime = 9,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -40
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 5

[STate 1056]
type=ChangeState
trigger1 = MoveContact
trigger2 = Time >= 70
trigger3 = frontedgebodydist < -50
value = 1058

;---------------------------------------------------------------------------
;±ÕΩ≈πﬂªÁ-∞≠
[Statedef 1057]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1030
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 150
trans = add1
timegap = 2
framegap = 4
length = 20
palbright = 12,12,12
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[STate 1056, hitby]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[STate 1056, hitoverride]
type = HitOverRide
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 1059

[State 3000, 2]
type = Velset
trigger1 = 1
x = 2.7

[State 3000, 2]
type = VelSet
trigger1 = Animelem = 5
trigger2 = Animelem = 17
y = -1
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 6
trigger2 = Animelem = 7
trigger3 = Animelem = 18
trigger4 = Animelem = 19
y = -3
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 8
trigger2 = Animelem = 9
trigger3 = Animelem = 10
trigger4 = Animelem = 20
trigger5 = Animelem = 21
trigger6 = Animelem = 22
y = -8
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 11
trigger2 = Animelem = 23
y = 1
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 12
trigger2 = Animelem = 13
trigger3 = Animelem = 24
trigger4 = Animelem = 25
y = 3
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 14
trigger2 = Animelem = 15
trigger3 = Animelem = 16
trigger4 = Animelem = 26
trigger5 = Animelem = 27
trigger6 = Animelem = 28
y = 7

[State 1056, 1]
type = hitDef
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 11
trigger4 = Animelem = 12
trigger5 = Animelem = 17
trigger6 = Animelem = 18
trigger7 = Animelem = 23
trigger8 = Animelem = 24
attr = A, SP
animtype  = Hard
damage    = 30,3
guardflag = MA
pausetime = 9,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -40
hitsound = s1,5
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -8,-3

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 7

[STate 1056]
type=ChangeState
trigger1 = Time >= 150
trigger2 = frontedgebodydist < -50
value = 1058

;---------------------------------------------------------------------------
;±ÕΩ≈ ªÁ∂Û¡ˆ±‚
[Statedef 1058]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 6

[STate 1058]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;±ÕΩ≈ π⁄ªÏ
[Statedef 1059]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 2

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000, 3

[STate 1059]
type=DestroySelf
trigger1=animtime=0

[Statedef 1030]
type = S
movetype = A
physics = S
anim = 1060
juggle = 8
ctrl = 0
poweradd = 120

[State 1200] ;¿Â«≥
type = Projectile
trigger1 = AnimElem = 6
projanim = 1020 ;¿Â«≥∏º«
projhitanim = 1050 ;∏Ì¡ﬂ ∏º«
projID = 1000
offset = 0, 0
velocity = 6, 0
attr = S, SP
damage = 100,10
animtype = H
guardflag = MA
hitflag = MA
guard.pausetime = 0, 15
pausetime = 0, 10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -40
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 16
ground.hittime = 18
guard.ctrltime = 20
ground.velocity = -10
air.velocity = -4.6, -5
air.fall = 1

[State 1200] ;º’ø°º≠ º°
type = Explod
trigger1 = AnimElem = 1
anim = 1015
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1200]
type = Explod
trigger1 = AnimElem = 3
anim = 1095
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1200]
type = PlaySnd
trigger1 = Time = 0
value = 1000, 1

[State 1200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 4

[State 1200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;º’πŸ¥⁄-æ‡
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 12

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 3

[State 1400, 5]
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype = A
attr = S, SA
animtype  = Hard
damage    = 100,10
guardflag = MA
pausetime = 9,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -15,-60
hitsound   = s1,1
guardsound =s2,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5
air.velocity = -5,-3
air.fall = 1
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 18

[State 1400, 5]
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 110,11
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -15,-60
hitsound   = s1,1
guardsound =s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = Fifelse(StageVar(info.author) = "water",21,125)
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;º’πŸ¥⁄-∞≠
[Statedef 1150]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1150
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 15

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 6

[State 1400, 5]
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype = A
attr = S, SA
animtype  = Hard
damage    = 110,11
guardflag = MA
pausetime = 9,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -15,-60
hitsound   = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5
air.velocity = -5,-3
air.fall = 1
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 18

[State 1400, 6]
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 100,10
guardflag = MA
pausetime = 9,15
sparkno = S30002
guard.sparkno = S30040
sparkxy = -15,-60
hitsound   = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 17
ground.velocity = -7
air.velocity = -4,-2.5
envshake.time = 20
envshake.ampl = -4
envshake.freq = 50
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = Fifelse(StageVar(info.author) = "water",21,125)
pos = 0,0
postype = p1
sprpriority = 2
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ƒÙ»ƒ¥œ-æ‡
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1050, 2]
type = null
trigger1 = AnimElem = 2
x = 15

[State 1050, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 40,4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -25, -70
hitsound = s1,3
guardsound = s2,3
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7
air.velocity = -2.5,-5
yaccel = .45
air.type = High
air.hittime = 12
air.fall = 1
fall.recover = 0

[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1205
;---------------------------------------------------------------------------
[Statedef 1205]
type    = A
movetype= A
physics = N
velset = 2,-6
anim = 1205
hitdefpersist = 1

[State 1051, 1]
type = VelAdd
trigger1 = 1
y = .45

[State 1051, 2]
type = ChangeState
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(6) < 0
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
value = 1215

[State 1051, 3] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1210
;---------------------------------------------------------------------------
;¬¯¡ˆ
[Statedef 1210]
type    = S
movetype= I
physics = S
anim = 1210
sprpriority = 1
velset = 0,0

[State 1052, 1] ;Reset y-position to ground level
type = PosSet
trigger1 = Time = 0
y = 0

[State 1052, 3] ;Give KFM back control early
type = CtrlSet
trigger1 = AnimElem = 3, -1
value = 1

[State 1052, 4]
type = PosAdd
trigger1 = AnimElem = 4
x = -15

[State 1052, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;2¥‹¬˜±‚
[Statedef 1215]
type    = A
movetype= A
physics = N
anim = 1215

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 1055, 3]
type = PosAdd
trigger1 = Time = 0
x = 10
y = -10

[State 1055, 4]
type = VelAdd
trigger1 = 1
y = .45

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = PrevStateNo = 1205
trigger1 = time = 0
attr = A, SA
damage = 40,4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -25, -70
hitsound = s1,3
guardsound = s2,3
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2.3,-7
guard.velocity = -9
air.velocity = -2.3,-7
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = PrevStateNo = 1255
trigger1 = time = 0
attr = A, SA
damage = 40,4
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -25, -70
hitsound = s1,3
guardsound = s2,3
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2.2,-11.5
guard.velocity = -10
air.velocity = -2.2,-11.5
yaccel = .5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 1210
;---------------------------------------------------------------------------
;ƒÙ»ƒ¥œ-∞≠
[Statedef 1250]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1250
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1060, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 1060, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State 1120, ëSêgñ≥ìG]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, ï®óùìIÇ»ÉLÉÉÉâÇÃïù]
type = Width
trigger1 = 1
edge = 20,0

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 10,13
sparkno = S300021
hitsound = 6,1

[State 1060, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1255

;ƒÙ»ƒ¥œ-¡°«¡
[Statedef 1255]
type    = A
movetype= A
physics = N
velset = 2.2,-7.5
anim = 1255
hitdefpersist = 1 ;Keep the HitDef from previous state active

[State 1061, 1]
type = VelAdd
trigger1 = 1
y = .45

[State 200, ÉqÉbÉgíËã`]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 30,3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = -25, -70
hitsound = s1,3
guardsound = s2,3
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0

[State 1051, 2]
type = ChangeState
triggerall = Command = "a" || Command = "b"
triggerall = Vel y < -1
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(6) < 0
trigger2 = movecontact
value = 1215

[State 1061, 3]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1210

;---------------------------------------------------------------------------
;ƒÙ»ƒ∫Ì∑Œ-æ‡
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 2

[State 1200, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1200, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 2500]
type = ReversalDef
trigger1 = Time = 0
Reversal.attr = SCA, NA, SA
ID = 1300
pausetime = 9, 10
hitcount = 0
numhits = 0
priority = 5, Miss
sparkno = 8
sparkxy = 16, -5
hitsound = 6,1
sprpriority = -2
p1stateno = 1330
p2facing = 1

[State 770, PalFX]
type = PalFX
trigger1 = MoveContact = 1
time = 5
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 1

;---------------------------------------------------------------------------
;ƒÙ»ƒ∫Ì∑Œ-æ‡1
[Statedef 1305]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
anim = 1305
ctrl = 0
sprpriority = 2

[State 1200, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 4     ;Time to shake screen
ampl = 2     ;Amount to shake
freq = 180   ;A frequency of 180 shakes the screen rapidly

[State 1200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 100,10
priority  = 5
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -10
ground.cornerpush.veloff = -12 ;To push far away when p2 is in corner
guard.velocity = -7
air.velocity = -3.5,-4.5
airguard.velocity = -3.5,-4.5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 4
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = Fifelse(StageVar(info.author) = "water",23,61)
pos = 14, 0
postype = p1
sprpriority = ifelse(StageVar(info.author) = "water",5,-2)
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;ƒÙ»ƒ∫Ì∑Œ-∞≠
[Statedef 1350]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1350
ctrl = 0
sprpriority = 2

[State 1210, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1210, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 2500]
type = ReversalDef
trigger1 = Time = 0
Reversal.attr = SCA, NA, SA
ID = 2500
pausetime = 9, 10
hitcount = 0
numhits = 0
priority = 5, Miss
sparkno = 8
sparkxy = 16, -5
hitsound = 6,1
sprpriority = -2
p1stateno = 1330
p2facing = 1

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1355
ctrl = 1

;---------------------------------------------------------------------------
;ƒÙ»ƒ∫Ì∑Œ-∞≠1
[Statedef 1355]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
anim = 1355
ctrl = 0
sprpriority = 0

[State 1210, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 8
ampl = 2
freq = 170   ;A frequency of less than 180 causes a dampening effect

[State 1210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 120,12
priority  = 5
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -10
ground.cornerpush.veloff = -15 ;To push far away when p2 is in corner
guard.velocity = -8
air.velocity = -4,-4.5
airguard.velocity = -4,-4.5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 4
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = Fifelse(StageVar(info.author) = "water",24,66)
pos = 14, 0
postype = p1
sprpriority = ifelse(StageVar(info.author) = "water",5,-2)
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = Fifelse(StageVar(info.author) = "water",24,67)
facing = ifelse(StageVar(info.author) = "water",-1,1)
pos = 14, 0
postype = p1
sprpriority = 12
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ƒÙ»ƒ∫Ì∑Œ-π›∞›
[Statedef 1330]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
anim = 1330
ctrl = 0
sprpriority = 2

[State 1220, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 6
time = 8
ampl = 3
freq = 170

[State 300]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 120,12
guardflag = MA
pausetime = 0,5
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -60
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -5
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 301
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = Fifelse(StageVar(info.author) = "water",24,66)
pos = 14, 0
postype = p1
sprpriority = ifelse(StageVar(info.author) = "water",5,-2)
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = Fifelse(StageVar(info.author) = "water",24,67)
facing = ifelse(StageVar(info.author) = "water",-1,1)
pos = 14, 0
postype = p1
sprpriority = 12
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;πÏº˙ªÁ
[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd = 120
ctrl = 0
anim = 1400
velset = 0,0
facep2 = 1

[State 1000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0 && prevstateno != 1150
var(50) = 15

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(17) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_x"
fvar(17) = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_y"
fvar(17) = 2

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1000, VarSet]
type = VarSet
triggerall = var(6) = 0
trigger1 = command = "a" || command = "b"
var(6) = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = Var(6) = 1 && Animelemtime(2) >= 0
value = 1410
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = fvar(17) = 1
trigger1 = command != "hold_x" && Animelemtime(2) >= 0
value = 1420
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = fvar(17) = 2
trigger1 = command != "hold_y" && Animelemtime(2) >= 0
value = 1430
ctrl = 0

[State 1000 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1010
ctrl = 0

;---------------------------------------------------------------------------
;πÏ º”¿Ã±‚
[Statedef 1410]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 1410
velset = 0,0

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 194,1

[state 1010, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1010 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;πÏº˙ªÁ ¡ﬂ¥‹
[Statedef 1420]
type    = S
movetype= A
physics = S
poweradd = 10
juggle = 8
ctrl = 0
anim = 1420
velset = 0,0

[State 1420, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[state 1420, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0

[State 1420, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1020, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1010, 7]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Hard
damage    = 40,4
priority  = 1
guardflag = MA
pausetime = 10,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1020, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = p2bodydist X < 40
attr = S, SA
animtype  = Hard
damage    = 40,4
priority  = 1
guardflag = MA
pausetime = 10,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,1
guardsound = s2,1
ground.type = H;Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1010, 7]
type = HitDef
trigger1 = AnimElem = 2;time = 0
trigger1 = p2bodydist X >= 40
attr = S, SA
animtype  = Hard
damage    = 80,8
priority  = 1
guardflag = MA
pausetime = 10,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,1
guardsound = s2,1
ground.type = H;Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1020 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;πÏº˙ªÁ ªÛ¥‹
[Statedef 1430]
type    = S
movetype= A
physics = S
poweradd = 10
juggle = 8
ctrl = 0
anim = 1430
velset = 0,0

[State 1030, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[state 1030, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0

[State 1030, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Hard
damage    = 40,4
priority  = 1
hitflag = MF
guardflag = MA
pausetime = 10,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1030, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 60,6
priority  = 5
guardflag = MA
pausetime = 10,10
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-7
air.velocity = -4,-6
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1030 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;æÓ∆€-æ‡
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1500
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 2

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 60,6
guardflag = MA
pausetime = 0,7
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 1501
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = Fifelse(StageVar(info.author) = "water",23,125)
pos = 20, 0
postype = p1
sprpriority = 12
facing = -1
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;æÓ∆€-∞≠
[Statedef 1550]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1550
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 2

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 80,8
guardflag = MA
pausetime = 0,7
sparkno = S30002
guard.sparkno = S30040
sparkxy = 10, -65
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 1501
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = Fifelse(StageVar(info.author) = "water",23,125)
pos = 20, 0
postype = p1
sprpriority = 12
facing = -1
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1501]
type    = A
movetype= H
physics = N

[State 1040, Anim]
type = ChangeAnim2
trigger1 = 1
value = 1501

[State 1040, Pos]
type = Angleadd
trigger1 = 1
value = 30
[State 1040, Pos]
type = AngleDraw
trigger1 = 1

[State 1033, 2]
type = VelSet
trigger1 = time < 1
y = -15.5

[State 1033, 2]
type = VelAdd
trigger1 = time < 1
y = 3.5

[State 1027, Stop moving]
type = PosFreeze
trigger1 = time > 1
x = 1
y = -120

[State 1040, ChangeState]
type = ChangeState
trigger1 = time >= 20;80
value = 1502

[State 1040, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 1502]
type    = A
movetype= H
physics = N

[State 1041, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 1502

[State 1041, Gravity]
type = VelAdd
trigger1 = 1
y = .7

[State 1041, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;µπ∞›-æ‡
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd = 120
velset = 0,0
anim = 1600
juggle  = 8
ctrl = 0
sprpriority = 2

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 1600, 0

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 1

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 8

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 5
x = 13

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 6
x = 5

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 7
x = 2

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = Fifelse(StageVar(info.author) = "water",25,27)
pos = 0,0
scale = .6,.6
postype = p1
sprpriority = 12
facing = 1
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 110,11
guardflag = MA
pausetime = 0,7
sparkno = S30002
guard.sparkno = S30040
sparkxy = -30, -65
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 301
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;µπ∞›-∞≠
[Statedef 1650]
type    = S
movetype= A
physics = S
poweradd = 120
velset = 0,0
anim = 1650
juggle  = 8
ctrl = 0
sprpriority = 2

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 3
value = 1600, 0

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 2

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
x = 15

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 8

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 10
x = 3

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 6
anim = Fifelse(StageVar(info.author) = "water",25,27)
pos = 0,0
postype = p1
sprpriority = 12
facing = 1
bindtime = 1
supermove = 1
ignorehitpauses = 1

[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 120,12
guardflag = MA
pausetime = 0,7
sparkno = S30002
guard.sparkno = S30040
sparkxy = -30, -65
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 301
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-æ‡1
[Statedef 1700]
type    = C
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 1

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 40,4
animtype = M
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10, -10
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -12
air.velocity = -3.5, -2

[State -1] ;3_x3
type = ChangeState
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = time >= 7
trigger2 = movecontact
value = 1710

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-æ‡2
[Statedef 1710]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 1

[State 1400, 5]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 40,4
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -30, -60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
air.velocity = -4,-3
air.fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State -1] ;3_x3
type = ChangeState
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = time >= 6
trigger2 = movecontact
value = 1720

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-æ‡3
[Statedef 1720]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 10,0
anim = 1720
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 20

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 12

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 1

[State 1400, 5]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 50,5
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10, -90
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-∞≠1
[Statedef 1750]
type    = C
movetype= A
physics = S
juggle  = 8
poweradd = 120
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 45,4
animtype = M
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10, -10
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -12
air.velocity = -3.5, -2

[State -1] ;3_x3
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
trigger1 = time >= 7
trigger2 = movecontact
value = 1760

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-∞≠2
[Statedef 1760]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1400, 5]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 45,4
guardflag = MA
pausetime = 12,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -30, -60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
air.velocity = -4,-3
air.fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State -1] ;3_x3
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
trigger1 = time >= 7
trigger2 = movecontact
value = 1770

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3¥‹¬˜±‚-∞≠3
[Statedef 1770]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 10,0
anim = 1720
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 8

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 22

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 13

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 8

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 2

[State 1400, 5]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 60,6
guardflag = MA
pausetime = 11,12
sparkno = S30002
guard.sparkno = S30040
sparkxy = -10, -90
hitsound = s1,4
guardsound = s2,4
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
