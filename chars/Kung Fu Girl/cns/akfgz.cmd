;===========================================================================
[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s
;===========================================================================
[Defaults]
command.time = 15
command.buffer.time = 1

;===========================================================================
;AI Command
;===========================================================================
[Command]
name = "AI_00"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI_01"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI_02"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI_03"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI_04"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI_05"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_06"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI_07"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI_08"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI_09"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI_10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI_11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI_12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI_13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI_14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI_15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI_17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0
[Command]
name = "AI_18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI_19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI_20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI_21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI_22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI_23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI_25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI_26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI_27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI_28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI_29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI_30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI_31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI_32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI_33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI_35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI_37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z
time = 0
[Command]
name = "AI_38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z
time = 0
[Command]
name = "AI_39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI_40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z
time = 0

;-| Super Motions |-----------------------------------------
[Command] 
name = "hokuto"
command = ~D, F, s
time = 35

[Command] 
name = "hokuto"
command = ~F,B,F,D,U, y+b
time = 35

[Command] 
name = "MAX2"
command = ~F, $D, B, F, $D, B, x+a ;+
time = 35

[Command] 
name = "MAX2"
command = ~F, $D, B, F, $D, B, z ;+
time = 35

[Command]
name = "Gekirinken"
command = ~D, F, $D, B, y+b
time = 35

[Command]
name = "Gekirinken"
command = ~D, F, $D, B, c
time = 35

[Command]
name = "Cho"
command = ~D, B, F, B, F, y+b
time = 35

[Command]
name = "Cho"
command = ~D, B, s
time = 25

[Command]
name = "Kamehameha_1"
command = ~D, B, F, a ;+
time = 25

[Command]
name = "Kamehameha_2"
command = ~D, B, F, b ;+
time = 25

[Command]
name = "Kamehameha_3"
command = ~D, B, F, y+b ;+
time = 25

[Command]
name = "Kamehameha_3"
command = ~D, B, F, c ;+
time = 25

[Command]
name = "Spinning Lotus_1"
command = ~B, $D, F, B, $D, F, a
time = 35

[Command]
name = "Spinning Lotus_2"
command = ~B, $D, F, B, $D, F, b
time = 35

[Command]
name = "Spinning Lotus_3"
command = ~B, $D, F, B, $D, F, c
time = 35

[Command]
name = "Spinning Lotus_3"
command = ~B, $D, F, B, $D, F, y+b
time = 35

[Command]
name = "ppp_1"
command = ~D, B, $D, F, x
time = 26

[Command]
name = "ppp_2"
command = ~D, B, $D, F, y
time = 26

[Command]
name = "ppp_3"
command = ~D, B, $D, F, z ;+
time = 26

[Command]
name = "ppp_3"
command = ~D, B, $D, F, x+a ;+
time = 26

[Command] 
name = "aura_1"
command = ~D,B,D,B, a
time = 26

[Command] 
name = "aura_2"
command = ~D,B,D,B, b
time = 26

[Command] 
name = "aura_3"
command = ~D,B,D,B, c
time = 26

[Command] 
name = "aura_3"
command = ~D,B,D,B, y+b
time = 26

[Command] 
name = "TripleKFPalm_1"
command = ~D,F,D,F, x
time = 26

[Command]
name = "TripleKFPalm_2"
command = ~D,F,D,F, y
time = 26

[Command]
name = "TripleKFPalm_3"
command = ~D,F,D,F, z ;+
time = 26

[Command]
name = "TripleKFPalm_3"
command = ~D,F,D,F, x+a ;+
time = 26

;-| Special Motions |------------------------------------------------------

[Command]
name = "ghost_1"
command = ~D,F, a
time = 10

[Command]
name = "ghost_2"
command = ~D,F, b
time = 10

[Command]
name = "ghost_ex"
command = ~D,F, a+b

[Command]
name = "KFUpper_1" 
command = ~F, D, DF, x
time = 12

[Command]
name = "KFUpper_1"
command = ~F,D,F, x
time = 12

[Command]
name = "KFUpper_2" 
command = ~F, D, DF, y
time = 12

[Command]
name = "KFUpper_2"
command = ~F,D,F, y
time = 12

[Command]
name = "KFUpper_ex" 
command = ~F, D, DF, x+y


[Command]
name = "KFUpper_ex"
command = ~F,D,F, x+y

[Command]
name = "KFPalm_1"
command = ~D,F, x
time = 12

[Command]
name = "KFPalm_2"
command = ~D,F, y
time = 12

[Command]
name = "KFPalm_ex"
command = ~D,F, x+y

[Command]
name = "KFKnee_1" 
command = ~F, D, DF, a
time = 12

[Command]
name = "KFKnee_1"
command = ~F,D,F, a
time = 12

[Command]
name = "KFKnee_2" 
command = ~F, D, DF, b
time = 12

[Command]
name = "KFKnee_2"
command = ~F,D,F, b
time = 12

[Command]
name = "KFKnee_ex" 
command = ~F, D, DF, a+b

[Command]
name = "KFKnee_ex"
command = ~F,D,F, a+b

[Command]
name = "KFBlow_1"
command = ~F, $D, B, a
time = 12

[Command]
name = "KFBlow_2"
command = ~F, $D, B, b
time = 12

[Command]
name = "KFBlow_ex"
command = ~F, $D, B, a+b

[Command]
name = "3_1"
command = ~D,B, a
time = 12

[Command]
name = "3_2"
command = ~D,B, b
time = 12

[Command]
name = "3_ex"
command = ~D,B, a+b

[Command]
name = "baem_1"
command = ~D,B, x
time = 12

[Command]
name = "baem_2"
command = ~D,B, y
time = 12

[Command]
name = "baem_ex"
command = ~D,B, x+y

[Command]
name = "charge_1"
command = ~30$B,F, x
time = 12

[Command]
name = "charge_2"
command = ~30$B,F, y
time = 12

[Command]
name = "charge_ex"
command = ~24$B,F, x+y

[Command]
name = "Neck Tightening_ex"
command = ~B, $D, F, a+b
Time = 12

[Command]
name = "Neck Tightening_a"
command = ~B, $D, F, a
Time = 12

[Command]
name = "Neck Tightening_b"
command = ~B, $D, F, b
Time = 12

[Command]
name = "Kaihou(f)_a"
command = ~F, F, a
time = 12

[Command]
name = "Kaihou(f)_b"
command = ~F, F, b
time = 12

[Command]
name = "Kaihou(b)_a"
command = ~B, B, a
time = 12

[Command]
name = "Kaihou(b)_b"
command = ~B, B, b
time = 12

[Command]
name = "kamae_a"
command = x+y
time = 12

[Command]
name = "kamae_b"
command = a+b
time = 12

[Command]
name = "burst"
command = x+b

[Command]
name = "yoga tackle"
command = /DF,a
time = 12

[Command]
name = "elbow blow"
command = /DF,y
time = 12

;-| Double Tap |-----------------------------------------------------------

[Command] 
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10

[Command]
name = "longjump"
command = D, $U
time = 18

;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "recovery"
command = x+a
time = 1

[Command]
name = "recovery"
command = z
time = 1

[Command]
name = "yb"
command = y+b
time = 1

[Command]
name = "yb"
command = c
time = 1


;-| Single Button |---------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "s"
command = s
time = 0

[Command]
name = "start"
command = s
time = 0

;-| Hold Dir |--------------------------------------------------------------

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "hold_x"
command = /$x
time = 1

[Command]
name = "hold_y"
command = /$y
time = 1

[Command]
name = "hold_z"
command = /$z
time = 1

[Command]
name = "hold_a"
command = /$a
time = 1

[Command]
name = "hold_b"
command = /$b
time = 1

[Command]
name = "hold_c"
command = /$c
time = 1

[Command]
name = "hold_s"
command = /$s
time = 1

[command]
name="fwd"
command=F
time=1

[command]
name="back"
command=B
time=1

[command]
name="up"
command=U
time=1

[command]
name="down"
command=D
time=1

;===========================================================================
;===========================================================================
[Statedef -1]
;===========================================================================
;===========================================================================

[State -1]
type = varset
TriggerAll = var(59)=0 || var(59)<=-2
Trigger1 = var(41)
var(41) = 0

[State -1]
type = varset
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = RoundState=2 && statetype!=A && !var(41) && var(8)<3
TriggerAll = MoveContact
Trigger1 = StateNo=200 || StateNo=210 || StateNo=215 || StateNo=220 || StateNo=225 || StateNo=230 || StateNo=235
Trigger2 = StateNo=400 || StateNo=410 || StateNo=420 || StateNo=430
Trigger3 = StateNo=500 || StateNo=505 || StateNo=510 || StateNo=530 || StateNo=535 || StateNo=550 || StateNo=551 || StateNo=555
var(41) = 1

[State -1]
type = varset
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = RoundState=2 && statetype=A && !var(41)
TriggerAll = MoveContact
Trigger1 = StateNo=600 || StateNo=605 || StateNo=610 || StateNo=615
Trigger2 = StateNo=620 || StateNo=625 || StateNo=630 || StateNo=635
var(41) = 2

;---------------------------------------------------------------------------
[State -1,Blocking]
type = hitoverride
TriggerAll = var(59)=0 || var(59)<=-2
Trigger1 = statetype != A && (statetype = S || stateno = 5120)
Trigger1 = command != "back" && command = "fwd" && command != "up" && command != "down"
Trigger1 = ctrl || stateno=[120,121]
attr = SA,AA,AP
stateno = 1900
slot = 0
time = 8

[State -1,Crouching Blocking]
type = hitoverride
TriggerAll = var(59)=0 || var(59)<=-2
Trigger1 = statetype != A && (statetype = C || stateno = 5120)
Trigger1 = command = "holddown" && command != "fwd" && command = "back" && command != "up"
Trigger1 = ctrl || (stateno=[120,121]) || ((stateno=[1900,1910]) && movetype=I)
Trigger2 = statetype != A && (statetype = S || stateno = 5120)
Trigger2 = command = "down" && command != "fwd" && command != "back" && command != "up"
Trigger2 = ctrl || (stateno=[120,121]) || ((stateno=[1900,1910]) && movetype=I)
attr = SA,AA,AP
stateno = 1910
slot = 0
time = 8

[State -1,Jump Blocking]
type = hitoverride
TriggerAll = var(59)=0 || var(59)<=-2
Trigger1 = statetype = A && (ctrl || StateNo = 40)
Trigger1 = command != "back" && command = "fwd" && command != "up" && command != "down"
Trigger1 = ctrl || stateno= 122
attr = SA,AA,AP
stateno = 1920
slot = 0
time = 8

;---------------------------------------------------------------------------
[State -1,Burst]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "burst"
TriggerAll = fvar(38) >= 12.0
TriggerAll = RoundState=2
Trigger1 = movetype= H && var(26)=0
value = 750

;---------------------------------------------------------------------------
[State -1,Hokuto Hyakuretsu Ken]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "hokuto"
TriggerAll = power >= 4000
TriggerAll = life<=lifemax/4
Trigger1 = statetype != A && (ctrl || (Var(41) !=[1,2]))
value = 4600

[State -1,Hokuto Hyakuretsu Ken]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "hokuto"
TriggerAll = power >= 5000
TriggerAll = life > lifemax/4
Trigger1 = statetype != A && (ctrl || (Var(41) !=[1,2]))
value = 4602

;---------------------------------------------------------------------------
[State -1,MAX2] 
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "MAX2"
TriggerAll = power >= 2000
TriggerAll = life <= lifemax/4
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
Trigger3 = stateno = 3010 && Animelemtime(20)>0
Trigger4 = stateno = 3110 && Animelemtime(24)>0
Trigger5 = stateno = 3210 && Animelemtime(27)>0
Trigger6 = stateno = 3510 && Animelemtime(17)>=0
Trigger7 = stateno = 3610 && Animelemtime(17)>=0
Trigger8 = stateno = 3710 && Animelemtime(31)>=0
value = 4500

[State -1,MAX2]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "MAX2"
TriggerAll = power >= 3000
TriggerAll = life >= lifemax/4
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
Trigger3 = stateno = 3010 && Animelemtime(20)>0
Trigger4 = stateno = 3110 && Animelemtime(24)>0
Trigger5 = stateno = 3210 && Animelemtime(27)>0
Trigger6 = stateno = 3510 && Animelemtime(17)>=0
Trigger7 = stateno = 3610 && Animelemtime(17)>=0
Trigger8 = stateno = 3710 && Animelemtime(31)>=0
value = 4502

;---------------------------------------------------------------------------
[State -1,Gekirinken]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Gekirinken"
TriggerAll = power >= 2000
TriggerAll = life <= lifemax/4
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
Trigger3 = stateno = 3010 && Animelemtime(20)>0
Trigger4 = stateno = 3110 && Animelemtime(24)>0
Trigger5 = stateno = 3210 && Animelemtime(27)>0
Trigger6 = stateno = 3510 && Animelemtime(17)>=0
Trigger7 = stateno = 3610 && Animelemtime(17)>=0
Trigger8 = stateno = 3710 && Animelemtime(31)>=0
value = 4400

[State -1,Gekirinken]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Gekirinken"
TriggerAll = power >= 3000
TriggerAll = life >= lifemax/4
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
Trigger3 = stateno = 3010 && Animelemtime(20)>0
Trigger4 = stateno = 3110 && Animelemtime(24)>0
Trigger5 = stateno = 3210 && Animelemtime(27)>0
Trigger6 = stateno = 3510 && Animelemtime(17)>=0
Trigger7 = stateno = 3610 && Animelemtime(17)>=0
Trigger8 = stateno = 3710 && Animelemtime(31)>=0
value = 4402

;---------------------------------------------------------------------------
[State -1,Cho]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Cho"
TriggerAll = power >= 3000
TriggerAll = life<=lifemax/4
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 4300

[State -1,Cho]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Cho"
TriggerAll = power >= 4000
TriggerAll = life > lifemax/4
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 4302

[State -1,Jump Cho]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Cho"
TriggerAll = power >= 3000
TriggerAll = life<=lifemax/4
Trigger1 = statetype = A && (ctrl || StateNo = 40 || Var(41)=2)
value = 4310

[State -1,Jump Cho]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "Cho"
TriggerAll = power >= 4000
TriggerAll = life > lifemax/4
Trigger1 = statetype = A && (ctrl || StateNo = 40 || Var(41)=2)
value = 4312

;---------------------------------------------------------------------------
[State -1,Kung Fu Beat_LV3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = (var(0) - var(0)%4)/4 <= 1 && command = "ppp_3"
TriggerAll = power >= 3000
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3200

[State -1,Kung Fu Beat_LV2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = (var(0) - var(0)%4)/4 <= 1 && (command = "ppp_2" || command = "ppp_3")
TriggerAll = power >= 2000
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3100

[State -1,Kung Fu Beat_LV1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = (var(0) - var(0)%4)/4 <= 1 && (command = "ppp_1" || command = "ppp_2" || command = "ppp_3")
TriggerAll = power >= 1000
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3000

;---------------------------------------------------------------------------
[State -1,TripleKFPalm_LV3]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "TripleKFPalm_3"
TriggerAll = power >= 3000
Trigger1 = statetype != A && (ctrl || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3700

[State -1,TripleKFPalm_LV2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "TripleKFPalm_2" || command = "TripleKFPalm_3"
TriggerAll = power >= 2000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3600

[State -1,TripleKFPalm_LV1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "TripleKFPalm_1" || command = "TripleKFPalm_2" || command = "TripleKFPalm_3"
TriggerAll = power >= 1000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3500

;---------------------------------------------------------------------------
[State -1,Kung Fu Chaos_LV3]
type = ChangeState
TriggerAll = var(59)=0 || var(59)<=-2
TriggerAll = command = "aura_3"
TriggerAll = power >= 3000
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 4200

[State -1,Kung Fu Chaos_LV2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "aura_2" || command = "aura_3"
TriggerAll = power >= 2000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 4100

[State -1,Kung Fu Chaos_LV1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "aura_1" || command = "aura_2" || command = "aura_3"
TriggerAll = power >= 1000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 4000

;---------------------------------------------------------------------------
[State -1,Kamehameha Lv3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_3"
TriggerAll = power >= 3000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3420

[State -1,Kamehameha Lv2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_2" || command = "Kamehameha_3"
TriggerAll = power >= 2000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3410

[State -1,Kamehameha Lv1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_1" || command = "Kamehameha_2" || command = "Kamehameha_3"
TriggerAll = power >= 1000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3400

[State -1,Jump Kamehameha Lv3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_3"
TriggerAll = power >= 3000
Trigger1 = statetype = A && (ctrl || StateNo = 40 || Var(41)=2)
Trigger2 = stateno =650 || stateno =660 || stateno =670 || stateno =1203 || stateno =1205 || stateno =1213 || stateno =1223 || stateno =1800 || stateno =1810 || stateno =1820 || stateno =2200 || stateno =2210 || stateno =2220
value = 3450

[State -1,Jump Kamehameha Lv2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_2" || command = "Kamehameha_3"
TriggerAll = power >= 2000
Trigger1 = statetype = A && (ctrl || StateNo = 40 || Var(41)=2)
Trigger2 = stateno =650 || stateno =660 || stateno =670 || stateno =1203 || stateno =1205 || stateno =1213 || stateno =1223 || stateno =1800 || stateno =1810 || stateno =1820 || stateno =2200 || stateno =2210 || stateno =2220
value = 3440

[State -1,Jump Kamehameha Lv1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kamehameha_1" || command = "Kamehameha_2" || command = "Kamehameha_3"
TriggerAll = power >= 1000
Trigger1 = statetype = A && (ctrl || StateNo = 40 || Var(41)=2)
Trigger2 = stateno =650 || stateno =660 || stateno =670 || stateno =1203 || stateno =1205 || stateno =1213 || stateno =1223 || stateno =1800 || stateno =1810 || stateno =1820 || stateno =2200 || stateno =2210 || stateno =2220
value = 3430

;---------------------------------------------------------------------------
[State -1,Spinning Lotus Lv3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Spinning Lotus_3"
TriggerAll = power >= 3000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3320

[State -1,Spinning Lotus Lv2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Spinning Lotus_2" || command = "Spinning Lotus_3"
TriggerAll = power >= 2000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3310

[State -1,Spinning Lotus Lv1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Spinning Lotus_1" || command = "Spinning Lotus_2" || command = "Spinning Lotus_3"
TriggerAll = power >= 1000
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
Trigger2 = stateno =1030 || stateno =1100 || stateno =1110 || stateno =1120 || stateno =1200 || stateno =1210 || stateno =1220 || stateno =1301 || stateno =1311 || stateno =1321 || stateno =1420 || stateno =1430 || stateno =1440 || stateno =2130
value = 3300

;---------------------------------------------------------------------------
[State -1,Neck Tightening_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Neck Tightening_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 2920

[State -1,Neck Tightening_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Neck Tightening_b"
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 2910

[State -1,Neck Tightening_A]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Neck Tightening_a" 
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 2900

;---------------------------------------------------------------------------
[State -1,Fling ghost_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1021)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(2221)=0
Trigger1 = statetype = A && (ctrl || Var(41)=2) && StateNo != 1020  && StateNo != 2220
value = 2220

[State -1,Fling ghost_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_2"
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(2211)=0
Trigger1 = statetype = A && (ctrl || Var(41)=2) && StateNo != 1010 && StateNo != 1020 && StateNo != 2200 && StateNo != 2210 && StateNo != 2220
value = 2210

[State -1,Fling ghost_A]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_1"
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(1031)=0
Trigger1 = statetype = A && (ctrl || Var(41)=2) && StateNo != 1010 && StateNo != 1020 && StateNo != 2200 && StateNo != 2210 && StateNo != 2220
value = 2200

;---------------------------------------------------------------------------
[State -1,Kung Fu Tackle_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "baem_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 670

[State -1,Kung Fu Tackle_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "baem_2"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 660

[State -1,Kung Fu Tackle_A]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "baem_1"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 650

;---------------------------------------------------------------------------
[State -1,Kung Fu DiveKick_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 1820

[State -1,Kung Fu DiveKick_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_2"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 1810

[State -1,Kung Fu DiveKick_A]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_1"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 1800

;---------------------------------------------------------------------------
[State -1,KFKnee_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "KFKnee_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 1220

[State -1,KFKnee_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "KFKnee_2"
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 1210

[State -1,KFKnee_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "KFKnee_1" 
Trigger1 = statetype != A && (ctrl || StateNo = 40 || Var(41)=1)
value = 1200

;---------------------------------------------------------------------------
[State -1,Kung Fu Ghost Attack_Cancel]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = (command = "ghost_1" || command = "ghost_2")
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(1031)=0
Trigger1 = statetype != A && Var(41)=1 && StateNo != 1000 && StateNo != 1010 && StateNo != 1020 && StateNo != 1030
value = 1030

[State -1,Kung Fu Ghost Attack_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1021)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(1021)=0
Trigger1 = statetype != A && (ctrl || Var(41)=1) && StateNo != 1020  && StateNo != 2220
value = 1020

[State -1,Kung Fu Ghost Attack_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_2"
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(1016)=0
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1010

[State -1,Kung Fu Ghost Attack_A]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "ghost_1"
Triggerall = (Palno<=6 || var(17)<2) && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||(Palno>6 || var(17)>=2) && Numhelper(1006)=0
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1000

;---------------------------------------------------------------------------
[State -1,Kung Fu Upper_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFUpper_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1520

[State -1,Kung Fu Upper_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFUpper_2"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1510

[State -1,Kung Fu Upper_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFUpper_1"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1500

;---------------------------------------------------------------------------
[State -1,Kung Fu Charge_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "charge_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1620

[State -1,Kung Fu Charge_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "charge_2"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1610

[State -1,Kung Fu Charge_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "charge_1"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1600

;---------------------------------------------------------------------------
[State -1,Kung Fu Palm_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1120

[State -1,Kung Fu Palm_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_2"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1110

[State -1,Kung Fu Palm_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_1"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1100

;---------------------------------------------------------------------------
[State -1,Kung Fu Blow_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFBlow_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1320

[State -1,Kung Fu Blow_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFBlow_2"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1310

[State -1,Kung Fu Blow_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFBlow_1"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1300

;---------------------------------------------------------------------------
[State -1,Kung Fu Kick_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1720

[State -1,Kung Fu Kick_B3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b"
TriggerAll = command != "holddown"
TriggerAll = stateno = 1711
Trigger1 = statetype = S
Trigger2 = stateno = 1711 && time >= 7
value = 1712

[State -1,Kung Fu Kick_B2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b"
TriggerAll = command != "holddown"
TriggerAll = stateno = 1710
Trigger1 = statetype = S
Trigger2 = stateno = 1710 && time >= 7
value = 1711

[State -1,Kung Fu Kick_B1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_2"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1710

[State -1,Kung Fu Kick_A3]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "a"
TriggerAll = command != "holddown"
TriggerAll = stateno = 1701
Trigger1 = statetype = S
Trigger2 = stateno = 1701 && time >= 7
value = 1702

[State -1,Kung Fu Kick_A2]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "a"
TriggerAll = command != "holddown"
TriggerAll = stateno = 1700
Trigger1 = statetype = S
Trigger2 = stateno = 1700 && time >= 7
value = 1701

[State -1,Kung Fu Kick_A1]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "3_1"
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1700

;---------------------------------------------------------------------------
[State -1,Kung Fu Whip_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "baem_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1440

[State -1,Kung Fu Whip]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = (command = "baem_1" || command = "baem_2")
Trigger1 = statetype != A && (ctrl || Var(41)=1)
value = 1400

;---------------------------------------------------------------------------
[State -1,Enter The Dragon_Ex]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_ex"
TriggerAll = power >= ifelse((Palno>6),300,500)
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 2420

[State -1,Enter The Dragon_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_2"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 2410

[State -1,Enter The Dragon_X]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = !NumProj
TriggerAll = command = "KFPalm_1"
Trigger1 = statetype = A && (ctrl || Var(41)=2)
value = 2400

;---------------------------------------------------------------------------
[State -1,Attack Avoidance_K]
type = ChangeState
value = 2100
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "kamae_b"
TriggerAll = statetype != A
Trigger1 = ctrl
Trigger2 = (stateno = [200,210]) || (stateno = [220,230])
Trigger2 = movecontact

[State -1,Attack Avoidance_P]
type = ChangeState
value = 2000
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "kamae_a"
TriggerAll = statetype != A
Trigger1 = ctrl
Trigger2 = (stateno = [200,210]) || (stateno = [220,230])
Trigger2 = movecontact

;===========================================================================
[State -1,Run Fwd]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "FF"
Trigger1 = statetype = S && ctrl
value = 100

[State -1,Run Back]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "BB"
Trigger1 = statetype = S && ctrl
value = 105

[State -1,Air Dash FWD]
type = ChangeState
value = 110
TriggerAll = var(59)=0||var(59)<=-2
Triggerall = statetype = A && ctrl && var(6) < 2
Triggerall = command = "FF"
Triggerall = pos y <= -10
Trigger1 = ((stateno = [50,59])||(stateno = [120,140])) && ctrl
Trigger2 = ((stateno = [5200,5210]) || stateno = 5040) && ctrl
Trigger3 = ((stateno = [2200,2210]) || stateno = 2220) && ctrl
Trigger4 = stateno = [241,242]
Trigger5 = (stateno = 2701 && animelemtime(7) >= 2)||(stateno = 2710 && animelemtime(6) >= 3)
Trigger6 = movetype != H

[State -1,Air Dash Back]
type = ChangeState
value = 115
TriggerAll = var(59)=0||var(59)<=-2
Triggerall = statetype = A && ctrl && var(6) < 2
Triggerall = command = "BB"
Triggerall = pos y <= -10
Trigger1 = ((stateno = [50,59])||(stateno = [120,140])) && ctrl
Trigger2 = ((stateno = [5200,5210]) || stateno = 5040) && ctrl
Trigger3 = ((stateno = [2200,2210]) || stateno = 2220) && ctrl
Trigger4 = stateno = [241,242]
Trigger5 = (stateno = 2701 && animelemtime(7) >= 2)||(stateno = 2710 && animelemtime(6) >= 3)
Trigger6 = movetype != H

[State -1,Recovery]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "recovery"
Trigger1 = statetype != A && ctrl
value = Ifelse(command = "holdback", 160, 165)

[State -1,Guard Recovery]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "recovery"
Trigger1 = Power >= 500 && (StateNo = [150,153])
value = Ifelse(command = "holdback", 161, 166)
ignorehitpause = 1

[State -1,Guard High Damage]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "yb"
Trigger1 = Power >= 1000 && (StateNo = [150,153])
value = 8200
ignorehitpause = 1

;---------------------------------------------------------------------------
[State -1,Kaihou Fwd a]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kaihou(f)_a"
Trigger1 = statetype = S && ctrl
value = 520

[State -1,Kaihou Fwd b]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kaihou(f)_b"
Trigger1 = statetype = S && ctrl
value = 521

[State -1,Kaihou Back a]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kaihou(b)_a"
Trigger1 = statetype = S && ctrl
value = 525

[State -1,Kaihou Back b]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "Kaihou(b)_b"
Trigger1 = statetype = S && ctrl
value = 526

;---------------------------------------------------------------------------
[State -1,Throw_Y]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "y" && (Command = "holdback" || Command = "holdfwd")
Trigger1 = statetype = S && Ctrl
Trigger1 = stateno != 100
Trigger1 = P2statetype != A && P2movetype != H
Trigger1 = P2bodydist X <= 7
value = 800

[State -1,Throw_B]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b" && (Command = "holdback" || Command = "holdfwd")
Trigger1 = statetype = S && Ctrl
Trigger1 = stateno != 100
Trigger1 = P2statetype != A && P2movetype != H
Trigger1 = P2bodydist X <= 7
value = 850

;===========================================================================
[State -1,Break a roof tile]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "x" && command = "holdfwd" && command != "holddown"
Trigger1 = statetype = S && ctrl
value = 500

[State -1,Break a roof tile]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "x" && command = "holdfwd" && command != "holddown"
Trigger1 = statetype != A && Var(41)=1 && StateNo != 500 && StateNo != 505
Trigger1 = var(8)<2
value = 505

[State -1,Yoga Tackle]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "yoga tackle"
Trigger1 = statetype = C && ctrl
value = 510

[State -1,Yoga Tackle]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "yoga tackle"
Trigger1 = statetype != A && Var(41)=1 && StateNo != 510 && StateNo != 515
Trigger1 = var(8)<2
value = 510

[State -1,Elbow Blow]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "elbow blow"
Trigger1 = statetype = C && ctrl
value = 530

[State -1,Elbow Blow(cancel)]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "elbow blow"
Trigger1 = statetype != A && Var(41)=1 && StateNo != 530 && StateNo != 535
Trigger1 = var(8)<2
value = 535

[State -1,En Geki Shuu]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b" && command = "holdfwd" && command != "holddown"
Trigger1 = statetype = S && ctrl
value = 550

[State -1,En Geki Shuu(cancel)]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b" && command = "holdfwd" && command != "holddown"
Trigger1 = statetype != A && Var(41)=1 && StateNo != 550 && StateNo != 551 && StateNo != 555 && StateNo != 556
Trigger1 = var(8)<2
value = 555

[State -1,High Damage]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "yb"
Trigger1 = statetype != A && ctrl
value = 300

[State -1,Air High Damage]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "yb"
Trigger1 = statetype = A && ctrl
value = 305

[State -1,Standing Light Punch]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "x" && command != "holddown"
Trigger1 = statetype = S && ctrl
value = 200

[State -1,Standing Light Kick]
type = ChangeState
value = Ifelse(P2bodydist X < 23, 220, 225)
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "a" && command != "holddown"
Trigger1 = statetype = S && ctrl

[State -1,Standing Strong Punch]
type = ChangeState
value = Ifelse(P2bodydist X < 23, 210, 215)
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "y" && command != "holddown"
TriggerAll = statetype = S
Trigger1 = ctrl
Trigger2 = stateno=420&&movecontact

[State -1,Standing Strong Kick]
type = ChangeState
value = Ifelse(P2bodydist X < 23, 230, 235)
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b" && command != "holddown"
TriggerAll = command != "holddown"
Trigger1 = statetype = S && ctrl
Trigger2 = stateno=420&&movecontact

[State -1,Crouching Light Punch]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "x" && command = "holddown"
Trigger1 = statetype = C && ctrl
Trigger2 = stateno=420&&movecontact
value = 400

[State -1,Crouching Strong Punch]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "y" && command = "holddown"
Trigger1 = statetype = C && ctrl 
Trigger2 = stateno=420&&movecontact
value = 410

[State -1,Crouching Light Kick]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "a" && command = "holddown"
Trigger1 = statetype = C && ctrl 
Trigger2 = stateno=420&&movecontact
value = 420

[State -1,Crouching Strong Kick]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b" && command = "holddown"
Trigger1 = statetype = C && ctrl 
Trigger2 = stateno=420&&movecontact
value = 430

[State -1,Jump Light Punch]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "x"
Trigger1 = statetype = A && ctrl
value = Ifelse(vel x, 605, 600)

[State -1,Jump Strong Punch]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "y"
Trigger1 = statetype = A && ctrl
value = Ifelse(vel x, 610, 615)

[State -1,Jump Light Kick]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "a"
Trigger1 = statetype = A && ctrl
value = Ifelse(vel x, 625, 620)

[State -1,Jump Strong Kick]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "b"
Trigger1 = statetype = A && ctrl
value = Ifelse(vel x, 635, 630)

[State -1,Provoke]
type = ChangeState
TriggerAll = var(59)=0||var(59)<=-2
TriggerAll = command = "s"
Trigger1 = statetype != A && ctrl
value = 198

[State -1, Power Charge]
type = ChangeState
value = 176
TriggerAll = var(59)=0||var(59)<=-2
triggerall = roundstate = 2
triggerall = power < 5000
triggerall = stateno != 176
triggerall = statetype != A
triggerall = command = "a" && command = "y" || command = "hold_a" && command = "hold_y"
trigger1 = ctrl

;---------------------------------------------------------------------------
; 前ワ?プ;立ち位置調整
[State -1]
type = ChangeState
value = 520
triggerall = var(59) = 0 && var(2) = 0
triggerall = stateno = 0 && statetype != A
trigger1 = winko && backedgebodydist <= 30

; 後ろワ?プ;立ち位置調整
[State -1]
type = ChangeState
value = 525
triggerall = var(59) = 0 && var(2) = 0
triggerall = stateno = 0 && statetype != A
trigger1 = winko && frontedgebodydist <= 30


;===========================================================================
;	以下Silvan AI記述
;===========================================================================
;===========================================================================
;		?ッグ判別用
;===========================================================================
[State -1, プレイヤ?ID取得]
type = VarSet
TriggerAll = var(59)>0 && Alive && !Ishelper && Numenemy
TriggerAll = !IsHelper
Trigger1 = NumEnemy = 1
v = 58
value = EnemyNear(0),ID

[State -1, プレイヤ?ID取得（?ッグ戦）]
type = VarSet
TriggerAll = var(59)>0 && Alive && !Ishelper && Numenemy
Trigger1 = NumEnemy >= 2
v = 58
value = IfElse(EnemyNear(0),Alive,EnemyNear(0),ID,EnemyNear(1),ID)
;===========================================================================
;		ガ?ド関連
;===========================================================================
[State -1,Reset]
type = VarRangeSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = TeamMode = Turns
Trigger1 = RoundState = 0
value = 0
first = 52
last = 57
;---------------------------------------------------------------------------
[State -1, 立ち下段学習その１]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevstateNo = 120 || PrevStateNo = 130 || (PrevStateNo = [150,151])
TriggerAll = Statetype = S
TriggerAll = Var(52) = 0
Trigger1 = StateNo = [5000,5099]
v = 52
value = PlayerID(var(58)),StateNo
;---------------------------------------------------------------------------
[State -1, 立ち下段学習その２]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevstateNo = 120 || PrevStateNo = 130 || (PrevStateNo = [150,151])
TriggerAll = Statetype = S
TriggerAll = Var(52) != 0 && Var(53) = 0
TriggerAll = Var(52) != PlayerID(var(58)),StateNo
Trigger1 = StateNo = [5000,5099]
v = 53
value = PlayerID(var(58)),StateNo
;---------------------------------------------------------------------------
[State -1, 立ち下段学習その３]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevstateNo = 120 || PrevStateNo = 130 || (PrevStateNo = [150,151])
TriggerAll = Statetype = S
TriggerAll = var(52) != 0 && Var(53) != 0 && Var(54) = 0
TriggerAll = (var(52) != PlayerID(var(58)),StateNo) && (var(53) != PlayerID(var(58)),StateNo)
Trigger1 = StateNo = [5000,5099]
v = 54
value = PlayerID(var(58)),StateNo
;---------------------------------------------------------------------------
[State -1, しゃがみ中段学習その１]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevStateNo = 131 || (PrevStateNo = [152,153])
TriggerAll = Var(55) = 0 && Var(56)=0 && var(57)=0
Trigger1 = StateNo = [5000,5099]
v = 55
value = PlayerID(var(58)),StateNo
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -1, しゃがみ中段学習その２]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevStateNo = 131 || (PrevStateNo = [152,153])
TriggerAll = Var(55) != 0 && Var(56)=0 && var(57)=0
TriggerAll = Var(55) != PlayerID(var(58)),StateNo
Trigger1 = StateNo = [5000,5099]
v = 56
value = PlayerID(var(58)),StateNo
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -1, しゃがみ中段学習その３]
type = VarSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PrevStateNo = 131 || (PrevStateNo = [152,153])
TriggerAll = Var(55) != 0 && Var(56) != 0 && Var(57) = 0
TriggerAll = Var(55) != PlayerID(var(58)),StateNo
TriggerAll = Var(56) != PlayerID(var(58)),StateNo
Trigger1 = StateNo = [5000,5099]
v = 57
value = PlayerID(var(58)),StateNo
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -1, ステ?ト?イプ変更]
type = StateTypeSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = StateNo = 120
TriggerAll = StateType = C
Trigger1 = PlayerID(Var(58)),StateType != C
Trigger1 = var(52)=0 || Var(52) != PlayerID(var(58)),StateNo
Trigger1 = var(53)=0 || Var(53) != PlayerID(var(58)),StateNo
Trigger1 = var(54)=0 || Var(54) != PlayerID(var(58)),StateNo
statetype = S
physics = S
;---------------------------------------------------------------------------
[State -1, ステ?ト?イプ変更]
type = StateTypeSet
TriggerAll = var(59)>=4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = StateNo = 120
TriggerAll = StateType = S
Trigger1 = PlayerID(Var(58)),StateType = C
Trigger1 = var(55)=0 || Var(55) != PlayerID(var(58)),StateNo
Trigger1 = var(56)=0 || Var(56) != PlayerID(var(58)),StateNo
Trigger1 = var(57)=0 || Var(57) != PlayerID(var(58)),StateNo
statetype = C
physics = C
;===========================================================================
;	AI用重力加速度計測
;===========================================================================
[State -1, yaccel]
type = varset
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
Trigger1 = PlayerID(var(58)),stateno != [5000,5210]
Trigger1 = PlayerID(var(58)),Vel Y != 0
FV = 10
value = PlayerID(var(58)),const(movement.yaccel)
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -1, yaccel]
type = varset
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
Trigger1 = PlayerID(var(58)),stateno = [5000,5210]
Trigger1 = PlayerID(var(58)),Vel Y != 0
FV = 10
value = PlayerID(var(58)),GetHitVar(yaccel);(打撃当てた時のyaccel値)
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -1, yaccel]
type = varset
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
Trigger1 = PlayerID(var(58)),Vel Y = 0
FV = 10
value = 0;(打撃当てた時のyaccel値)
ignorehitpause = 1
;===========================================================================
;		変数管理
;===========================================================================
[State -1, Walking Checker]
type = varadd
TriggerAll = var(59)>0 && Alive && !Ishelper
Trigger1 = var(51)>=1
v=51
value=-1
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, ちびキャラ?似判定]
type = varadd
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
Triggerall = var(50)<=3
TriggerAll = PlayerID(var(58)),statetype=S
Trigger1 = StateNo=200 && Time=3 && MoveContact=0
Trigger1 = P2Bodydist X=[0,45]
Trigger2 = StateNo=215 && Time=8 && MoveContact=0
Trigger2 = P2Bodydist X=[0,78]
;Trigger3 = PlayerID(var(58)),const(size.head.pos.y)<-50
v=50
value=1
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, ガ?ド回数監視]
type = VarAdd
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
Trigger1 = StateNo=151||StateNo=153||StateNo=154
Trigger1 = Time=1
v = 49
value = 1
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, ガ?ド回数リセット]
type = VarSet
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = var(49)>=1
Trigger1 = StateNo != [120,155]
v = 49
value = 0
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, 敵やられ状態監視]
type = Null
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Movetype=H
TriggerAll = PlayerID(var(58)),Alive
TriggerAll = PlayerID(var(58)),Statetype!=L
TriggerAll = PlayerID(var(58)),StateNo !=[120,155]
Trigger1 = var(48)!=[2,4]
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = var(48):=1;地上ノ??ルやられ
Trigger2 = PlayerID(var(58)),Statetype =A
Trigger2 = (PlayerID(var(58)),StateNo !=[802,803])&&(PlayerID(var(58)),StateNo !=[2110,2111])
Trigger2 = (PlayerID(var(58)),StateNo !=[852,853])&&(PlayerID(var(58)),StateNo !=[700,703])
Trigger2 = var(48):=2;空中ノ??ルやられ
Trigger3 = PlayerID(var(58)),StateNo=[802,803]
Trigger3 = var(48):=3;鎧通し投げられ中
Trigger4 = PlayerID(var(58)),StateNo=[852,853]
Trigger4 = var(48):=4;後方放り投げられ中
Trigger5 = PlayerID(var(58)),StateNo=[2110,2111];80Fぐるぐる
Trigger5 = var(48):=5;アッパ?やられぐるぐる
Trigger6 = PlayerID(var(58)),StateNo=[700,703]
Trigger6 = var(48):=6;ワイヤ?やられ
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, 敵やられ状態監視リセット]
type = varset
TriggerAll = var(59)>0 && !Ishelper && Numenemy
TriggerAll = var(48)>=1
trigger1 = PlayerID(var(58)),Movetype!=H
trigger2 = PlayerID(Var(58)),Statetype=L
trigger3 = Movetype=H||StateNo=[1900,1920]
trigger4 = Roundstate !=2
var(48)=0
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, 一時用変数リセット]
type = varset
TriggerAll = var(59)>0 && !Ishelper && Numenemy
TriggerAll = var(47)>=1
trigger1 = Movetype=H
trigger2 = Statetype=L
trigger3 = StateNo !=1400||StateNo !=39
var(47)=0
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, EX掌底カウン??判定]
type = varset
TriggerAll = var(59)>0 && !Ishelper && Numenemy
triggerall = StateNo=1120 && Movehit=1
trigger1 = !PlayerID(var(58)),gethitvar(fall)
trigger1 = !(PlayerID(var(58)),hitshakeover)
trigger1 = PlayerID(var(58)),gethitvar(hittime)+PlayerID(var(58)),gethitvar(hitshaketime)+1>=60
var(46)=1
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, EXフリッカ?ヒット判定]
type = varset
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Movetype=H
TriggerAll = PlayerID(var(58)),Alive
TriggerAll = PlayerID(var(58)),Statetype!=L
TriggerAll = PlayerID(var(58)),StateNo !=[120,155]
Trigger1 = var(48)=2
Trigger1 = StateNo=1440 && Movehit
Trigger1 = PlayerID(var(58)),Vel X>0;EXフリッカ?ヒット&自分に吹っ飛び中
var(46)=2
ignorehitpause=1
;---------------------------------------------------------------------------
[State -1, 一時用変数リセット2]
type = varset
TriggerAll = var(59)>0 && !Ishelper && Numenemy
TriggerAll = var(46)>=1
trigger1 = Movetype=H||Statetype=L||Statetype=A
trigger2 = Movetype=A && StateNo !=1120 && StateNo !=1440
var(46)=0
ignorehitpause=1
;===========================================================================
;		超反応一撃技(カウン??)
;===========================================================================
[State -1, 功夫百烈拳];(一撃技)/キャンセルからこの技に派生不可
;上段蹴り→ロック一撃/BD40/7F/ガ?ド不?/始動14F無敵
type = ChangeState
value = 4600
TriggerAll = var(59)>4 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=4000 && Life<=lifemax/4
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*2)=[-3,38]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = var(48)=0
Trigger1 = var(50)<=3
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<700
Trigger1 = Gametime%3<=Random%2 && Random<200+Var(59)*20
Trigger2 = PlayerID(var(58)),Statetype =A
Trigger2 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*7+fvar(10)*24.5)=[-33,-15]
Trigger2 = Gametime%2=0 && Random<var(59)*150

;===========================================================================
;		超反応無敵(1ゲ?ジ以上技)(カウン??)
;===========================================================================
;stateno=1030||stateno=1100||stateno=1110||stateno=1120||stateno =1200||stateno=1210
;stateno=1220||stateno=1301||stateno=1311||stateno=1321||stateno =2210||stateno=2700
;(StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230)&&MoveContact
;(StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505)&&MoveContact
;---------------------------------------------------------------------------
[State -1, 百連撃LV3];AttackDist延長済(230)(削り79)/始動8F無敵
;アッパ?連打(26Hit)/引き寄せ/BD95/発生15F/被G-23F
type = ChangeState
value = 3200
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = (var(0) - var(0)%4)/4 <= 1
TriggerAll = Power>=3000
TriggerAll = Statetype != A
TriggerAll = PrevStateNo !=[1900,1920]
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[45,88]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),numproj
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
TriggerAll = Life<=Lifemax*.3
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<300
Trigger1 = Gametime%4>=2+Random%2 && Random<77

;---------------------------------------------------------------------------
[State -1, 百連撃LV2];AttackDist延長済(230)/始動8F無敵
;アッパ?（中段）→連打/引き寄せ/BD95/発生10F/被G-23F/全体-/→stateno=3110
type = ChangeState
value = 3100
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = (var(0) - var(0)%4)/4 <= 1
TriggerAll = Power>=2000
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[10,90]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),numproj
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<300
Trigger1 = Gametime%3<=Random%2 && Random<300+var(59)*20

;---------------------------------------------------------------------------
[State -1, 3連突LV3];(5連突き) Attack,Dist延長済
;５段突き/BD180/発生16F/被G-20F/全体149F/始動8F無敵
type = ChangeState
value = 3700
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=3000
TriggerAll = Statetype != A
TriggerAll = PrevStateNo !=[1900,1920]
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[75,95]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
TriggerAll = Life=[Lifemax*.3,Lifemax*.6]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<300
Trigger1 = Gametime%3<=Random%2 && Random<10

;---------------------------------------------------------------------------
[State -1, 3連突LV2];Attack.Dist-130迄（延長済）
;３段突き/BD180/発生12F/被G-7F/全体149F/始動8F無敵
type = ChangeState
value = 3600
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=2000
TriggerAll = Statetype != A
TriggerAll = PrevStateNo !=[1900,1920]
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[50,80]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
TriggerAll = Life=[Lifemax*.3,Lifemax*.8]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<333
Trigger1 = Gametime%3<=Random%2 && Random<123

;===========================================================================
;		超反応無敵(EX技)(カウン??)
;===========================================================================
[State -1, EX掌底(カウン??)]
;中段突き/BD250/発生6F/被G-1~-12F/全体42F/始動10F無敵
type = ChangeState
value = 1120
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[40,110]
TriggerAll = PlayerID(var(58)),Vel X=[-1,1]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = !PlayerID(var(58)),Hitdefattr = SC,HA,HP,HT
TriggerAll = var(48)=0
TriggerAll = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<525
Trigger1 = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = PlayerID(var(58)),Statetype=S
Trigger1 = Gametime%2=1 && Random<111+var(59)*25
Trigger2 = PlayerID(var(58)),Time=[5-var(59),7-var(59)]
Trigger2 = PlayerID(var(58)),Hitdefattr=SCA,AT;投げ回避
Trigger2 = Random<var(59)*55
Trigger3 = var(59)>=5
Trigger3 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger3 = Random<150+Ifelse(Life<500,500-Ceil((Life/Lifemax)*80),0)

;---------------------------------------------------------------------------
[State -1, EXアッパ?(カウン??)];ヒット時P2StateNo=2110
;アッパ?/BD38/発生6F/被G-12~-14F/全体48F/始動10F無敵
type = ChangeState
value = 1520
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && Power>=ifelse((Palno>6),300,500)
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[5,30]
TriggerAll = PlayerID(var(58)),Vel X=[-1,1]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<400
Trigger1 = Gametime%3<=Random%2 && Random<222

;---------------------------------------------------------------------------
[State -1, EX３連脚(カウン??)];対人用の連続２択としては面白い
;最高５連脚/足払/BD74/発生6F/被G-35F/全体43F/始動10F無敵
type = ChangeState
value = 1720
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && Power>=ifelse((Palno>6),300,500)
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[5,30]
TriggerAll = PlayerID(var(58)),Vel X=[-1,1]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<400
Trigger1 = Gametime%3<=Random%2 && Random<222+(PlayerID(var(58)),Statetype=C)*300

;---------------------------------------------------------------------------
[State -1, EXフリッカ?(カウン??)];AttackDist延長済(220)/始動10F無敵
;?横/BD180/発生13F/被G-6F/全体36F/Stateno=1420
type = ChangeState
value = 1440
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[5,30]
TriggerAll = PlayerID(var(58)),Vel X=[-1,1]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
TriggerAll = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<400
Trigger1 = Gametime%3<=Random%2 && Random<222+(PlayerID(var(58)),Statetype=C)*300

;===========================================================================
;		超反応無敵(ノ?ゲ?ジ技)(カウン??)
;===========================================================================
[State -1, 弱連環腿(カウン??)];高さ低い/1200-1201(受付)-1205-1202(終了)
;2段蹴り上げ/BD48(地上)/発生8F/被G-9F(2撃-12)/全体57F/10F無敵
type = ChangeState
value = 1200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[-5,40]
TriggerAll = PlayerID(var(58)),Vel X=[-1,1]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Movetype=A
TriggerAll = !PlayerID(var(58)),Hitdefattr = SC,HA,HP,HT
TriggerAll = var(48)=0
TriggerAll = (PrevStateNo=[5000,5290])||(PrevStateNo=[150,155])||Random<555+var(59)*20
Trigger1 = PlayerID(var(58)),Time=[10-var(59)*2,14-var(59)*2]
Trigger1 = PlayerID(var(58)),Statetype=S
Trigger1 = ((var(59)<=4 && Random%2=0)||var(59)>=5) && Random<111+var(59)*33
Trigger2 = PlayerID(var(58)),Time=[5-var(59),7-var(59)]
Trigger2 = PlayerID(var(58)),Hitdefattr=SCA,AT;投げ回避
Trigger2 = Random<var(59)*80
Trigger3 = var(59)>=5
Trigger3 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger3 = Random<200+Ifelse(Life<600,600-Ceil((Life/Lifemax)*80),0)

;===========================================================================
;		ジャストガ?ド(対立ち技)
;===========================================================================
[State -1, JD(立)(対立ち技)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A && (statetype = S || stateno = 5120)
TriggerAll = ctrl || stateno=[120,121]
Trigger1 = PlayerID(var(58)),Statetype = S || PlayerID(var(58)),Statetype = A
Trigger1 = PlayerID(var(58)),Movetype = A
Trigger1 = PlayerID(Var(58)),Hitdefattr = SA, NA,SA
Trigger1 = P2Bodydist X=[-5,80]
Trigger1 = Gametime%5=0
Trigger1 = Random<var(59)*50
attr = SA,AA,AP
stateno = 1900
slot = 0
time = 8
;---------------------------------------------------------------------------
[State -1, JD(屈)(対立ち技)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A && (statetype = C || stateno = 5120)
TriggerAll = ctrl || stateno=[120,121]
Trigger1 = PlayerID(var(58)),Statetype = S || PlayerID(var(58)),Statetype = A
Trigger1 = PlayerID(var(58)),Movetype = A
Trigger1 = PlayerID(Var(58)),Hitdefattr = SA, NA,SA
Trigger1 = P2Bodydist X=[-5,80]
Trigger1 = Gametime%5=1
Trigger1 = Random<var(59)*50
attr = SA,AA,AP
stateno = 1910
slot = 0
time = 8
;---------------------------------------------------------------------------
[State -1, JD(空)(対立ち技)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype = A && (ctrl || StateNo = 40)
TriggerAll = ctrl || stateno= 122
Trigger1 = PlayerID(var(58)),Statetype = S || PlayerID(var(58)),Statetype = A
Trigger1 = PlayerID(var(58)),Movetype = A
Trigger1 = PlayerID(Var(58)),Hitdefattr = SA, NA,SA
Trigger1 = P2Bodydist X=[-5,80]
Trigger1 = Gametime%5=2
Trigger1 = Random<var(59)*50
attr = SA,AA,AP
stateno = 1920
slot = 0
time = 8

;===========================================================================
;		ジャストガ?ド(対飛び道具)
;===========================================================================
[State -1, JD(立)(対飛び道具)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A && (statetype = S || stateno = 5120)
TriggerAll = ctrl || stateno=[120,121]
Trigger1 = P2Bodydist X>=50
Trigger1 = Gametime%3=0
Trigger1 = Random<100+var(59)*40
attr = SA, AP
stateno = 1900
slot = 0
time = 8
;---------------------------------------------------------------------------
[State -1, JD(屈)(対飛び道具)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A && (statetype = C || stateno = 5120)
TriggerAll = ctrl || stateno=[120,121]
Trigger1 = P2Bodydist X>=50
Trigger1 = Gametime%3=1
Trigger1 = Random<100+var(59)*40
attr = SA, AP
stateno = 1910
slot = 0
time = 8
;---------------------------------------------------------------------------
[State -1, JD(空)(対飛び道具)];ジャストガ?ド/全体4F
type = hitoverride
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype = A && (ctrl || StateNo = 40)
TriggerAll = ctrl || stateno= 122
Trigger1 = P2Bodydist X>=50
Trigger1 = Gametime%3=2
Trigger1 = Random<100+var(59)*40
attr = SA, AP
stateno = 1920
slot = 0
time = 8

;===========================================================================
;		投げ
;===========================================================================
[State -1, 鎧通し投げ];画面?押しつけ→大足/1F
;発生1F/成功時自分stateno=801/相手stateno=802,803
type = ChangeState
value = 800
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A && Ctrl
TriggerAll = Stateno != 100
TriggerAll = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Movetype !=H
TriggerAll = PlayerID(var(58)),Alive
TriggerAll = P2Bodydist X=[-6,7]
TriggerAll = Random<700+var(59)*40
Trigger1 = PrevstateNo = [5000,5270]
Trigger2 = PrevstateNo = [150,155]
Trigger3 = Random<200+var(59)*20
Trigger4 = PlayerID(var(58)),StateNo>=200
Trigger4 = PlayerID(var(58)),Movetype=I
Trigger4 = !PlayerID(var(58)),Ctrl
Trigger4 = PlayerID(var(58)),AnimTime=[-2,0]

;---------------------------------------------------------------------------
[State -1, 後ろに放り投げ];画面?背負い→？/1F
;発生1F/成功時自分stateno=851/相手stateno=852,853
type = ChangeState
value = 850
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A && Ctrl
TriggerAll = Stateno != 100
TriggerAll = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Movetype !=H
TriggerAll = PlayerID(var(58)),Alive
TriggerAll = P2Bodydist X=[-3,7]
TriggerAll = Random<300+var(59)*60
Trigger1 = PrevstateNo = [5000,5270]
Trigger2 = PrevstateNo = [150,155]
Trigger3 = Random<200+var(59)*20
Trigger4 = PlayerID(var(58)),StateNo>=200
Trigger4 = PlayerID(var(58)),Movetype=I
Trigger4 = !PlayerID(var(58)),Ctrl
Trigger4 = PlayerID(var(58)),AnimTime=[-2,0]

;===========================================================================
;		投げ回避用(ジャンプ、バック?ッシュに投げ回避性?無)
;===========================================================================
;===========================================================================
;		ガ?ドキャンセル
;===========================================================================
[State -1, ガ?キャンショル??]
;BD73/発生7F/被G-18F/全体51/ふっ飛ばし
type = ChangeState
value = 8200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A
TriggerAll = Power >= 1000 && (StateNo = [150,153])
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Movetype !=H
TriggerAll = PlayerID(var(58)),Alive
TriggerAll = var(48)=0
TriggerAll = var(49)>=9-var(59)
TriggerAll = P2Bodydist X-Floor(PlayerID(var(58)),Vel X*7)=[10,60]
TriggerAll = Random<100+var(59)*60
Trigger1 = var(59)>=3
Trigger1 = PlayerID(var(58)),Movetype = A
Trigger1 = !PlayerID(var(58)),Hitdefattr = SCA, HA, HT, HP
Trigger1 = PlayerID(var(58)),Animtime<=-7
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[0,58]
Trigger1 = (var(59)>=5&&Gametime%2=0)||((var(59)=[3,4])&&Gametime%3=0)
Trigger1 = Random<200+var(59)*100
ignorehitpause = 1

;---------------------------------------------------------------------------
[State -1, ガ?キャン前?]
type = ChangeState
value = 166
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power >= 500 && (StateNo = [150,153])
TriggerAll = Statetype != A
Trigger1 = var(49)>=10-var(59)
trigger1 = P2Bodydist X=[10,60]
trigger1 = Time+var(59)*2=[10,15]
trigger1 = Random<var(59)*50
ignorehitpause = 1

;---------------------------------------------------------------------------
[State -1, ガ?キャン後?]
type = ChangeState
value = 161
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power >= 500 && (StateNo = [150,153])
TriggerAll = Statetype != A
TriggerAll = var(48)=0
Trigger1 = var(59)<=3
Trigger1 = var(49)>=10-var(59)
trigger1 = P2Bodydist X=[10,60]
trigger1 = Time+var(59)*2=[10,15]
trigger1 = Random<10+var(59)*10
ignorehitpause = 1

;===========================================================================
;		ガ?ド
;===========================================================================
[State -1, ガ?ド]
Type = ChangeState
Value = 120
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Ctrl
TriggerAll = InGuardDist
TriggerAll = Random < Var(59)*200
Trigger1 = prevstateno = [120,155]
Trigger2 = (P2BodyDist X =[-30,0]) && Random < 350;めくり弱化
Trigger3 = prevstateno = [5000,5270]
Trigger4 = PlayerID(var(58)),NumProj>=1 && Random<350
Trigger5 = Ctrl

;---------------------------------------------------------------------------
[State -1, 突進系対策ガ?ド]
Type = ChangeState
Value = 120
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Ctrl
TriggerAll = !InGuardDist 
TriggerAll = Random < Var(59)*150
Trigger1 = PlayerID(var(58)),Vel X>1
Trigger1 = PlayerID(var(58)),HitDefAttr = SC,AA

;===========================================================================
;		超反応前?
;===========================================================================
[State -1, 前?]
type = ChangeState
value = 165
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = StateNo !=200||StateNo !=220||StateNo !=400
TriggerAll = Statetype != A
TriggerAll = Ctrl||(StateNo =[120,140])
Trigger1 = var(59)>=5
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = P2Bodydist X=[70,80]
Trigger1 = PlayerID(var(58)),Movetype=A
Trigger1 = PlayerID(var(58)),Time<=1
Trigger1 = !PlayerID(var(58)),Hitdefattr = SCA,HA,HP,HT
Trigger1 = Random<50+(Random%2*50)+(PlayerID(var(58)),Hitdefattr=SC,NA,SA)*100
Trigger2 = !InguardDist
Trigger2 = P2BodyDist X =[-40,0];めくり拒否
Trigger2 = PlayerID(var(58)),Statetype = A
Trigger2 = PlayerID(var(58)),Vel Y<=0
Trigger2 = PlayerID(var(58)),Movetype=A
Trigger2 = PlayerID(var(58)),Time<=10
Trigger2 = Random<50+(Random%2*50)

;===========================================================================
;		一撃技(隙突き)
;===========================================================================
[State -1, 功夫百烈拳(隙突き)];(一撃技)/キャンセルからこの技に派生不可
;上段蹴り→ロック一撃/BD40/7F/ガ?ド不?/始動14F無敵
type = ChangeState
value = 4600
TriggerAll = (var(59)=[2,3]) && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=4000 && Life<=lifemax/4
TriggerAll = Statetype != A
TriggerAll = P2Bodydist X=[-5,39]
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = PlayerID(var(58)),Animtime<=-7
TriggerAll = var(59)>=3
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=1

;===========================================================================
;		隙突き & 接地
;===========================================================================
[State -1, 強パン?(遠)(隙突き)(接地)]
;(遠)上段正拳/BD82/発生8F/被G-8F/全体36F(しゃがみに当たらず)
type = ChangeState
value = 215
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[20,75]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = PlayerID(var(58)),Animtime<=-8
TriggerAll = var(50)<=3
Triggerall = !(Power>3000 && Life<200 && Ceil(PlayerID(var(58)),Vel X*6)<=36)
Triggerall = (Random<350*(Random%2+1)&&var(59)=4)||var(59)>=5
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=1
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl&&PrevStateNo=52)||(StateNo=52&&Animtime=0)
;Trigger4 = Gametime%2=0 && (PrevStateNo=[1900,1910])
;Trigger4 = PlayerID(var(58)),Statetype=S
;Trigger4 = PlayerID(var(58)),Movetype=A
;Trigger4 = Random<100+var(59)*80

;---------------------------------------------------------------------------
[State -1, 吹っ飛ばし(肩)(隙突き)]
;鉄山こ?/BD73/発生7F/被G-18F/全体51F
type = ChangeState
value = 300
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[30,70]
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Ctrl=0
TriggerAll = PlayerID(var(58)),Animtime<=-7
TriggerAll = (Random<300+var(59)*100 && var(59)<=3)||var(59)>=4
TriggerAll = FrontEdgeBodydist>70 && BackEdgeBodydist>50
Triggerall = !(Power>3000 && Life<200 && Ceil(PlayerID(var(58)),Vel X*6)<=36)
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=1

;---------------------------------------------------------------------------
[State -1, 弱アッパ?(隙突き)];ヒット時P2StateNo=2110
;アッパ?/BD38/発生6F/被G-3~-5F/全体39F
type = ChangeState
value = 1500
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[-5,36]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = PlayerID(var(58)),Animtime<=-6
TriggerAll = var(50)<=3
Triggerall = Power>3000 && Life<200
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=1
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl&&PrevStateNo=52)||(StateNo=52&&Animtime=0)

;---------------------------------------------------------------------------
[State -1, しゃがみ弱キック(隙突き)(接地)]
;小足/BD49/発生3F/被G-4F/全体17
type = ChangeState
value = 420
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-8,45]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
triggerall = (Random<350*(Random%2+1)&&var(59)=4)||var(59)>=5
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Animtime<=-4
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200||PlayerID(var(58)),StateNo=52
Trigger2 = var(48)=1
Trigger2 = PlayerID(var(58)),Animtime<=-4
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl && PrevStateNo=52)||(StateNo=52 && Animtime=0)
Trigger4 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger4 = PlayerID(var(58)),Movetype=A
Trigger4 = PlayerID(var(58)),Animtime<=-4
Trigger4 = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
Trigger4 = Random<100+var(59)*80

;---------------------------------------------------------------------------
[State -1, 弱キック(近)(隙突き)(接地)]
;(近)立ちロ?/BD23/発生3F/いつでも/被G+22F/全体-
type = ChangeState
value = 220
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-5,20]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
triggerall = (Random<350*(Random%2+1)&&var(59)=4)||var(59)>=5
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Animtime<=-3
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200||PlayerID(var(58)),StateNo=52
Trigger2 = var(48)=1
Trigger2 = PlayerID(var(58)),Animtime<=-3
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
Trigger4 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger4 = PlayerID(var(58)),Movetype=A
Trigger4 = PlayerID(var(58)),Animtime<=-3
Trigger4 = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
Trigger4 = Random<100+var(59)*80

;---------------------------------------------------------------------------
[State -1, 屈弱パン?(隙突き)(接地)]
;BD38/発生3F/被G+5/全体-
type = ChangeState
value = 400
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-5,33]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
triggerall = (Random<350*(Random%2+1)&&var(59)=4)||var(59)>=5
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Animtime<=-3
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200||PlayerID(var(58)),StateNo=52
Trigger2 = var(48)=1
Trigger2 = PlayerID(var(58)),Animtime<=-3
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
Trigger4 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger4 = PlayerID(var(58)),Movetype=A
Trigger4 = PlayerID(var(58)),Animtime<=-3
Trigger4 = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
Trigger4 = Random<100+var(59)*80

;---------------------------------------------------------------------------
[State -1, 弱パン?(隙突き)(接地)]
;立ち弱P/BD 48/発生3F/いつでもガ?ド可/被G+5F/全体-(しゃがみに当たらず)
type = ChangeState
value = 200
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-5,45]
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = var(50)<=3
Triggerall = (Random<350*(Random%2+1)&&var(59)=4)||var(59)>=5
Trigger1 = var(48)=0 && StateNo!=52
Trigger1 = PlayerID(var(58)),Animtime<=-3
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200||PlayerID(var(58)),StateNo=52
Trigger2 = var(48)=1
Trigger2 = PlayerID(var(58)),Animtime<=-3
Trigger3 = PlayerID(Var(58)),Movetype=H
Trigger3 = (Ctrl && PrevStateNo=52)||(StateNo=52&&Animtime=0)
Trigger4 = Gametime%2=0 && (PrevStateNo=[1900,1910])
Trigger4 = PlayerID(var(58)),Movetype=A
Trigger4 = PlayerID(var(58)),Animtime<=-3
Trigger4 = PlayerID(var(58)),Hitdefattr != SC,HA,HP,HT
Trigger4 = Random<100+var(59)*80

;===========================================================================
;		カウン??EX掌底繋ぎ
;===========================================================================
[State -1, 功夫百烈拳(カウン??EX掌底繋ぎ)];(一撃技)/キャンセルからこの技に派生不可
;上段蹴り→ロック一撃/BD40/7F/ガ?ド不?/始動14F無敵
type = ChangeState
value = 4600
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=4000 && Life<=lifemax/4
TriggerAll = Statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Ctrl
Trigger1 = P2Bodydist X=[-2,39]
trigger1 = var(46)=1
trigger1 = var(46):=0||1
;---------------------------------------------------------------------------
[State -1, 百連撃LV3(カウン??EX掌底繋ぎ)];AttackDist延長済(230)(削り79)/始動8F無敵
;アッパ?連打(26Hit)/引き寄せ/BD95/発生15F/被G-23F
type = ChangeState
value = 3200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Ctrl
Trigger1 = P2Bodydist X=[36,90]
trigger1 = var(46)=1
trigger1 = var(46):=0||1
;---------------------------------------------------------------------------
[State -1, 瓦割り(カウン??EX掌底繋ぎ)]
type = ChangeState
value = 500
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Ctrl
trigger1 = var(46)=1
Trigger1 = P2Bodydist X=[-2,40]
trigger1 = var(46):=0||1
;---------------------------------------------------------------------------
[State -1, フリッカ?(横)(カウン??EX掌底繋ぎ)]
;x/?横 /BD180/発生13F/被G-6F/全体36F/Stateno=1420/fvar(17)=1(溜め)
;y/斜め上/BD90/発生11F/被G-8F/全体35F/Stateno=1430/fvar(17)=2(溜め)
type = ChangeState
value = 1400
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Ctrl
trigger1 = var(46)=1
Trigger1 = P2Bodydist X=[41,180]
Trigger1 = var(47):=1
trigger1 = var(46):=0||1
;===========================================================================
;		繋ぎ
;===========================================================================
[State -1, 功夫百烈拳(空中確定追い打ち)];(一撃技)/キャンセルからこの技に派生不可
;上段蹴り→ロック一撃/BD40/7F/ガ?ド不?/始動14F無敵
type = ChangeState
value = 4600
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Power>=4000 && Life<=lifemax/4
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)||(Ctrl && PrevStateNo=52)
TriggerAll = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*7+fvar(10)*24.5)=[-55,-18]
TriggerAll = !((P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[-15,15])&&(P2Dist Y+Floor(PlayerID(var(58)),Vel Y*7+fvar(10)*24.5)=[-55,-40]))
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(59)>=4
Trigger1 = P2Bodydist X=[0,39]
Trigger1 = var(48)=5
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[0,39]
Trigger2 = var(48)=6

;===========================================================================
;ゲ?ジ技キャンセル一般キャンセル基?
;stateno=1030||stateno=1100||stateno=1110||stateno=1120||stateno =1200||stateno=1210
;stateno=1220||stateno=1301||stateno=1311||stateno=1321||stateno =2210||stateno=2700
;(StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230)&&MoveContact
;(StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505)&&MoveContact
;===========================================================================
[State -1, 駄々っ娘拳(MAX2繋ぎ)];Ctrl時未使用
;突進打撃/全横/発生13F/被G-5F/全体-/始動50F無敵!
type = ChangeState
value = 4500
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= 2000
TriggerAll = life <= lifemax/4
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A
TriggerAll = (stateno=3010 && Animelemtime(20)>0)||(stateno=3510 && Animelemtime(17)>=0)
Trigger1 = var(48)=1
Trigger2 = PlayerID(var(58)),Statetype !=A||(P2Dist Y+Floor(PlayerID(var(58)),Vel Y*13+fvar(10)*84.5)=[-10,-30])
Trigger2 = (PlayerID(var(58)),StateNo=[120,155]) && PlayerID(var(58)),Life<=30
Trigger3 = var(48)=2
Trigger3 = (P2Dist Y+Floor(PlayerID(var(58)),Vel Y*13+fvar(10)*84.5)=[-10,-30])

;---------------------------------------------------------------------------
[State -1, 百連撃LV1(MAX2用繋ぎ)];AttackDist延長済(230)/始動4F無敵/MAX2移行用
;連打/引き寄せ/BD180/発生15F/被G-26F/全体93F/→stateno=3010
;MAX2への繋ぎのためにここではEX技は除外
type = ChangeState
value = 3000
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*15)=[10,150]
TriggerAll = (stateno=1100||stateno=1110||stateno =1200||stateno=1210||stateno=1301||stateno=1311||stateno =2210||stateno=2700)
TriggerAll = Movehit
TriggerAll = Power<2000||(Power>=3000 && Life<400)
Trigger1 = var(48)=1
Trigger2 = var(48)=2
Trigger2 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*15+fvar(10)*112.5)=[-35,-15]
Trigger3 = PlayerID(var(58)),Statetype =A && PlayerID(var(58)),StateNo=[120,155]
Trigger3 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*15+fvar(10)*112.5)=[-35,-15]
Trigger3 = Gametime%2=0 && Random<var(59)*150

;---------------------------------------------------------------------------
[State -1, 3連突LV1(MAX2用繋ぎ)];MAX2移行用?
;３段突き/BD88/発生12F/被G-20F/全体149F/始動4F無敵
;MAX2への繋ぎのためにここではEX技は除外
type = ChangeState
value = 3500
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*16)=[5,60]
TriggerAll = (stateno=1100||stateno=1110||stateno=1301||stateno=1311||stateno =2210||stateno=2700);stateno =1200||stateno=1210
TriggerAll = Movehit
TriggerAll = Power<2000||(Power>=3000 && Life<400)
Trigger1 = var(48)=1
Trigger2 = var(48)=2
Trigger2 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*12+fvar(10)*72)=[-33,-15]
Trigger3 = PlayerID(var(58)),Statetype =A && PlayerID(var(58)),StateNo=[120,155]
Trigger3 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*12+fvar(10)*72)=[-33,-15]
Trigger3 = Gametime%2=0 && Random<var(59)*150

;---------------------------------------------------------------------------
[State -1, 百連撃LV3];AttackDist延長済(230)(削り79)/始動8F無敵
;アッパ?連打(26Hit)/引き寄せ/BD95/発生15F/被G-23F
type = ChangeState
value = 3200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = (var(0) - var(0)%4)/4 <= 1
TriggerAll = power >= 3000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*15)=[0,150]
TriggerAll = Life>=400
TriggerAll = (stateno=1100||stateno=1110||stateno=1301||stateno=1311||stateno =2210||stateno=2700);stateno =1200||stateno=1210
TriggerAll = Movehit
Trigger1 = var(48)=1
Trigger2 = var(48)=2
Trigger2 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*15+fvar(10)*112.5)=[-35,-15]
Trigger3 = PlayerID(var(58)),Statetype =A && PlayerID(var(58)),StateNo=[120,155]
Trigger3 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*15+fvar(10)*112.5)=[-35,-15]
Trigger3 = Gametime%2=0 && Random<var(59)*150

;---------------------------------------------------------------------------
[State -1, 百連撃LV2];AttackDist延長済(230)/始動8F無敵
;アッパ?（中段）→連打/引き寄せ/BD95/発生10F/被G-23F/全体-/→stateno=3110
type = ChangeState
value = 3100
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = (var(0) - var(0)%4)/4 <= 1
TriggerAll = power >= 2000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*15)=[10,150]
TriggerAll = Power<3000
TriggerAll = (stateno=1100||stateno=1110||stateno=1301||stateno=1311||stateno =2210||stateno=2700);stateno =1200||stateno=1210
TriggerAll = Movehit
Trigger1 = var(48)=1
Trigger2 = var(48)=2
Trigger2 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*10+fvar(10)*50)=[-34,-12]
Trigger3 = PlayerID(var(58)),Statetype =A && PlayerID(var(58)),StateNo=[120,155]
Trigger3 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*10+fvar(10)*50)=[-34,-12]
Trigger3 = Gametime%2=0 && Random<var(59)*150

;---------------------------------------------------------------------------
[State -1, 瓦割り(キャンセル用)(繋ぎ)]
;(StateNo != 500 && StateNo != 505)/瓦割り→瓦割りx
type = ChangeState
value = 505
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[-10,30]
Trigger1 = var(48)=1
Trigger1 = (StateNo=210||StateNo=230) && MoveHit=1
;Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*10+fvar(10)*50)=[-30,-15]
Trigger2 = var(48)=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2

;---------------------------------------------------------------------------
[State -1, 強パン?(近)(EXフリッカ?後追い打ち)]
;(近)肘/BD23/発生6F/被G-2F/全体36F
type = ChangeState
value = 210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X<23
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Ctrl
Trigger1 = var(48)=2 && var(46)=2
;Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*6+fvar(10)*18)=[-35,-10]

;---------------------------------------------------------------------------
[State -1, 弱アッパ?];ヒット時P2StateNo=2110
;アッパ?/BD38/発生6F/被G-3~-5F/全体39F
type = ChangeState
value = 1500
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && var(59)>=3
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[0,29]
TriggerAll = var(48)=1
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)<=25
Trigger1 = (StateNo=210||StateNo=230) && MoveHit=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2
Trigger3 = Numhelper(111111) && Numhelper(111112)
Trigger3 = (Helper(111111),Rootdist X<60 && Facing=1)||(Helper(111112),Rootdist X<60 && Facing=-1)
Trigger3 = StateNo=200||StateNo=220||StateNo=400||StateNo=420
Trigger3 = MoveHit
Trigger4 = Power>3000 && Life<400
Trigger4 = StateNo=200||StateNo=220||StateNo=400;||StateNo=420
Trigger4 = MoveHit

;---------------------------------------------------------------------------
[State -1, EXフリッカ?(繋ぎ)];AttackDist延長済(220)/始動10F無敵
;?横/BD180/発生13F/被G-6F/全体36F/Stateno=1420
type = ChangeState
value = 1440
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Power>=ifelse((Palno>6),300,500) && Power<2000
TriggerAll = var(48)=1
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*13)=[0,150]
Trigger1 = StateNo=210||StateNo=215||StateNo=230
Trigger1 = MoveHit
;Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*13)>=70
Trigger2 = P2Bodydist X>=25
Trigger2 = StateNo=420 && MoveHit

;---------------------------------------------------------------------------
[State -1, 強掌底(繋ぎ)]
;中段突き/BD130/発生10F/被G-1~-12F/全体41F
type = ChangeState
value = 1110
TriggerAll = var(59)>2 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[0,120]
TriggerAll = Power>=1000
TriggerAll = !(Random<333 && PlayerID(Var(58)),Life>=Life && P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)<=70)
Trigger1 = var(48)=1 && (StateNo=210||StateNo=215||StateNo=230) && Movehit=1
Trigger2 = var(48)=1 && StateNo=410 && MoveHit && HitCount=2
Trigger3 = var(48)=1 && (StateNo=500||StateNo=505) && Movehit && Time>=17
Trigger4 = var(48)=5
Trigger4 = Ctrl
Trigger4 = !(Power>=3000 && Life<200)
Trigger4 = PlayerID(var(58)),StateNo=2110 && PlayerID(var(58)),Time<60
Trigger5 = var(48)=6
Trigger5 = Ctrl
Trigger5 = !(Power>=3000 && Life<200)
Trigger5 = PlayerID(var(58)),StateNo>=701
Trigger5 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)>=30
Trigger5 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*10+fvar(10)*50)=[-29,-15]

;---------------------------------------------------------------------------
[State -1, 弱掌底(繋ぎ)];MAX２への布石
;中段突き/BD96/発生17F/被G-5~-12F/全体41F
type = ChangeState
value = 1100
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && var(59)<=3
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*15)=[5,80]
TriggerAll = Power>=3000
TriggerAll = var(48)=1
Trigger1 = (StateNo=210||StateNo=230) && MoveHit=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2

;---------------------------------------------------------------------------
[State -1, 強アッパ?];ヒット時P2StateNo=2110
;アッパ?/BD38/発生8F/被G-12~-16F/全体52F
type = ChangeState
value = 1510
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && var(59)=2
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,25]
TriggerAll = var(48)=1
Trigger1 = (StateNo=210||StateNo=230) && MoveHit=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2
Trigger3 = var(48)=1
Trigger3 = Numhelper(111111) && Numhelper(111112)
Trigger3 = (Helper(111111),Rootdist X<50 && Facing=1)||(Helper(111112),Rootdist X<50 && Facing=-1)
Trigger3 = StateNo=200||StateNo=420||StateNo=400||StateNo=220
Trigger3 = MoveHit
Trigger4 = var(48)=6
Trigger4 = !(Power>=3000 && Life<200)
Trigger4 = PlayerID(var(58)),StateNo>=701
Trigger4 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-29,-12]

;===========================================================================
; EX３連脚繋ぎ用(1720-1721(受)-1722(受)-1723(受)-1724(受)-1725(受)-1726(受)
;===========================================================================
[State -1, EX3連脚2(繋ぎ)]
type = ChangeState
value = 1721+Ifelse((PlayerID(var(58)),StateNo=[120,155]),Random%2,0)
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A && StateNo=1720
TriggerAll = Time>=7+Ifelse(Moveguarded,3+Random%5,0)
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[0,80]
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, EX3連脚3-1(繋ぎ)]
type = ChangeState
value = 1723+Ifelse((PlayerID(var(58)),StateNo=[120,155]),Random%2,0)
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A && StateNo=1721
TriggerAll = Time>=7+Ifelse(Moveguarded,3+Random%5,0)
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, EX3連脚3-2(繋ぎ)]
type = ChangeState
value = 1723+Ifelse((PlayerID(var(58)),StateNo=[120,155]),Random%2,0)
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A && StateNo=1722
TriggerAll = Time>=7+Ifelse(Moveguarded,3+Random%5,0)
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, EX3連脚4-1(繋ぎ)]
type = ChangeState
value = 1725+Ifelse((PlayerID(var(58)),StateNo=[120,155]),Random%2,0)
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A && StateNo=1723
TriggerAll = Time>=7+Ifelse(Moveguarded,3+Random%5,0)
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, EX3連脚4-2(繋ぎ)]
type = ChangeState
value = 1725+Ifelse((PlayerID(var(58)),StateNo=[120,155]),Random%2,0)
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A && StateNo=1724
TriggerAll = Time>=7+Ifelse(Moveguarded,3+Random%5,0)
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, EX3連脚5(繋ぎ)]
type = ChangeState
value = 1727
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A
TriggerAll = StateNo=1725||StateNo=1726
TriggerAll = Time>=7
Trigger1 = var(48)=1
Trigger2 = var(48)=0
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo=[120,155]

;---------------------------------------------------------------------------
[State -1, 強３連脚3(繋ぎ)]
;ハイ/BD60/発生-F/被G-25F/全体100F
type = ChangeState
value = 1712
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = stateno = 1711 && time >= 6
Trigger1 = Movehit
Trigger1 = var(48)=[1,2]

;---------------------------------------------------------------------------
[State -1, 強３連脚2(繋ぎ)]
;?ドル/BD90/発生-F/被G-25F/全体64F
type = ChangeState
value = 1711
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = stateno = 1710 && time >= 7
Trigger1 = Movehit
Trigger1 = var(48)=[1,2]

;---------------------------------------------------------------------------
[State -1, 強３連脚1(繋ぎ)];Ctrl時未指定
;足払/BD74/発生6F/被G-35F/全体43F
type = ChangeState
value = 1710
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && var(59)>=4
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[0,70]
Trigger1 = var(48)=1
Trigger1 = (StateNo=210||StateNo=215||StateNo=230) && MoveHit=1
Trigger2 = var(48)=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2
Trigger3 = var(48)=1
Trigger3 = (StateNo=500||StateNo=505) && MoveHit && Time>17

;---------------------------------------------------------------------------
[State -1, 百連撃LV1(通常繋ぎ)];AttackDist延長済(230)/始動4F無敵/MAX2移行用
;連打/引き寄せ/BD180/発生15F/被G-26F/全体93F/→stateno=3010
type = ChangeState
value = 3000
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = (var(0) - var(0)%4)/4 <= 1
TriggerAll = power >= 1000
TriggerAll = Power<2000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Statetype !=A
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*15)=[10,150]
TriggerAll = var(48)=1
Trigger1 = StateNo=210||StateNo=215||StateNo=230
Trigger1 = MoveHit=1
Trigger2 = StateNo=500||StateNo=505
Trigger2 = MoveHit && Time>17

;---------------------------------------------------------------------------
[State -1, 弱３連脚3(繋ぎ)]
;ハイ/BD60/発生-F/被G-25F/全体100F
type = ChangeState
value = 1702
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = stateno = 1701 && time >= 6
Trigger1 = Movehit
Trigger1 = var(48)=[1,2]

;---------------------------------------------------------------------------
[State -1, 弱３連脚2(繋ぎ)]
;?ドル/BD90/発生-F/被G-25F/全体64F
type = ChangeState
value = 1701
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = stateno = 1700 && time >= 7
Trigger1 = Movehit
Trigger1 = var(48)=[1,2]

;---------------------------------------------------------------------------
[State -1, 弱３連脚1(繋ぎ)];Ctrl時未指定
;足払/BD74/発生6F/被G-35F/全体43F
type = ChangeState
value = 1700
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && (var(59)=[2,3])
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[0,70]
TriggerAll = var(48)=1
Trigger1 = (StateNo=210||StateNo=215||StateNo=230) && MoveHit=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2
Trigger3 = (StateNo=500||StateNo=505) && MoveHit && Time>17

;---------------------------------------------------------------------------
[State -1, フリッカ?(横)(繋ぎ)]
;溜めは別口で設定しないと使えない
;x/?横 /BD180/発生13F/被G-6F/全体36F/Stateno=1420/fvar(17)=1(溜め)
;y/斜め上/BD90/発生11F/被G-8F/全体35F/Stateno=1430/fvar(17)=2(溜め)
type = ChangeState
value = 1400
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*13)=[30,150]
Trigger1 = StateNo=210||StateNo=215||StateNo=230
Trigger1 = MoveHit && var(48)>=1
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*13)>=70
Trigger1 = var(47):=1
Trigger2 = P2Bodydist X>=33
Trigger2 = StateNo=420 && MoveContact
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = var(47):=1

;---------------------------------------------------------------------------
[State -1, EX連環腿(グルグル追い打ち)];高さ高め(4連撃)/1220-1221(受付)-1225-1202(終了)
;2段蹴り上げ/BD48(地上)/発生12F/被G-23F(2撃-27)/全体68F/始動10F無敵
type = ChangeState
value = 1220
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Ctrl
Trigger1 = var(48)=5
Trigger1 = !(Power>=3000 && Life<200)
Trigger1 = P2Bodydist X=[5,50]
Trigger1 = PlayerID(Var(58)),StateNo=2110
;Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-70,-30]

;---------------------------------------------------------------------------
[State -1, 弱肘突進(繋ぎ)];ワイヤ?P2stateNo=700-701-702-703-5100
;上段ぽい肘/BD102/発生16F/被G-5F/全体42F/ヒット時ワイヤ?
type = ChangeState
value = 1600
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*17)=[50,95]
TriggerAll = var(48)=1
Trigger1 = (StateNo=210||StateNo=215||StateNo=230) && MoveHit=1
Trigger2 = StateNo=410 && MoveHit && HitCount=2
Trigger3 = (StateNo=500||StateNo=505) && MoveHit && Time>17

;---------------------------------------------------------------------------
[State -1, キャンセル幽霊砲];発生が早くなる
;Ghost/BD前/飛び道具/?横/発生27F/全体68F
type = ChangeState
value = 1030
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
Triggerall = var(10)!=2 && Numhelper(1006)=0 && Numhelper(1016)=0 &&  Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||var(10)=2 && Numhelper(1031)=0
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)>70
Trigger1 = StateNo != 1200
Trigger1 = StateNo=210||StateNo=215||StateNo=230
Trigger1 = MoveGuarded
Trigger1 = PlayerID(Var(58)),Movetype=H
Trigger2 = StateNo=500||StateNo=505
Trigger2 = MoveGuarded && Time>=17
Trigger2 = PlayerID(var(58)),movetype=H
;(StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230)&&MoveContact
;(StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505)&&MoveContact

;---------------------------------------------------------------------------
[State -1, 強連環腿(ワイヤ?・グルグル追い打ち)]
;高さ高め/1210-1211(受付)-※1205-※1202(終了)
;3段蹴り上げ/BD48(地上)/発生8F/被G-9F(2撃-27)/全体79F
type = ChangeState
value = 1210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Statetype = A
TriggerAll = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-50,-10]
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,48]
Trigger1 = Ctrl && var(48)=5
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,48]
Trigger2 = Ctrl && var(48)=6
Trigger2 = PlayerID(var(58)),StateNo=[701,703]
Trigger2 = PlayerID(var(58)),Vel X>=0
Trigger3 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)<=48
Trigger3 = var(48)=2
Trigger3 = (StateNo=505||StateNo=210) && Movehit 

;===========================================================================
;		起き攻め
;===========================================================================
[State -1, 強幽霊砲(起き攻め)]
;Ghost/BD前/飛び道具/波/発生27F/全体68F
type = ChangeState
value = 1010
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = Numhelper(1055)=0 && NumHelper(1056)=0 && NumHelper(1057)=0
TriggerAll = statetype != A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype =L
TriggerAll = var(59)>=3
TriggerAll = Numhelper(111111) && Numhelper(111112)
TriggerAll = (Helper(111111),Rootdist X>60 && Facing=1)||(Helper(111112),Rootdist X>60 && Facing=-1)
Trigger1 = PlayerID(var(58)),StateNo = [5100,5200]
Trigger1 = PlayerID(var(58)),Vel X<=0
Trigger1 = P2Bodydist X=[30,100]
Trigger1 = PlayerID(var(58)),Time<=2
Trigger1 = Gametime%2=0
Trigger1 = Random<50+var(59)*10

;===========================================================================
;		対空
;===========================================================================
; 対空用連環腿
;---------------------------------------------------------------------------
;StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230
;StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505
;Movecontact
;---------------------------------------------------------------------------
[State -1, EX連環腿];高さ高め(4連撃)/1220-1221(受付)-1225-1202(終了)
;2段蹴り上げ/BD48(地上)/発生12F/被G-23F(2撃-27)/全体68F/始動10F無敵
type = ChangeState
value = 1220
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Ctrl && var(59)>=2
Trigger1 = var(48)!=5
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,48]
Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-50,-20]
Trigger1 = Gametime%5<=Random%2
Trigger1 = Random<var(59)*22+(PlayerID(var(58)),Movetype=A)*200

;---------------------------------------------------------------------------
[State -1, 弱連環腿(対空)];高さ低い/1200-1201(受付)-1205-1202(終了)
;2段蹴り上げ/BD48(地上)/発生8F/被G-9F(2撃-12)/全体57F/10F無敵
type = ChangeState
value = 1200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Ctrl
Trigger1 = var(48)!=5
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,48]
Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-45,-20]
Trigger1 = Random<120+var(59)*50+(PlayerID(var(58)),Movetype=A)*200

;---------------------------------------------------------------------------
[State -1, 強連環腿];高さ高め/1210-1211(受付)-※1205-※1202(終了)
;3段蹴り上げ/BD48(地上)/発生8F/被G-9F(2撃-27)/全体79F
type = ChangeState
value = 1210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Ctrl
Trigger1 = var(48)!=5
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[5,48]
Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-45,-10]
Trigger1 = Gametime%3=0
Trigger1 = Random<var(59)*30+(PlayerID(var(58)),Movetype=A)*200

;===========================================================================
; 連環腿繋ぎ用
;===========================================================================
[State -1, EX連環腿３撃目以?];高さ高め(4連撃)/1220-1221(受付)-1225-1202(終了)
type = ChangeState
value = 1225
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype = A
triggerAll = Vel Y < -1
triggerAll = StateNo=1223 && time=7
TriggerAll = P2Bodydist X=[-5,60]
Trigger1 = var(48)=2
Trigger2 = PlayerID(var(58)),Movetype=H
Trigger2 = PlayerID(var(58)),StateNo =[120,155]

;---------------------------------------------------------------------------
[State -1, 連環腿２撃目(弱強兼用)];高さ低い/1200-1201(受付)-1205-1202(終了)
type = ChangeState
value = 1205
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype = A
triggerAll = Vel Y < -1
trigger1 = StateNo=1203 && time=7
Trigger1 = var(48)=2 || (PlayerID(var(58)),Movetype=H && PlayerID(var(58)),StateNo =[120,155])
Trigger2 = StateNo=1213 && time=7
Trigger2 = var(48)=2

;===========================================================================
;		特殊?え -鳳?-
;(stateno = [200,210]) || (stateno = [220,230]) && movecontact
;===========================================================================
[State -1, 鳳?の?え];全体56F(2000-2001)
type = ChangeState
value = 2000
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !(var(59)>=4&&Life/LifeMax<.5)
Trigger1 = var(48)=1 && var(59)>=2
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8) !=[0,61]
Trigger1 = StateNo=225||StateNo=230;遠立小足
Trigger1 = Movehit=1
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8) !=[0,80]
Trigger2 = StateNo=225;遠立小足
Trigger2 = Moveguarded=2
Trigger2 = Random<50+Var(59)*10

;---------------------------------------------------------------------------
[State -1, 鳳?解除(a)]
type = ChangeState
value = 2010
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2001
Trigger1 = var(48)=0 && InguardDist
Trigger2 = P2Bodydist X>100
Trigger2 = Time>35

;---------------------------------------------------------------------------
[State -1, 鳳?→アッパ?(x)];ヒット時P2StateNo=2110
type = ChangeState
value = 2020
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2001
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*5) =[0,40]
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Random<200+Var(59)*20

;---------------------------------------------------------------------------
[State -1, 鳳?→残影拳(y)];ワイヤ?P2stateNo=700-701-702-703-5100
type = ChangeState
value = 2040
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2001
trigger1 = var(48)=[1,2]
trigger1 = Time=[1,2]
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8) =[70,100]
trigger1 = Random<100

;---------------------------------------------------------------------------
[State -1, 鳳?→連環腿(b)];2200→2220(受)→2210→2211-1038
type = ChangeState
value = 1210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2001
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[0,40]
Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-70,-28]
Trigger1 = PlayerID(var(58)),Statetype =A
;Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Random<200+Var(59)*50

;---------------------------------------------------------------------------
[State -1, 鳳?→連環腿2(繋ぎ)]
type = null;ChangeState
value = 1205
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =1210 && time>=7
Trigger1 = var(48)=2

;===========================================================================
;		特殊?え -シェ?-
;(stateno = [200,210]) || (stateno = [220,230]) && movecontact
;===========================================================================
[State -1, 鶴翼の?え];全体68F(2500-2501)
type = ChangeState
value = 2100
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = var(48)=1 && var(59)>=2
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[0,60]
Trigger1 = StateNo=225;遠立小足
Trigger1 = Movehit=1
Trigger2 = !(var(59)>=4&&Life/LifeMax<.5)
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[0,60]
Trigger2 = StateNo=225;遠立小足
Trigger2 = Moveguarded=1
Trigger2 = Random<Var(59)*10

;---------------------------------------------------------------------------
[State -1, 鶴翼解除(a)]
type = ChangeState
value = 2110
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2501
Trigger1 = var(48)=0 && InguardDist
Trigger2 = Time>30

;---------------------------------------------------------------------------
[State -1, 鶴翼→開打(x)]
type = ChangeState
value = 2130
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2501
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*5)=[0,40]
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Random<200+Var(59)*20

;---------------------------------------------------------------------------
[State -1, 鶴翼→鞭打(y)]
type = ChangeState
value = 2120
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =2501
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)>70
Trigger1 = !InguardDist
Trigger1 = PlayerID(Var(58)),Statetype=A
Trigger1 = P2Dist Y+Floor(PlayerID(var(58)),Vel Y*8+fvar(10)*32)=[-90,-33]

;---------------------------------------------------------------------------
[State -1, 鶴翼→三連脚(b)Act1]
;?え派生用三連脚?→2800-2801(受付)-2802-2803(受付)-2804
type = ChangeState
value = 1710
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = StateNo =2501
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[0,70]
Trigger1 = var(48)=[1,2]
Trigger1 = PlayerID(var(58)),Animtime<=-6

;---------------------------------------------------------------------------
[State -1, 鶴翼→三連脚(b)Act2]
;?え派生用三連脚?→2800-2801(受付)-2802-2803(受付)-2804
type = null;ChangeState
value = 1711
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =1710 && time>=7
trigger1 = var(48)=[1,2]

;---------------------------------------------------------------------------
[State -1, 鶴翼→三連脚(b)Act3]
;?え派生用三連脚?→2800-2801(受付)-2802-2803(受付)-2804
type = null;ChangeState
value = 1712
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
triggerAll = StateNo =1711 && time>=7
trigger1 = var(48)=[1,2]

;===========================================================================
;		ゲ?ジ技関連
;---------------------------------------------------------------------------
;stateno=1030||stateno=1100||stateno=1110||stateno=1120||stateno =1200||stateno=1210
;stateno=1220||stateno=1301||stateno=1311||stateno=1321||stateno =2210||stateno=2700
;(StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230)&&MoveContact
;(StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505)&&MoveContact
;---------------------------------------------------------------------------
; オ?ラのみ必殺技キャンセル不可
;===========================================================================
[State -1, オ?ラLV3];(削り?メ?ジ150)/AttackDist延長済(320)/始動8F無敵
;全画面/BD-/発生29F/被G+3/全体-
type = ChangeState
value = 4200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = var(59)>=3
TriggerAll = power >= 3000
TriggerAll = statetype != A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = P2Bodydist X>100
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Hitdefattr=SC,AP
Trigger1 = PlayerID(var(58)),Movetype=A
Trigger1 = PlayerID(var(58)),Time=[10-(var(59)*2),15-(var(59)*2)]
Trigger1 = Gametime%2=0
Trigger1 = Random<50+var(59)*15

;---------------------------------------------------------------------------
[State -1, オ?ラLV2];(削り?メ?ジ90)/AttackDist延長済(320)/始動8F無敵
;全画面/BD-/発生61F/被G-2/全体-
type = ChangeState
value = 4100
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = var(59)>=3
TriggerAll = power >= 2000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Power<3000
Trigger1 = P2Bodydist X>100
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Hitdefattr=SC,AP
Trigger1 = PlayerID(var(58)),Movetype=A
Trigger1 = PlayerID(var(58)),Time=[10-(var(59)*2),15-(var(59)*2)]
Trigger1 = Gametime%3=0
Trigger1 = Random<50+var(59)*15
Trigger2 = Teammode = Simul && Numpartner
Trigger2 = Partner,P2Bodydist X+30<P2Bodydist X
Trigger2 = Enemy,Numproj>0
Trigger2 = P2Bodydist X>=100
Trigger2 = Random>50+var(59)*20;?ッグ時ぶっぱ

;---------------------------------------------------------------------------
[State -1, オ?ラLV1];(削り?メ?ジ60)/AttackDist延長済(320)/始動4F無敵
;全画面/BD-/発生61F/被G-2/全体-/→stateno=4010(Helper攻撃→4011)
type = ChangeState
value = 4000
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = power >= 1000
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = Power<2000
Trigger1 = P2Bodydist X>100
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Hitdefattr=SC,AP
Trigger1 = PlayerID(var(58)),Movetype=A
Trigger1 = PlayerID(var(58)),Time=[10-(var(59)*2),15-(var(59)*2)]
;Trigger1 = Gametime%2=0
Trigger1 = Random<50+var(59)*15
Trigger2 = Teammode = Simul && Numpartner
Trigger2 = Partner,P2Bodydist X+30<P2Bodydist X
Trigger2 = Enemy,Numproj>0
Trigger2 = P2Bodydist X>=100
Trigger2 = Random>50+var(59)*20;?ッグ時ぶっぱ

;===========================================================================
;		通常必殺技関連
;---------------------------------------------------------------------------
;(StateNo=200||StateNo=210||StateNo=215||StateNo=220||StateNo=230)&&MoveContact
;(StateNo=400||StateNo=410||StateNo=420||StateNo=500||StateNo=505)&&MoveContact
;幽霊砲は別口でキャンセル条件有
;===========================================================================
[State -1, EX幽霊砲(ぶっぱ)]
;Ghost/BD前/飛び道具/?横6Hit/発生12F/全体40F/追撃可/始動10F無敵
type = ChangeState
value = 1020
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
Triggerall = var(10)!=2 && Numhelper(1021)=0 && Numhelper(2221)=0 ||var(10)=2 && Numhelper(1021)=0
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Power>=1250
TriggerAll = var(59)>=3
TriggerAll = !InguardDist
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Vel X<1
Trigger1 = P2Bodydist X>=120
Trigger1 = Gametime%4=1
Trigger1 = Random<50+var(59)*15
Trigger2 = Teammode = Simul && Numpartner
Trigger2 = Partner,P2Bodydist X+30<P2Bodydist X
Trigger2 = P2Bodydist X>=100
Trigger2 = Random>20+var(59)*5;?ッグ時ぶっぱ

;---------------------------------------------------------------------------
[State -1, 強幽霊砲(ぶっぱ)]
;Ghost/BD前/飛び道具/波/発生27F/全体68F
type = ChangeState
value = 1010
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
Triggerall = var(10)!=2 && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||var(10)=2 && Numhelper(1016)=0
TriggerAll = statetype != A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(59)>=3
TriggerAll = !InguardDist
TriggerAll = Numhelper(111111) && Numhelper(111112)
TriggerAll = (Helper(111111),Rootdist X>60 && Facing=1)||(Helper(111112),Rootdist X>60 && Facing=-1)
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Vel X<1
Trigger1 = P2Bodydist X=[100,180]
Trigger1 = Gametime%5=3
Trigger1 = Random<50+var(59)*12
Trigger2 = Teammode = Simul && Numpartner
Trigger2 = Partner,P2Bodydist X+30<P2Bodydist X
Trigger2 = P2Bodydist X>=100
Trigger2 = Random>20+var(59)*5;?ッグ時ぶっぱ

;---------------------------------------------------------------------------
[State -1, 弱幽霊砲(ぶっぱ)]
;Ghost/BD前/飛び道具/?横/発生27F/全体68F
type = ChangeState
value = 1000
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
Triggerall = var(10)!=2 && Numhelper(1006)=0 && Numhelper(1016)=0 && Numhelper(1021)=0 && Numhelper(1031)=0 && Numhelper(2211)=0 && Numhelper(2221)=0 ||var(10)=2 && Numhelper(1006)=0
TriggerAll = statetype != A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(59)>=3
TriggerAll = !InguardDist
TriggerAll = Numhelper(111111) && Numhelper(111112)
TriggerAll = (Helper(111111),Rootdist X>60 && Facing=1)||(Helper(111112),Rootdist X>60 && Facing=-1)
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Vel X<1
Trigger1 = P2Bodydist X=[60,100]
Trigger1 = Gametime%5=1
Trigger1 = Random<50+var(59)*12
Trigger2 = Teammode = Simul && Numpartner
Trigger2 = Partner,P2Bodydist X+30<P2Bodydist X
Trigger2 = P2Bodydist X>=100
Trigger2 = Random>20+var(59)*5;?ッグ時ぶっぱ

;---------------------------------------------------------------------------
[State -1, EX掌底(ぶっぱ)]
;中段突き/BD250/発生23F/被G-1~-12F/全体42F/始動10F無敵
type = ChangeState
value = 1120
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = var(59)<=3
TriggerAll = !NumProj
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Numproj=0
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[90,110]
Trigger1 = ctrl
Trigger1 = Gametime%3=0 && Random<30+var(59)*10

;---------------------------------------------------------------------------
[State -1, 強掌底(ぶっぱ)]
;中段突き/BD130/発生20F/被G-1~-12F/全体41F
type = ChangeState
value = 1110
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = var(59)<=2
TriggerAll = !NumProj
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(var(58)),Numproj=0
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[90,110]
Trigger1 = ctrl
Trigger1 = Gametime%3=0 && Random<30+var(59)*10

;---------------------------------------------------------------------------
[State -1, EX開打]
;前後両手/BD36/発生18F/被G-10/全体50F/始動10F無敵
type = ChangeState
value = 1320
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl
Trigger1 = var(59)=1
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[-2,35]
Trigger1 = Random<66-(InguardDist)*20

;---------------------------------------------------------------------------
[State -1, 強開打(ぶっぱ)]
;前後両手/BD36/発生17F/被G-14/全体51F
type = ChangeState
value = 1310
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl
Trigger1 = var(59)=1
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[-2,35]
Trigger1 = Random<66-(InguardDist)*20

;---------------------------------------------------------------------------
[State -1, 弱開打]
;前後両手/BD36/発生16F/被G-3/全体37F
type = ChangeState
value = 1300
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl
Trigger1 = var(59)=2
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[20,35]
Trigger1 = Random<110-(InguardDist)*50

;---------------------------------------------------------------------------
; フリッカ?
;---------------------------------------------------------------------------
;(x)/stateNo=1400 && Animelemtime(2)>=0 && fvar(17)=1 → StateNo=1420
;(y)/stateNo=1400 && Animelemtime(2)>=0 && fvar(17)=2 → StateNo=1430
;(b)/stateNo=1400 && Animelemtime(2)>=0 && var(6)=1   → StateNo=1410(解除)
;---------------------------------------------------------------------------
[State -1, フリッカ?(ぶっぱ)];AttackDist延長済(220)
;x/?横 /BD180/発生13F/被G-6F/全体36F/Stateno=1420/fvar(17)=1(溜め)
;y/斜め上/BD90/発生11F/被G-8F/全体35F/Stateno=1430/fvar(17)=2(溜め)
;押しっぱなしで?メ可?/?メ中a,bで解除(ニュ?トラル)Stateno=1410→0
type = ChangeState
value = 1400
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = ctrl
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*13)=[90,170]
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Vel X<3
Trigger1 = PlayerID(var(58)),Numproj=0
Trigger1 = Gametime%5<=2
Trigger1 = Random<30+var(59)*22
Trigger1 = var(47):=1

;---------------------------------------------------------------------------
[State -1, EX肘突進];ワイヤ?P2stateNo=700-701-702-703-5100
;上段ぽい肘/BD200/発生16F/被G-21F/全体65F/ヒット時ワイヤ?/始動10F無敵
type = ChangeState
value = 1620
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj
TriggerAll = power >= ifelse((Palno>6),300,500)
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X=[60,130]
Trigger1 = PlayerID(var(58)),Movetype=A
Trigger1 = PlayerID(var(58)),Numproj>=1
Trigger1 = Gametime%3=0 && Random<40+var(59)*10

;---------------------------------------------------------------------------
[State -1, 強肘突進];ワイヤ?P2stateNo=700-701-702-703-5100
;上段ぽい肘/BD200/発生30F/被G-11F/全体69F/ヒット時ワイヤ?
type = ChangeState
value = 1610
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = !NumProj && var(59)=1
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = !InguardDist
Trigger1 = PlayerID(var(58)),Numproj=0
Trigger1 = P2Bodydist X=[30,140]
Trigger1 = Gametime%3=1 && Random<77

;===========================================================================
;		地上特殊技関連
;===========================================================================
[State -1, 瓦割り];プレイヤ?殺し
;中段?きつけ/BD 42(~50)/発生14(17)F/被G-16F/全体41F
type = ChangeState
value = 500
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Statetype != A
TriggerAll = Ctrl||((StateNo=[120,140])&&StateNo!=132)
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(48)=0
trigger1 = (var(59)>=5 && !InguardDist)||var(59)<=4
Trigger1 = PlayerID(Var(58)),Statetype !=A
Trigger1 = P2Bodydist X=[33,42]
trigger1 = Gametime%3=0
trigger1 = Random<50+var(59)*12

;---------------------------------------------------------------------------
[State -1, 吹っ飛ばし(肩)]
;鉄山こ?/BD73/発生7F/被G-18F/全体51F
type = ChangeState
value = 300
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = statetype != A && ctrl
TriggerAll = var(48)=0
Trigger1 = Numhelper(111111) && Numhelper(111112)
Trigger1 = (Helper(111111),Rootdist X>80 && Facing=1)||(Helper(111112),Rootdist X>80 && Facing=-1)
Trigger1 = var(59)<=3
trigger1 = (var(59)>=5 && !InguardDist)||var(59)<=4
Trigger1 = P2Bodydist X=[45,65]
trigger1 = Gametime%5=2
trigger1 = Random<50-var(59)*10

;===========================================================================
;		地上基?技関連
;===========================================================================
[State -1, 弱パン?]
;立ち弱P/BD 48/発生3F/いつでもガ?ド可/被G+5F/全体-(しゃがみに当たらず)
type = ChangeState
value = 200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = statetype != A
TriggerAll = ctrl||((StateNo=[120,140])&&StateNo!=132)
TriggerAll = var(48)=0
TriggerAll = var(50)<=3
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-5,40]
;Trigger1 = (var(59)>=4&&!InguardDist)||var(59)<=3
;Trigger1 = Gametime%2=0
Trigger1 = Random<100+Var(59)*50

;---------------------------------------------------------------------------
[State -1, 弱キック(近)]
;(近)立ちロ?/BD23/発生3F/いつでも/被G+22F/全体-
type = ChangeState
value = 220
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X<23
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = statetype != A
TriggerAll = ctrl||((StateNo=[120,140])&&StateNo!=132)
TriggerAll = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-3,22]
Trigger1 = (var(59)>=4&&!InguardDist)||var(59)<=3
Trigger1 = Gametime%3=1&&Random<100+Var(59)*40
Trigger2 = var(48)=1
Trigger2 = StateNo=220 && Movehit

;---------------------------------------------------------------------------
[State -1, 弱キック(遠)]
;(遠)長いロ?/BD90/発生7F/被G0F/全体17F
type = ChangeState
value = 225
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X>=23
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = statetype != A
TriggerAll = var(48)=0
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[45,88]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Gametime%3=0&&Random<120+Var(59)*55

;---------------------------------------------------------------------------
[State -1, 強パン?(近)]
;(近)肘/BD23/発生6F/被G-2F/全体36F
type = ChangeState
value = 210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X<23
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[-2,20]
Trigger1 = Random<30+Var(59)*10 && Gametime%3=2 && var(59)<=2
Trigger2 = var(48)=1
Trigger2 = StateNo=200||StateNo=220||StateNo=400||StateNo=420
Trigger2 = MoveHit=1 && (Random<500+Var(59)*100)
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*6)=[5,18]

;---------------------------------------------------------------------------
[State -1, 強パン?(遠)]
;(遠)上段正拳/BD82/発生8F/被G-8F/全体36F(しゃがみに当たらず)
type = ChangeState
value = 215
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
;TriggerAll = P2Bodydist X>=23
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(50)<=3
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*5)=[28,66]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Gametime%3=0&&Random<50+Var(59)*22
Trigger2 = var(48)=1
Trigger2 = StateNo=200||StateNo=220||StateNo=420
Trigger2 = MoveHit=1 && (Random<500+Var(59)*100)
Trigger2 = PlayerID(var(58)),Statetype=S
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[13,77]
;打?が高いので?ェ?ンには心許ない

;---------------------------------------------------------------------------
[State -1, 強キック(遠)]
;(遠)?ドル/BD75/発生8F/被G-7F/全体29F(しゃがみに当たらず)
type = ChangeState
value = 235
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X>=23
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(50)<=3
Trigger1 = var(48)=0 && Life/LifeMax>.3
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)=[40,72]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Gametime%2=1&&Random<50+Var(59)*21
Trigger2 = var(48)=1
Trigger2 = StateNo=200||StateNo=220||StateNo=400||StateNo=420
Trigger2 = MoveHit=1
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*8)<=68

;---------------------------------------------------------------------------
[State -1, 屈弱パン?]
;BD38/発生3F/被G+5/全体-/Stateno420 && Movecontact可
type = ChangeState
value = 400
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[-1,35]
Trigger1 = (var(59)>=4&&!InguardDist)||var(59)<=3
Trigger1 = Random<50+Var(59)*15+((Random%2)*50)

;---------------------------------------------------------------------------
[State -1, しゃがみ強パン]
;2段裏拳/BD12/発生7F/被G-2F/全体41
type = ChangeState
value = 410
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*7)=[-2,11]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Gametime%3=1&&Random<55+Var(59)*10
Trigger2 = var(48)=1
Trigger2 = Numhelper(111111) && Numhelper(111112)
Trigger2 = (Helper(111111),Rootdist X<50 && Facing=1)||(Helper(111112),Rootdist X<50 && Facing=-1)
Trigger2 = StateNo=200||StateNo=220||StateNo=400||StateNo=420
Trigger2 = MoveHit=1; && (Random<500+Var(59)*100)

;---------------------------------------------------------------------------
[State -1, しゃがみ弱キック]
;小足/BD49/発生3F/被G-4F/全体17
type = ChangeState
value = 420
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*3)=[5,47]
Trigger1 = var(48)=0 && Life/LifeMax>.4
Trigger1 = Numhelper(111111) && Numhelper(111112)
Trigger1 = (Helper(111111),Rootdist X<60 && Facing=1)||(Helper(111112),Rootdist X<60 && Facing=-1)
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Gametime%3=1&&Random<55+Var(59)*10
Trigger2 = stateno=420 && movecontact
Trigger2 = PlayerID(Var(58)),Movetype=H

;---------------------------------------------------------------------------
[State -1, しゃがみ強キック]
;小足/BD48/発生14F/被G-21F/全体45/後ろにも判定
type = ChangeState
value = 430
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = var(59)<=3
Trigger1 = var(48)=0
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[0,45]
Trigger1 = Gametime%3=2&&Random<55+Var(59)*10
Trigger2 = stateno=420 && movecontact
Trigger2 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*10)=[0,45]
Trigger2 = PlayerID(Var(58)),Movetype=H

;---------------------------------------------------------------------------
[State -1, 強キック(近)]
;(近)膝/BD23/発生9F/被G-5F/全体29F
type = ChangeState
value = 230
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = P2Bodydist X<23
TriggerAll = statetype != A
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = var(59)<=2
Trigger1 = var(48)=0
Trigger1 = ctrl||((StateNo=[120,140])&&StateNo!=132)
Trigger1 = P2Bodydist X-Ceil(PlayerID(var(58)),Vel X*4)=[-1,22]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Random<30+Var(59)*10 && Gametime%3=2 && var(59)<=2
;Trigger2 = var(48)=1
;Trigger2 = StateNo=200||StateNo=220||StateNo=400||StateNo=420
;Trigger2 = MoveHit=1

;===========================================================================
;		空中隙突き関連
;===========================================================================
[State -1, 前後空中弱キック(空中用隙突き）]
;横足/BD60/発生4F/着地+5F
;(stateno = 605 || stateno = 625) && animelem = 2, >= 8
;(stateno = 610 || StateNo = 635) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 625
TriggerAll = var(59)>3 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X !=0
TriggerAll = Statetype = A
TriggerAll = Ctrl || StateNo=132 || (StateNo=156 && Ctrl)
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*4)=[-10,70]
TriggerAll = P2Dist Y-Floor(Vel Y*4+Const(Movement.Yaccel)*8-PlayerID(var(58)),Vel Y*4-fvar(10)*8)=[0,40]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = PlayerID(var(58)),Animtime<=-4
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=[1,2]
Trigger3 = StateNo=132 || (StateNo=156 && Ctrl)
Trigger3 = PlayerID(var(58)),Movetype=A
Trigger3 = PlayerID(var(58)),Hitdefattr !=SCA,HA

;---------------------------------------------------------------------------
[State -1, 垂直空中強キック]
;?きつけ足/下に強い/BD53/発生8F/着地+15F
;(stateno = 600 || StateNo = 620 ) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 630
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X =0
TriggerAll = Statetype = A
TriggerAll = Ctrl || StateNo=132 || (StateNo=156 && Ctrl)
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*4)=[-10,70]
TriggerAll = P2Dist Y-Floor(Vel Y*8+Const(Movement.Yaccel)*32-PlayerID(var(58)),Vel Y*8-fvar(10)*32)=[-10,50]
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = !PlayerID(var(58)),Ctrl
TriggerAll = PlayerID(var(58)),Animtime<=-8
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = PlayerID(var(58)),Movetype=I
Trigger1 = PlayerID(var(58)),StateNo>=200
Trigger2 = var(48)=[1,2]
Trigger3 = StateNo=132 || (StateNo=156 && Ctrl)
Trigger3 = PlayerID(var(58)),Movetype=A
Trigger3 = PlayerID(var(58)),Hitdefattr !=SCA,HA

;===========================================================================
;		空中基?技関連
;===========================================================================
[State -1, 空中ふっ飛ばし(功夫蹴)];LV制限
;空中特蹴/BD 53/発生5F/被G+12/全体-/キャンセル移行不可
type = ChangeState
value = 305
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*5)=[-4,55]
TriggerAll = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*5+fvar(10)*12.5)=[-20,25]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = var(59)<=3
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = Random<50+Var(59)*5

;---------------------------------------------------------------------------
[State -1, 垂直空中弱パン];LV制限
;多少下に手刀/BD24/発生4F/着地+4F
;stateno = 600 && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 600
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X=0
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*4)=[-4,22]
TriggerAll = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*4+fvar(10)*8)=[-10,22]
Trigger1 = var(59)<=3
Trigger1 = PlayerID(var(58)),Statetype=A||(PlayerID(var(58)),Statetype!=A && Vel Y>0)
Trigger1 = Random<50+Var(59)*20

;---------------------------------------------------------------------------
[State -1, 前後空中弱パン];LV制限
;横に手刀/BD40/発生4F/着地+4F
;stateno = 605 && animelem = 2, >= 8
type = ChangeState
value = 605
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X !=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*4)=[-4,38]
TriggerAll = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*4+fvar(10)*8)=[-10,22]
Trigger1 = var(59)<=2
Trigger1 = PlayerID(var(58)),Statetype=A||(PlayerID(var(58)),Statetype!=A && Vel Y>0)
Trigger1 = Random<50+Var(59)*30

;---------------------------------------------------------------------------
[State -1, 垂直空中強パン];LV制限
;下突き/BD33/発生6F/着地+11F
;(stateno = 600 || StateNo = 620 ) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 615
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X=0
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*6)=[-4,32]
TriggerAll = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*6+fvar(10)*18)=[-10,33]
Trigger1 = var(59)<=2
Trigger1 = PlayerID(var(58)),Statetype=A||(PlayerID(var(58)),Statetype!=A && Vel Y>0)
Trigger1 = Random<55+Var(59)*10

;---------------------------------------------------------------------------
[State -1, 前後空中強パン];LV制限
;?きつけ/BD44/発生10F/着地+10F
;stateno = 605 && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 610
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X !=0
TriggerAll = Statetype = A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*10)=[-4,48]
Trigger1 = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*10+fvar(10)*50)=[0,38]
Trigger1 = var(48)=0 && var(59)<=3
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = Random<50+Var(59)*10
Trigger2 = var(48)=0
Trigger2 = !InguardDist && var(59)<=4
Trigger2 = PlayerID(var(58)),Statetype!=A && Vel Y>0
Trigger2 = P2Dist Y-Floor(Vel Y*10+Const(Movement.Yaccel)*50)=[20,40]
Trigger2 = Random<123+var(59)*56
Trigger3 = var(59)<=4
Trigger3 = P2Dist Y-Floor(Vel Y*10+Const(Movement.Yaccel)*50)=[0,35]
Trigger3 = var(48)=[1,2]
Trigger3 = StateNo=625 && MoveHit=1 && Random<300


;---------------------------------------------------------------------------
[State -1, 垂直空中弱キック]
;小膝/BD20/発生4F/着地+2F
;(stateno = 600 || StateNo = 620 ) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 620
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X=0
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0||var(48)=2||var(48)=5||var(48)=6
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*5)=[-4,19]
TriggerAll = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*4+fvar(10)*8)=[-10,35]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = (PlayerID(var(58)),Statetype!=A && Vel Y>0)
Trigger1 = Random<50+Var(59)*50

;---------------------------------------------------------------------------
[State -1, 前後空中弱キック]
;横足/BD60/発生4F/着地+5F
;(stateno = 605 || stateno = 625) && animelem = 2, >= 8
;(stateno = 610 || StateNo = 635) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 625
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X !=0
TriggerAll = Statetype = A && Ctrl
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*4)=[-10,70]
Trigger1 = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*4+fvar(10)*8)=[0,40]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = Random<111+Var(59)*44
Trigger2 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger2 = PlayerID(var(58)),Statetype!=A && Vel Y>0
Trigger2 = (var(47)=0 && P2Dist Y-Floor(Vel Y*4+Const(Movement.Yaccel)*8)=[33,54])||(var(47)>=1 && P2Dist Y-Floor(Vel Y*4+Const(Movement.Yaccel)*8)=[0,38])
Trigger2 = Random<123+var(59)*78

;---------------------------------------------------------------------------
[State -1, 垂直空中強キック]
;?きつけ足/下に強い/BD53/発生8F/着地+15F
;(stateno = 600 || StateNo = 620 ) && (animelem = 2, >= 8||Movehit)
type = ChangeState
value = 630
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X =0
TriggerAll = Statetype = A && Ctrl
Triggerall = var(48)=0
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*8)=[-4,50]
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = (PlayerID(var(58)),Statetype!=A && Vel Y>0)
Trigger1 = Random<222+Var(59)*33

;---------------------------------------------------------------------------
[State -1, 空中強キック]
;強横足/BD65/発生5F/着地+12F
;stateno = 605 && (animelem = 2, >= 8||Mvehit)
type = ChangeState
value = 635
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel X !=0
TriggerAll = PlayerID(var(58)),Statetype !=L
Trigger1 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger1 = Ctrl
Trigger1 = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*5)=[-4,70]
Trigger1 = P2Dist Y+Floor((PlayerID(var(58)),Vel Y-Vel Y)*5+fvar(10)*12.5)=[0,50]
Trigger1 = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype=A
Trigger1 = Random<234+Var(59)*67
Trigger2 = (var(59)>=5&&!InguardDist)||var(59)<=4
Trigger2 = var(48)=0
Trigger2 = Ctrl
Trigger2 = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*5)=[-4,70]
Trigger2 = PlayerID(var(58)),Statetype!=A && Vel Y>0
Trigger2 = P2Dist Y-Floor(Vel Y*5+Const(Movement.Yaccel)*12.5)=[2,48]
Trigger2 = Random<223+var(59)*56
Trigger3 = P2Bodydist X+Ceil((Vel X-PlayerID(var(58)),Vel X)*5)=[-30,70]
Trigger3 = P2Dist Y-Floor(Vel Y*5+Const(Movement.Yaccel)*12.5)=[2,48]
Trigger3 = StateNo=625 && MoveContact
Trigger3 = PlayerID(var(58)),Movetype=H

;===========================================================================
;		ジャンプ関連
;===========================================================================
[State -1, ジャンプ]
type = ChangeState
value = 39
triggerall = var(59) > 0 && roundState = 2 && Alive && !Ishelper
triggerall = statetype != A
Triggerall = Ctrl || StateNo=100 || StateNo=[120,140]
triggerall = var(48)=0
trigger1 = P2Bodydist X=[70,160]
trigger1 = PlayerID(var(58)),Statetype !=L
trigger1 = PlayerID(var(58)),Statetype !=A
trigger1 = PlayerID(var(58)),Vel X<2
trigger1 = Random<50+var(59)*15+(PLayerID(var(58)),numproj)*100
trigger1 = var(47):=0+ifelse(P2Bodydist X<90,2,0)||1
trigger2 = PLayerID(var(58)),numproj>=1
trigger2 = PlayerID(var(58)),Statetype !=L
trigger2 = Gametime%2=0
trigger2 = P2Bodydist X>100
trigger2 = Random<250+(PLayerID(var(58)),numproj)*100+var(59)*40
trigger3 = var(47):=0||1;1+Ifelse(PlayerID(var(58)),Movetype=A,1,Ifelse(P2Bodydist X<150,1,0))
trigger3 = P2Bodydist X<30
trigger3 = Numhelper(111111) && NumHelper(111112)
trigger3 = (Helper(111111),Rootdist X>60 && Facing=1)&&(Helper(111112),Rootdist X>60 && Facing=-1)
trigger3 = PlayerID(var(58)),Statetype =L
trigger3 = Random<100+var(59)*10+Ifelse(FrontEdgeBodydist<50,-150,Ifelse(BackEdgeBodydist<50,50,0))
trigger4 = P2Bodydist X<=50;小足見て小ジャン
trigger4 = PlayerID(var(58)),Statetype !=A
trigger4 = PlayerID(var(58)),Statetype !=L
trigger4 = FrontEdgeBodyDist>=40
trigger4 = PlayerID(var(58)),Movetype=A
trigger4 = PlayerID(var(58)),Statetype=C
trigger4 = PlayerID(var(58)),Time<=2
trigger4 = PlayerID(var(58)),Hitdefattr= C,NA,SA
trigger4 = Random<50+var(59)*10
trigger4 = var(47):=2

;===========================================================================
;		地上移動関連
;===========================================================================
[State -1, Run Fwd]
type = ChangeState
value = 100
Triggerall = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
triggerall = statetype != A
triggerall = ctrl
triggerall = var(48)=0
triggerall = stateno !=[100,106]
triggerall = PlayerID(Var(58)),Statetype !=L
triggerall = !PlayerID(var(58)),Numproj
Triggerall = Numhelper(111111) && Numhelper(111112)
Triggerall = (Helper(111111),Rootdist X>80 && Facing=1)||(Helper(111112),Rootdist X>80 && Facing=-1)
trigger1 = P2BodyDist X=[80,110]
trigger1 = PlayerID(var(58)),Statetype !=A
trigger1 = Random<var(59)*5+(P2Bodydist X)
trigger2 = PlayerID(var(58)),Vel X<3
trigger2 = PlayerID(var(58)),Movetype = A
trigger2 = P2BodyDist X>=130
trigger2 = !InguardDist
trigger2 = Random<30+var(59)*15
trigger3 = P2BodyDist X>150
trigger3 = PlayerID(var(58)),Statetype !=A
trigger3 = !InguardDist
Trigger3 = Gametime%3=0
trigger3 = Random<(P2Bodydist X-100)*5+var(59)*10

;---------------------------------------------------------------------------
[State -1, Run Back];普通に走り
type = ChangeState
value = 105
Triggerall = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
triggerall = Statetype != A
triggerall = Stateno !=[100,106]
triggerall = BackEdgeBodyDist >50
triggerall = var(48)=0
triggerall = ctrl
trigger1 = P2BodyDist X=[-10,30]
trigger1 = PlayerID(var(58)),Statetype =L
trigger1 = !PlayerID(var(58)),Numproj
trigger1 = Random<30+var(59)*15 && Gametime%2=0
trigger2 = P2BodyDist X=[40,70]
trigger2 = PlayerID(var(58)),Statetype !=L
trigger2 = PlayerID(var(58)),Statetype =A
trigger2 = !PlayerID(var(58)),Numproj
trigger2 = Random<30+var(59)*5 && Gametime%3=1

;---------------------------------------------------------------------------
[State -1, 前?]
type = ChangeState
value = 165
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype !=A
Trigger1 = P2Bodydist X-Floor(PlayerID(var(58)),Vel X*3)=[55,122]
Trigger1 = Gametime%5<=Random%2
Trigger1 = Random<22+(P2Bodydist X)*2+var(59)*15+(PlayerID(var(58)),Numproj)*88
Trigger2 = P2Bodydist X=[-30,30]
Trigger2 = P2Bodydist Y<-160
Trigger2 = PlayerID(var(58)),Vel Y>3
Trigger2 = PlayerID(var(58)),Movetype=A
Trigger2 = FrontEdgeBodyDist>50
Trigger2 = Random<100+Var(59)*20
Trigger3 = Numhelper(111111) && Numhelper(111112)
Trigger3 = (Helper(111111),Rootdist X<50 && Facing=-1)||(Helper(111112),Rootdist X<50 && Facing=1)
Trigger3 = Random<50+Var(59)*20

;---------------------------------------------------------------------------
[State -1, 後?]
type = ChangeState
value = 160
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
Triggerall = statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = BackEdgeBodydist>50
TriggerAll = var(48)=0
Trigger1 = PlayerID(var(58)),Statetype=L
Trigger1 = PlayerID(Var(58)),StateNo=[5200,5210]
Trigger1 = PlayerID(Var(58)),Time<=3
Trigger1 = Random<30+var(59)*15
Trigger2 = P2Bodydist X=[-30,30]
Trigger2 = P2Bodydist Y<-160
Trigger2 = PlayerID(var(58)),Vel Y>3
Trigger2 = PlayerID(var(58)),Movetype=A
Trigger2 = Random<100+Var(59)*20

;---------------------------------------------------------------------------
[State -1, 見切れ防?_前後?]
type = ChangeState
value = 160+Ifelse(BackEdgeBodydist<FrontEdgeBodydist,5,0)
TriggerAll = var(59)>0 && Alive && !Ishelper && Numenemy
TriggerAll = !PlayerID(var(58)),Alive
TriggerAll = Statetype != A
TriggerAll = Ctrl || ((StateNo=[120,140])&&StateNo!=132)
TriggerAll = Roundstate>=3
Trigger1 = FrontEdgeBodydist<30
Trigger2 = BackEdgeBodydist<30

;===========================================================================
;		挑発
;===========================================================================
[State -1, 挑発];おたんこなす/全体92F
type = ChangeState
value = 198
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = PlayerID(var(58)),Statetype !=L
TriggerAll = PlayerID(Var(58)),Statetype !=A
TriggerAll = PlayerID(Var(58)),Vel X<1
TriggerAll = PlayerID(Var(58)),numproj=0
TriggerAll = !InguardDist
TriggerAll = Statetype != A
Triggerall = var(48)=0
TriggerAll = Ctrl
Trigger1 = Life>PlayerID(Var(58)),Life
Trigger1 = P2Bodydist X>=180
Trigger1 = Gametime%5=0&&Random%99>=96

;===========================================================================
;		歩行
;===========================================================================
[State -1, 歩行]
type = ChangeState
value = 20
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = statetype != A
TriggerAll = Statetype != L
TriggerAll = Ctrl
Triggerall = StateNo !=200||StateNo !=220||StateNo !=400
Trigger1 = PlayerID(var(58)),Vel X<2
Trigger1 = P2BodyDist X>20
Trigger1 = !Inguarddist
Trigger2 = P2Bodydist X>=60
Trigger3 = P2Bodydist X<=30
Trigger3 = PLayerID(var(58)),Statetype =L
Trigger4 = PlayerID(var(58)),Statetype =A
Trigger4 = PlayerID(var(58)),movetype = H
Trigger4 = P2Bodydist Y<-40
Trigger4 = PlayerID(var(58)),stateNo !=[120,155]

;===========================================================================
;		受け身
;===========================================================================
[State -1,空中受身]
Type = ChangeState
Value = 5210
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel Y > -1
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = StateNo = 5050
Trigger1 = var(59)>=3
Trigger1 = Random < var(59)*15
Trigger2 = StateNo = 5050
Trigger2 = PlayerID(var(58)),MoveType = A || InGuardDist
Trigger2 = PlayerID(var(58)),Time <= 16
Trigger2 = Random < 100+var(59)*20

;---------------------------------------------------------------------------
[State -1,地上受身]
type = ChangeState
value = 5200
TriggerAll = var(59)>0 && RoundState=2 && Alive && !Ishelper && Numenemy
TriggerAll = Vel Y > 0
TriggerAll = Pos Y >= -20
TriggerAll = CanRecover
Trigger1 = StateNo = 5050
Trigger1 = var(59)>=3
Trigger1 = Random < var(59)*15
Trigger2 = StateNo = 5050
Trigger2 = PlayerID(var(58)),MoveType = A || InGuardDist
Trigger2 = PlayerID(var(58)),Time <= 16
Trigger2 = Random < 200+var(59)*40

;===========================================================================
; Silvan's Var List
;===========================================================================
;var(47) Frikker Checker || Jump Type Checker
;var(48) Enemy Hitpause Checker
;var(49) Guard Counter
;var(50) Small Size Checker
;var(51) Walking Checker
;var(52) Guard State Memory 1
;var(53) Guard State Memory 2
;var(54) Guard State Memory 3
;var(55) Guard State Memory 4
;var(56) Guard State Memory 5
;var(57) Guard State Memory 6
;var(58) Tag Enemy Rock
;var(59) Silvan AI Switch
;===========================================================================



