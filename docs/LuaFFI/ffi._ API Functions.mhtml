From: <Saved by Blink>
Snapshot-Content-Location: http://luajit.org/ext_ffi_api.html
Subject: ffi.* API Functions
Date: Tue, 21 Oct 2025 11:30:42 -0400
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ----"


------MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ----
Content-Type: text/html
Content-ID: <frame-C5E63C34960B337CA795C3FC14B6925D@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: http://luajit.org/ext_ffi_api.html

<!DOCTYPE html><html><head><meta http-equiv=3D"Content-Type" content=3D"tex=
t/html; charset=3DUTF-8"><link rel=3D"stylesheet" type=3D"text/css" href=3D=
"cid:css-9d0ca587-65dc-4a5a-ae4e-bd2ea277fbbc@mhtml.blink" />
<title>ffi.* API Functions</title>

<meta name=3D"Copyright" content=3D"Copyright (C) 2005-2025">
<meta name=3D"Language" content=3D"en">
<link rel=3D"stylesheet" type=3D"text/css" href=3D"http://luajit.org/bluequ=
ad.css" media=3D"screen">
<link rel=3D"stylesheet" type=3D"text/css" href=3D"http://luajit.org/bluequ=
ad-print.css" media=3D"print">
<meta name=3D"viewport" content=3D"width=3Ddevice-width, initial-scale=3D1,=
 maximum-scale=3D1.5">


</head>
<body>
<div id=3D"site">
<a href=3D"https://luajit.org/"><span>Lua<span id=3D"logo">JIT</span></span=
></a>
</div>
<div id=3D"head">
<h1><tt>ffi.*</tt> API Functions</h1>
</div>
<div id=3D"nav">
<ul><li>
<a href=3D"http://luajit.org/index.html">Home</a>
</li><li>
<a href=3D"http://luajit.org/luajit.html">LuaJIT</a>
<ul><li>
<a href=3D"http://luajit.org/download.html">Download =E2=87=A9</a>
</li><li>
<a href=3D"http://luajit.org/install.html">Installation</a>
</li><li>
<a href=3D"http://luajit.org/running.html">Running</a>
</li></ul>
</li><li>
<a href=3D"http://luajit.org/extensions.html">Extensions</a>
<ul><li>
<a href=3D"http://luajit.org/ext_ffi.html">FFI Library</a>
<ul><li>
<a href=3D"http://luajit.org/ext_ffi_tutorial.html">FFI Tutorial</a>
</li><li>
<a class=3D"current" href=3D"http://luajit.org/ext_ffi_api.html">ffi.* API<=
/a>
</li><li>
<a href=3D"http://luajit.org/ext_ffi_semantics.html">FFI Semantics</a>
</li></ul>
</li><li>
<a href=3D"http://luajit.org/ext_buffer.html">String Buffers</a>
</li><li>
<a href=3D"http://luajit.org/ext_jit.html">jit.* Library</a>
</li><li>
<a href=3D"http://luajit.org/ext_c_api.html">Lua/C API</a>
</li><li>
<a href=3D"http://luajit.org/ext_profiler.html">Profiler</a>
</li></ul>
</li><li>
<a href=3D"http://luajit.org/status.html">Status</a>
</li><li>
<a href=3D"http://luajit.org/faq.html">FAQ</a>
</li><li>
<a href=3D"http://luajit.org/list.html">Mailing List</a>
</li><li>
<a href=3D"http://luajit.org/sponsors.html">Sponsors</a>
</li></ul>
</div>
<div id=3D"main">
<p>
This page describes the API functions provided by the FFI library in
detail. It's recommended to read through the
<a href=3D"http://luajit.org/ext_ffi.html">introduction</a> and the
<a href=3D"http://luajit.org/ext_ffi_tutorial.html">FFI tutorial</a> first.
</p>

<h2 id=3D"glossary">Glossary</h2>
<ul>
<li><b>cdecl</b> =E2=80=94 An abstract C&nbsp;type declaration (a Lua
string).</li>
<li><b>ctype</b> =E2=80=94 A C&nbsp;type object. This is a special kind of
<b>cdata</b> returned by <tt>ffi.typeof()</tt>. It serves as a
<b>cdata</b> <a href=3D"http://luajit.org/ext_ffi_api.html#ffi_new">constru=
ctor</a> when called.</li>
<li><b>cdata</b> =E2=80=94 A C&nbsp;data object. It holds a value of the
corresponding <b>ctype</b>.</li>
<li><b>ct</b> =E2=80=94 A C&nbsp;type specification which can be used for
most of the API functions. Either a <b>cdecl</b>, a <b>ctype</b> or a
<b>cdata</b> serving as a template type.</li>
<li><b>cb</b> =E2=80=94 A callback object. This is a C&nbsp;data object
holding a special function pointer. Calling this function from
C&nbsp;code runs an associated Lua function.</li>
<li><b>VLA</b> =E2=80=94 A variable-length array is declared with a
<tt>?</tt> instead of the number of elements, e.g. <tt>"int[?]"</tt>.
The number of elements (<tt>nelem</tt>) must be given when it's
<a href=3D"http://luajit.org/ext_ffi_api.html#ffi_new">created</a>.</li>
<li><b>VLS</b> =E2=80=94 A variable-length struct is a <tt>struct</tt> C
type where the last element is a <b>VLA</b>. The same rules for
declaration and creation apply.</li>
</ul>

<h2 id=3D"decl">Declaring and Accessing External Symbols</h2>
<p>
External symbols must be declared first and can then be accessed by
indexing a <a href=3D"http://luajit.org/ext_ffi_semantics.html#clib">C&nbsp=
;library
namespace</a>, which automatically binds the symbol to a specific
library.
</p>

<h3 id=3D"ffi_cdef"><tt>ffi.cdef(def)</tt></h3>
<p>
Adds multiple C&nbsp;declarations for types or external symbols (named
variables or functions). <tt>def</tt> must be a Lua string. It's
recommended to use the syntactic sugar for string arguments as
follows:
</p>
<pre class=3D"code">ffi.cdef[[
<span style=3D"color:#00a000;">typedef struct foo { int a, b; } foo_t;  // =
Declare a struct and typedef.
int dofoo(foo_t *f, int n);  /* Declare an external C function. */</span>
]]
</pre>
<p>
The contents of the string (the part in green above) must be a
sequence of
<a href=3D"http://luajit.org/ext_ffi_semantics.html#clang">C&nbsp;declarati=
ons</a>,
separated by semicolons. The trailing semicolon for a single
declaration may be omitted.
</p>
<p>
Please note, that external symbols are only <em>declared</em>, but they
are <em>not bound</em> to any specific address, yet. Binding is
achieved with C&nbsp;library namespaces (see below).
</p>
<p style=3D"color: #c00000;">
C&nbsp;declarations are not passed through a C&nbsp;pre-processor,
yet. No pre-processor tokens are allowed, except for
<tt>#pragma&nbsp;pack</tt>. Replace <tt>#define</tt> in existing
C&nbsp;header files with <tt>enum</tt>, <tt>static&nbsp;const</tt>
or <tt>typedef</tt> and/or pass the files through an external
C&nbsp;pre-processor (once). Be careful not to include unneeded or
redundant declarations from unrelated header files.
</p>

<h3 id=3D"ffi_C"><tt>ffi.C</tt></h3>
<p>
This is the default C&nbsp;library namespace =E2=80=94 note the
uppercase <tt>'C'</tt>. It binds to the default set of symbols or
libraries on the target system. These are more or less the same as a
C&nbsp;compiler would offer by default, without specifying extra link
libraries.
</p>
<p>
On POSIX systems, this binds to symbols in the default or global
namespace. This includes all exported symbols from the executable and
any libraries loaded into the global namespace. This includes at least
<tt>libc</tt>, <tt>libm</tt>, <tt>libdl</tt> (on Linux),
<tt>libgcc</tt> (if compiled with GCC), as well as any exported
symbols from the Lua/C&nbsp;API provided by LuaJIT itself.
</p>
<p>
On Windows systems, this binds to symbols exported from the
<tt>*.exe</tt>, the <tt>lua51.dll</tt> (i.e. the Lua/C&nbsp;API
provided by LuaJIT itself), the C&nbsp;runtime library LuaJIT was linked
with (<tt>msvcrt*.dll</tt>), <tt>kernel32.dll</tt>,
<tt>user32.dll</tt> and <tt>gdi32.dll</tt>.
</p>

<h3 id=3D"ffi_load"><tt>clib =3D ffi.load(name [,global])</tt></h3>
<p>
This loads the dynamic library given by <tt>name</tt> and returns
a new C&nbsp;library namespace which binds to its symbols. On POSIX
systems, if <tt>global</tt> is <tt>true</tt>, the library symbols are
loaded into the global namespace, too.
</p>
<p>
If <tt>name</tt> is a path, the library is loaded from this path.
Otherwise <tt>name</tt> is canonicalized in a system-dependent way and
searched in the default search path for dynamic libraries:
</p>
<p>
On POSIX systems, if the name contains no dot, the extension
<tt>.so</tt> is appended. Also, the <tt>lib</tt> prefix is prepended
if necessary. So <tt>ffi.load("z")</tt> looks for <tt>"libz.so"</tt>
in the default shared library search path.
</p>
<p>
On Windows systems, if the name contains no dot, the extension
<tt>.dll</tt> is appended. So <tt>ffi.load("ws2_32")</tt> looks for
<tt>"ws2_32.dll"</tt> in the default DLL search path.
</p>

<h2 id=3D"create">Creating cdata Objects</h2>
<p>
The following API functions create cdata objects (<tt>type()</tt>
returns <tt>"cdata"</tt>). All created cdata objects are
<a href=3D"http://luajit.org/ext_ffi_semantics.html#gc">garbage collected</=
a>.
</p>

<h3 id=3D"ffi_new"><tt>cdata =3D ffi.new(ct [,nelem] [,init...])<br>
cdata =3D <em>ctype</em>([nelem,] [init...])</tt></h3>
<p>
Creates a cdata object for the given <tt>ct</tt>. VLA/VLS types
require the <tt>nelem</tt> argument. The second syntax uses a ctype as
a constructor and is otherwise fully equivalent.
</p>
<p>
The cdata object is initialized according to the
<a href=3D"http://luajit.org/ext_ffi_semantics.html#init">rules for initial=
izers</a>,
using the optional <tt>init</tt> arguments. Excess initializers cause
an error.
</p>
<p>
Performance notice: if you want to create many objects of one kind,
parse the cdecl only once and get its ctype with
<tt>ffi.typeof()</tt>. Then use the ctype as a constructor repeatedly.
</p>
<p style=3D"font-size: 8pt;">
Please note, that an anonymous <tt>struct</tt> declaration implicitly
creates a new and distinguished ctype every time you use it for
<tt>ffi.new()</tt>. This is probably <b>not</b> what you want,
especially if you create more than one cdata object. Different anonymous
<tt>structs</tt> are not considered assignment-compatible by the
C&nbsp;standard, even though they may have the same fields! Also, they
are considered different types by the JIT-compiler, which may cause an
excessive number of traces. It's strongly suggested to either declare
a named <tt>struct</tt> or <tt>typedef</tt> with <tt>ffi.cdef()</tt>
or to create a single ctype object for an anonymous <tt>struct</tt>
with <tt>ffi.typeof()</tt>.
</p>

<h3 id=3D"ffi_typeof"><tt>ctype =3D ffi.typeof(ct)</tt></h3>
<p>
Creates a ctype object for the given <tt>ct</tt>.
</p>
<p>
This function is especially useful to parse a cdecl only once and then
use the resulting ctype object as a <a href=3D"http://luajit.org/ext_ffi_ap=
i.html#ffi_new">constructor</a>.
</p>

<h3 id=3D"ffi_cast"><tt>cdata =3D ffi.cast(ct, init)</tt></h3>
<p>
Creates a scalar cdata object for the given <tt>ct</tt>. The cdata
object is initialized with <tt>init</tt> using the "cast" variant of
the <a href=3D"http://luajit.org/ext_ffi_semantics.html#convert">C&nbsp;typ=
e conversion
rules</a>.
</p>
<p>
This functions is mainly useful to override the pointer compatibility
checks or to convert pointers to addresses or vice versa.
</p>

<h3 id=3D"ffi_metatype"><tt>ctype =3D ffi.metatype(ct, metatable)</tt></h3>
<p>
Creates a ctype object for the given <tt>ct</tt> and associates it with
a metatable. Only <tt>struct</tt>/<tt>union</tt> types, complex numbers
and vectors are allowed. Other types may be wrapped in a
<tt>struct</tt>, if needed.
</p>
<p>
The association with a metatable is permanent and cannot be changed
afterwards. Neither the contents of the <tt>metatable</tt> nor the
contents of an <tt>__index</tt> table (if any) may be modified
afterwards. The associated metatable automatically applies to all uses
of this type, no matter how the objects are created or where they
originate from. Note that predefined operations on types have
precedence (e.g. declared field names cannot be overridden).
</p>
<p>
All standard Lua metamethods are implemented. These are called directly,
without shortcuts, and on any mix of types. For binary operations, the
left operand is checked first for a valid ctype metamethod. The
<tt>__gc</tt> metamethod only applies to <tt>struct</tt>/<tt>union</tt>
types and performs an implicit <a href=3D"http://luajit.org/ext_ffi_api.htm=
l#ffi_gc"><tt>ffi.gc()</tt></a>
call during creation of an instance.
</p>

<h3 id=3D"ffi_gc"><tt>cdata =3D ffi.gc(cdata, finalizer)</tt></h3>
<p>
Associates a finalizer with a pointer or aggregate cdata object. The
cdata object is returned unchanged.
</p>
<p>
This function allows safe integration of unmanaged resources into the
automatic memory management of the LuaJIT garbage collector. Typical
usage:
</p>
<pre class=3D"code">local p =3D ffi.gc(ffi.C.malloc(n), ffi.C.free)
...
p =3D nil -- Last reference to p is gone.
-- GC will eventually run finalizer: ffi.C.free(p)
</pre>
<p>
A cdata finalizer works like the <tt>__gc</tt> metamethod for userdata
objects: when the last reference to a cdata object is gone, the
associated finalizer is called with the cdata object as an argument. The
finalizer can be a Lua function or a cdata function or cdata function
pointer. An existing finalizer can be removed by setting a <tt>nil</tt>
finalizer, e.g. right before explicitly deleting a resource:
</p>
<pre class=3D"code">ffi.C.free(ffi.gc(p, nil)) -- Manually free the memory.
</pre>

<h2 id=3D"info">C&nbsp;Type Information</h2>
<p>
The following API functions return information about C&nbsp;types.
They are most useful for inspecting cdata objects.
</p>

<h3 id=3D"ffi_sizeof"><tt>size =3D ffi.sizeof(ct [,nelem])</tt></h3>
<p>
Returns the size of <tt>ct</tt> in bytes. Returns <tt>nil</tt> if
the size is not known (e.g. for <tt>"void"</tt> or function types).
Requires <tt>nelem</tt> for VLA/VLS types, except for cdata objects.
</p>

<h3 id=3D"ffi_alignof"><tt>align =3D ffi.alignof(ct)</tt></h3>
<p>
Returns the minimum required alignment for <tt>ct</tt> in bytes.
</p>

<h3 id=3D"ffi_offsetof"><tt>ofs [,bpos,bsize] =3D ffi.offsetof(ct, field)</=
tt></h3>
<p>
Returns the offset (in bytes) of <tt>field</tt> relative to the start
of <tt>ct</tt>, which must be a <tt>struct</tt>. Additionally returns
the position and the field size (in bits) for bit fields.
</p>

<h3 id=3D"ffi_istype"><tt>status =3D ffi.istype(ct, obj)</tt></h3>
<p>
Returns <tt>true</tt> if <tt>obj</tt> has the C&nbsp;type given by
<tt>ct</tt>. Returns <tt>false</tt> otherwise.
</p>
<p>
C&nbsp;type qualifiers (<tt>const</tt> etc.) are ignored. Pointers are
checked with the standard pointer compatibility rules, but without any
special treatment for <tt>void&nbsp;*</tt>. If <tt>ct</tt> specifies a
<tt>struct</tt>/<tt>union</tt>, then a pointer to this type is accepted,
too. Otherwise the types must match exactly.
</p>
<p>
Note: this function accepts all kinds of Lua objects for the
<tt>obj</tt> argument, but always returns <tt>false</tt> for non-cdata
objects.
</p>

<h2 id=3D"util">Utility Functions</h2>

<h3 id=3D"ffi_errno"><tt>err =3D ffi.errno([newerr])</tt></h3>
<p>
Returns the error number set by the last C&nbsp;function call which
indicated an error condition. If the optional <tt>newerr</tt> argument
is present, the error number is set to the new value and the previous
value is returned.
</p>
<p>
This function offers a portable and OS-independent way to get and set the
error number. Note that only <em>some</em> C&nbsp;functions set the error
number. And it's only significant if the function actually indicated an
error condition (e.g. with a return value of <tt>-1</tt> or
<tt>NULL</tt>). Otherwise, it may or may not contain any previously set
value.
</p>
<p>
You're advised to call this function only when needed and as close as
possible after the return of the related C&nbsp;function. The
<tt>errno</tt> value is preserved across hooks, memory allocations,
invocations of the JIT compiler and other internal VM activity. The same
applies to the value returned by <tt>GetLastError()</tt> on Windows, but
you need to declare and call it yourself.
</p>

<h3 id=3D"ffi_string"><tt>str =3D ffi.string(ptr [,len])</tt></h3>
<p>
Creates an interned Lua string from the data pointed to by
<tt>ptr</tt>.
</p>
<p>
If the optional argument <tt>len</tt> is missing, <tt>ptr</tt> is
converted to a <tt>"char&nbsp;*"</tt> and the data is assumed to be
zero-terminated. The length of the string is computed with
<tt>strlen()</tt>.
</p>
<p>
Otherwise <tt>ptr</tt> is converted to a <tt>"void&nbsp;*"</tt> and
<tt>len</tt> gives the length of the data. The data may contain
embedded zeros and need not be byte-oriented (though this may cause
endianess issues).
</p>
<p>
This function is mainly useful to convert (temporary)
<tt>"const&nbsp;char&nbsp;*"</tt> pointers returned by
C&nbsp;functions to Lua strings and store them or pass them to other
functions expecting a Lua string. The Lua string is an (interned) copy
of the data and bears no relation to the original data area anymore.
Lua strings are 8&nbsp;bit clean and may be used to hold arbitrary,
non-character data.
</p>
<p>
Performance notice: it's faster to pass the length of the string, if
it's known. E.g. when the length is returned by a C&nbsp;call like
<tt>sprintf()</tt>.
</p>

<h3 id=3D"ffi_copy"><tt>ffi.copy(dst, src, len)<br>
ffi.copy(dst, str)</tt></h3>
<p>
Copies the data pointed to by <tt>src</tt> to <tt>dst</tt>.
<tt>dst</tt> is converted to a <tt>"void&nbsp;*"</tt> and <tt>src</tt>
is converted to a <tt>"const void&nbsp;*"</tt>.
</p>
<p>
In the first syntax, <tt>len</tt> gives the number of bytes to copy.
Caveat: if <tt>src</tt> is a Lua string, then <tt>len</tt> must not
exceed <tt>#src+1</tt>.
</p>
<p>
In the second syntax, the source of the copy must be a Lua string. All
bytes of the string <em>plus a zero-terminator</em> are copied to
<tt>dst</tt> (i.e. <tt>#src+1</tt> bytes).
</p>
<p>
Performance notice: <tt>ffi.copy()</tt> may be used as a faster
(inlinable) replacement for the C&nbsp;library functions
<tt>memcpy()</tt>, <tt>strcpy()</tt> and <tt>strncpy()</tt>.
</p>

<h3 id=3D"ffi_fill"><tt>ffi.fill(dst, len [,c])</tt></h3>
<p>
Fills the data pointed to by <tt>dst</tt> with <tt>len</tt> constant
bytes, given by <tt>c</tt>. If <tt>c</tt> is omitted, the data is
zero-filled.
</p>
<p>
Performance notice: <tt>ffi.fill()</tt> may be used as a faster
(inlinable) replacement for the C&nbsp;library function
<tt>memset(dst,&nbsp;c,&nbsp;len)</tt>. Please note the different
order of arguments!
</p>

<h2 id=3D"target">Target-specific Information</h2>

<h3 id=3D"ffi_abi"><tt>status =3D ffi.abi(param)</tt></h3>
<p>
Returns <tt>true</tt> if <tt>param</tt> (a Lua string) applies for the
target ABI (Application Binary Interface). Returns <tt>false</tt>
otherwise. The following parameters are currently defined:
</p>
<table class=3D"abitable">
<tbody><tr class=3D"abihead">
<td class=3D"abiparam">Parameter</td>
<td class=3D"abidesc">Description</td>
</tr>
<tr class=3D"odd separate">
<td class=3D"abiparam">32bit</td><td class=3D"abidesc">32 bit architecture<=
/td></tr>
<tr class=3D"even">
<td class=3D"abiparam">64bit</td><td class=3D"abidesc">64 bit architecture<=
/td></tr>
<tr class=3D"odd separate">
<td class=3D"abiparam">le</td><td class=3D"abidesc">Little-endian architect=
ure</td></tr>
<tr class=3D"even">
<td class=3D"abiparam">be</td><td class=3D"abidesc">Big-endian architecture=
</td></tr>
<tr class=3D"odd separate">
<td class=3D"abiparam">fpu</td><td class=3D"abidesc">Target has a hardware =
FPU</td></tr>
<tr class=3D"even">
<td class=3D"abiparam">softfp</td><td class=3D"abidesc">softfp calling conv=
entions</td></tr>
<tr class=3D"odd">
<td class=3D"abiparam">hardfp</td><td class=3D"abidesc">hardfp calling conv=
entions</td></tr>
<tr class=3D"even separate">
<td class=3D"abiparam">eabi</td><td class=3D"abidesc">EABI variant of the s=
tandard ABI</td></tr>
<tr class=3D"odd">
<td class=3D"abiparam">win</td><td class=3D"abidesc">Windows variant of the=
 standard ABI</td></tr>
<tr class=3D"even">
<td class=3D"abiparam">pauth</td><td class=3D"abidesc">Pointer authenticati=
on ABI</td></tr>
<tr class=3D"odd">
<td class=3D"abiparam">uwp</td><td class=3D"abidesc">Universal Windows Plat=
form</td></tr>
<tr class=3D"even">
<td class=3D"abiparam">gc64</td><td class=3D"abidesc">64 bit GC references<=
/td></tr>
</tbody></table>

<h3 id=3D"ffi_os"><tt>ffi.os</tt></h3>
<p>
Contains the target OS name. Same contents as
<a href=3D"http://luajit.org/ext_jit.html#jit_os"><tt>jit.os</tt></a>.
</p>

<h3 id=3D"ffi_arch"><tt>ffi.arch</tt></h3>
<p>
Contains the target architecture name. Same contents as
<a href=3D"http://luajit.org/ext_jit.html#jit_arch"><tt>jit.arch</tt></a>.
</p>

<h2 id=3D"callback">Methods for Callbacks</h2>
<p>
The C&nbsp;types for <a href=3D"http://luajit.org/ext_ffi_semantics.html#ca=
llback">callbacks</a>
have some extra methods:
</p>

<h3 id=3D"callback_free"><tt>cb:free()</tt></h3>
<p>
Free the resources associated with a callback. The associated Lua
function is unanchored and may be garbage collected. The callback
function pointer is no longer valid and must not be called again
(it may be reused by a subsequently created callback).
</p>

<h3 id=3D"callback_set"><tt>cb:set(func)</tt></h3>
<p>
Associate a new Lua function with a callback. The C&nbsp;type of the
callback and the callback function pointer are unchanged.
</p>
<p>
This method is useful to dynamically switch the receiver of callbacks
without creating a new callback each time and registering it again (e.g.
with a GUI library).
</p>

<h2 id=3D"extended">Extended Standard Library Functions</h2>
<p>
The following standard library functions have been extended to work
with cdata objects:
</p>

<h3 id=3D"tonumber"><tt>n =3D tonumber(cdata)</tt></h3>
<p>
Converts a number cdata object to a <tt>double</tt> and returns it as
a Lua number. This is particularly useful for boxed 64&nbsp;bit
integer values. Caveat: this conversion may incur a precision loss.
</p>

<h3 id=3D"tostring"><tt>s =3D tostring(cdata)</tt></h3>
<p>
Returns a string representation of the value of 64&nbsp;bit integers
(<tt><b>"</b>nnn<b>LL"</b></tt> or <tt><b>"</b>nnn<b>ULL"</b></tt>) or
complex numbers (<tt><b>"</b>re=C2=B1im<b>i"</b></tt>). Otherwise
returns a string representation of the C&nbsp;type of a ctype object
(<tt><b>"ctype&lt;</b>type<b>&gt;"</b></tt>) or a cdata object
(<tt><b>"cdata&lt;</b>type<b>&gt;:&nbsp;</b>address"</tt>), unless you
override it with a <tt>__tostring</tt> metamethod (see
<a href=3D"http://luajit.org/ext_ffi_api.html#ffi_metatype"><tt>ffi.metatyp=
e()</tt></a>).
</p>

<h3 id=3D"pairs"><tt>iter, obj, start =3D pairs(cdata)<br>
iter, obj, start =3D ipairs(cdata)<br></tt></h3>
<p>
Calls the <tt>__pairs</tt> or <tt>__ipairs</tt> metamethod of the
corresponding ctype.
</p>

<h2 id=3D"literals">Extensions to the Lua Parser</h2>
<p>
The parser for Lua source code treats numeric literals with the
suffixes <tt>LL</tt> or <tt>ULL</tt> as signed or unsigned 64&nbsp;bit
integers. Case doesn't matter, but uppercase is recommended for
readability. It handles decimal (<tt>42LL</tt>), hexadecimal
(<tt>0x2aLL</tt>) and binary (<tt>0b101010LL</tt>) literals.
</p>
<p>
The imaginary part of complex numbers can be specified by suffixing
number literals with <tt>i</tt> or <tt>I</tt>, e.g. <tt>12.5i</tt>.
Caveat: you'll need to use <tt>1i</tt> to get an imaginary part with
the value one, since <tt>i</tt> itself still refers to a variable
named <tt>i</tt>.
</p>
<br class=3D"flush">
</div>
<div id=3D"foot">
<hr class=3D"hide">
Copyright =C2=A9 2005-2025
<span class=3D"noprint">
=C2=B7
<a href=3D"http://luajit.org/contact.html">Contact =E2=80=93 IMPRESSUM</a>
</span>
</div>


</body></html>
------MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: http://luajit.org/bluequad-print.css

@charset "utf-8";

body { font-family: serif; font-size: 11pt; margin: 0px 3em; padding: 0px; =
border: none; }

a:link, a:visited, a:hover, a:active { text-decoration: none; background: t=
ransparent; color: rgb(0, 0, 255); }

h1, h2, h3 { font-family: sans-serif; font-weight: bold; text-align: left; =
margin: 0.5em 0px; padding: 0px; }

h1 { font-size: 200%; }

h2 { font-size: 150%; }

h3 { font-size: 125%; }

p { margin: 0px 0px 0.5em; padding: 0px; }

ul, ol { margin: 0.5em 0px; padding: 0px 0px 0px 2em; }

ul { list-style: outside square; }

ol { list-style: outside decimal; }

li { margin: 0px; padding: 0px; }

dl { margin: 1em 0px; padding: 1em; border: 1px solid black; }

dt { font-weight: bold; margin: 0px; padding: 0px; }

dt sup { float: right; margin-left: 1em; }

dd { margin: 0.5em 0px 0px 2em; padding: 0px; }

table { table-layout: fixed; width: 100%; margin: 1em 0px; padding: 0px; bo=
rder: 1px solid black; border-spacing: 0px; border-collapse: collapse; }

tr { margin: 0px; padding: 0px; border: none; }

td { text-align: left; margin: 0px; padding: 0.2em 0.5em; border-top: 1px s=
olid black; border-bottom: 1px solid black; }

tr.separate td { border-top: double; }

tt, pre, code, kbd, samp { font-family: monospace; font-size: 75%; }

kbd { font-weight: bolder; }

blockquote, pre { margin: 1em 2em; padding: 0px; }

img { border: none; vertical-align: baseline; margin: 0px; padding: 0px; }

img.left { float: left; margin: 0.5em 1em 0.5em 0px; }

img.right { float: right; margin: 0.5em 0px 0.5em 1em; }

.flush { clear: both; visibility: hidden; }

.hide, .noprint, #nav { display: none !important; }

.pagebreak { break-before: page; }

#site { text-align: right; font-family: sans-serif; font-weight: bold; marg=
in: 0px 1em; border-bottom: 1pt solid black; }

#site a { font-size: 1.2em; }

#site a:link, #site a:visited { text-decoration: none; font-weight: bold; b=
ackground: transparent; color: rgb(255, 255, 255); }

#logo { color: rgb(255, 128, 0); }

#head { clear: both; margin: 0px 1em; }

#main { line-height: 1.3; text-align: justify; margin: 1em; }

#foot { clear: both; font-size: 80%; text-align: center; margin: 0px 1.25em=
; padding: 0.5em 0px 0px; border-top: 1pt solid black; break-before: avoid;=
 break-after: avoid; }
------MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: http://luajit.org/bluequad.css

@charset "utf-8";

body { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt;=
 margin: 0px; padding: 0px; border: none; background: rgb(224, 224, 224); c=
olor: rgb(0, 0, 0); }

a:link { text-decoration: none; background: transparent; color: rgb(33, 66,=
 191); }

a:visited { text-decoration: none; background: transparent; color: rgb(129,=
 34, 191); }

a:hover, a:active { text-decoration: underline; background: transparent; co=
lor: rgb(255, 0, 0); }

h1, h2, h3 { font-weight: bold; text-align: left; margin: 0.5em 0px; paddin=
g: 0px; background: transparent; }

h1 { font-size: 200%; line-height: 3em; margin: 0px; }

h2 { font-size: 150%; color: rgb(96, 96, 96); }

h3 { font-size: 125%; color: rgb(64, 64, 64); }

p { max-width: 600px; margin: 0px 0px 0.5em; padding: 0px; }

b { color: rgb(64, 64, 64); }

ul, ol { max-width: 600px; margin: 0.5em 0px; padding: 0px 0px 0px 2em; }

ul { list-style: outside square; }

ol { list-style: outside decimal; }

li { margin: 0px; padding: 0px; }

dl { max-width: 600px; margin: 1em 0px; padding: 1em; border: 1px solid rgb=
(191, 207, 255); background: rgb(240, 244, 255); }

dt { font-weight: bold; margin: 0px; padding: 0px; }

dt sup { float: right; margin-left: 1em; color: rgb(128, 128, 128); }

dt a:visited { text-decoration: none; color: rgb(33, 66, 191); }

dt a:hover, dt a:active { text-decoration: none; color: rgb(255, 0, 0); }

dd { margin: 0.5em 0px 0px 2em; padding: 0px; }

div.tablewrap { max-width: 600px; }

table { table-layout: fixed; border-spacing: 0px; border-collapse: collapse=
; max-width: 600px; width: 100%; margin: 1em 0px; padding: 0px; border: 1px=
 solid rgb(191, 207, 255); }

tr { margin: 0px; padding: 0px; border: none; }

tr.odd { background: rgb(240, 244, 255); }

tr.separate td { border-top: 1px solid rgb(191, 207, 255); }

td { text-align: left; margin: 0px; padding: 0.2em 0.5em; border: none; }

tt, code, kbd, samp { font-family: "Courier New", Courier, monospace; line-=
height: 1.2; font-size: 110%; }

kbd { font-weight: bolder; }

blockquote, pre { max-width: 600px; margin: 1em 2em; padding: 0px; }

pre { line-height: 1.1; }

pre.code { line-height: 1.4; margin: 0.5em 0px 1em 0.5em; padding: 0.5em 1e=
m; border: 1px solid rgb(191, 207, 255); background: rgb(240, 244, 255); }

pre.mark { padding-left: 2em; }

span.codemark { position: absolute; left: 16em; color: rgb(64, 64, 192); }

span.mark { color: rgb(64, 64, 192); font-family: "Courier New", Courier, m=
onospace; line-height: 1.1; }

img { border: none; vertical-align: baseline; margin: 0px; padding: 0px; }

img.left { float: left; margin: 0.5em 1em 0.5em 0px; }

img.right { float: right; margin: 0.5em 0px 0.5em 1em; }

.indent { padding-left: 1em; }

.flush { clear: both; visibility: hidden; }

.hide, .noscreen { display: none !important; }

.ext { color: rgb(255, 128, 0); }

.note { padding: 0.5em 1em; border-left: 3px solid rgb(191, 207, 255); }

#site { clear: both; float: left; width: 13em; text-align: center; font-wei=
ght: bold; margin: 0px; padding: 0px; background: transparent; color: rgb(2=
55, 255, 255); }

#site a { font-size: 200%; }

#site a:link, #site a:visited { text-decoration: none; font-weight: bold; b=
ackground: transparent; color: rgb(255, 255, 255); }

#site span { line-height: 3em; }

#logo { color: rgb(255, 179, 128); }

#head { margin: 0px; padding: 0px 0px 0px 2em; border-left: 13em solid rgb(=
65, 98, 191); border-right: 3em solid rgb(96, 120, 191); background: rgb(96=
, 120, 191); color: rgb(230, 236, 255); }

#nav { clear: both; float: left; overflow: hidden; text-align: left; line-h=
eight: 1.5; width: 13em; padding-top: 1em; background: transparent; }

#nav ul { list-style: outside none; margin: 0px; padding: 0px; }

#nav li { margin: 0px; padding: 0px; }

#nav a { display: block; text-decoration: none; font-weight: bold; margin: =
0px; padding: 2px 1em; border-top: 1px solid transparent; border-bottom: 1p=
x solid transparent; background: transparent; color: rgb(33, 66, 191); }

#nav a:hover, #nav a:active { text-decoration: none; border-top: 1px solid =
rgb(151, 167, 215); border-bottom: 1px solid rgb(230, 236, 255); background=
: rgb(185, 201, 249); color: rgb(255, 0, 0); }

#nav a.current, #nav a.current:hover, #nav a.current:active { border-top: 1=
px solid rgb(230, 236, 255); border-bottom: 1px solid rgb(151, 167, 215); b=
ackground: rgb(197, 213, 255); color: rgb(33, 66, 191); }

#nav ul ul a { padding: 0px 1em 0px 1.7em; }

#nav ul ul ul a { padding: 0px 0.5em 0px 2.4em; }

#main { line-height: 1.5; text-align: left; margin: 0px; padding: 1em 2em; =
border-left: 13em solid rgb(191, 207, 255); border-right: 3em solid rgb(230=
, 236, 255); background: rgb(230, 236, 255); }

#foot { clear: both; font-size: 80%; text-align: center; margin: 0px; paddi=
ng: 0.5em; background: rgb(96, 120, 191); color: rgb(255, 255, 255); }

#foot a:link, #foot a:visited { text-decoration: underline; background: tra=
nsparent; color: rgb(255, 255, 255); }

#foot a:hover, #foot a:active { text-decoration: underline; background: tra=
nsparent; color: rgb(191, 207, 255); }
------MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-9d0ca587-65dc-4a5a-ae4e-bd2ea277fbbc@mhtml.blink

@charset "utf-8";

table.abitable { width: 30em; line-height: 1.2; }

tr.abihead td { font-weight: bold; }

td.abiparam { font-weight: bold; width: 6em; }
------MultipartBoundary--ys9glye0utqlU4hCyfNERN16RvFk141UiWivVDYZpQ------
